<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>awesome-blogroll</title>
  <subtitle>An awesome list and aggregate feed of blogs from some of the best people, companies and communities in software.</subtitle>
  <link href="https://wcerfgba.github.io/awesome-blogroll"/>
  <entry>
    <title>October Meetups | Papers We Love</title>
    <content type="html">&lt;p&gt;We have another great line-up of meet-ups scheduled for October across a number of our chapters:&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Vienna 10&#x2F;2&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Vienna&#x2F;events&#x2F;242952984&#x2F;&quot;&gt;October: Bitcoin&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Chattanooga 10&#x2F;3&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Chattanooga&#x2F;events&#x2F;243650192&#x2F;&quot;&gt;Jacob Kobernik on Blockchain: A Graph Primer&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Göteborg 10&#x2F;5&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Gothenburg&#x2F;events&#x2F;243458363&#x2F;&quot;&gt;Dan Rosén on &amp;quot;Algebraic Effects&amp;quot; at TimeEdit&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Seattle 10&#x2F;5&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Seattle&#x2F;events&#x2F;242431931&#x2F;&quot;&gt;PWL #36: Deep Speech&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;San Diego 10&#x2F;5&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-San-Diego&#x2F;events&#x2F;241581472&#x2F;&quot;&gt;HyperLogLog in Practice: Algorithmic Engineering of a State of The Art…&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;New York  10&#x2F;9&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;papers-we-love&#x2F;events&#x2F;242066112&#x2F;&quot;&gt;Jessie Frazelle on SCONE: Secure Linux Containers with Intel SGX &amp;amp; a PWLMini&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Columbus 10&#x2F;11&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Columbus&#x2F;events&#x2F;243568135&#x2F;&quot;&gt;Papers We Love Book Club: The Dawn of Software Engineering&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Toronto 10&#x2F;11&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Toronto&#x2F;events&#x2F;243723651&#x2F;&quot;&gt;#23 Yawar Amin on Lightweight Static Capabilities&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;London 10&#x2F;19&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-London&#x2F;events&#x2F;243775403&#x2F;&quot;&gt;Simon Peyton Jones: &amp;quot;Getting from A to B: fast route-finding on slow computers&amp;quot;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Columbus 10&#x2F;25&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Columbus&#x2F;events&#x2F;tcnwxmywnbhc&#x2F;&quot;&gt;Papers We Love Book Club: The Dawn of Software Engineering&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Fairfax 10&#x2F;25&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-DC-NoVA&#x2F;events&#x2F;241227602&#x2F;&quot;&gt;Recursive Functions of Symbolic Expressions and Their Computation by Machine&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Denver 10&#x2F;26&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Denver&#x2F;events&#x2F;fgbdrmywnbjc&#x2F;&quot;&gt;TBD, but probably an awesome paper :-)&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Denver 10&#x2F;26&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Denver&#x2F;events&#x2F;239936931&#x2F;&quot;&gt;Harry Brumleve -&amp;gt; A Universal Modular Actor Formalism for AI&lt;&#x2F;a&gt;
 &lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;The &lt;strong&gt;New York Chapter&lt;&#x2F;strong&gt; would like to give special thanks to our Platinum sponsor &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.twosigma.com&quot;&gt;TwoSigma&lt;&#x2F;a&gt;. Join us in St. Louis for &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;pwlconf.org&#x2F;&quot;&gt;PWLConf 2017&lt;&#x2F;a&gt;!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://papers-we-love.github.io/2017/news/october-meetups/"/>
    <published>2017-10-01T11:00:32.000Z</published>
  </entry>
  <entry>
    <title>September Meetups | Papers We Love</title>
    <content type="html">&lt;p&gt;We have another great line-up of meet-ups scheduled for September across a number of our chapters:&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Chattanooga 9&#x2F;5&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Chattanooga&#x2F;events&#x2F;242993742&#x2F;&quot;&gt;Noel Weichbrodt on A History of Erlang&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Seattle 9&#x2F;7&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Seattle&#x2F;events&#x2F;240921627&#x2F;&quot;&gt;PWL #35: Orleans&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Santa Monica 9&#x2F;7&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-LA&#x2F;events&#x2F;241748877&#x2F;&quot;&gt;Daniel Brice - Infinite sets that admit fast exhaustive search&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Bangalore 9&#x2F;9&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-we-love-Bangalore&#x2F;events&#x2F;242590993&#x2F;&quot;&gt;An incremental approach to compiler construction&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Columbus 9&#x2F;13&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Columbus&#x2F;events&#x2F;243105613&#x2F;&quot;&gt;Papers We Love Book Club: The Dawn of Software Engineering&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Zürich 9&#x2F;14&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-we-love-Zurich&#x2F;events&#x2F;242544627&#x2F;&quot;&gt;Natallie Baikevich on Automatic Construction of Inlining Heuristics using ML&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Olivette 9&#x2F;18&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-in-saint-louis&#x2F;events&#x2F;242280231&#x2F;&quot;&gt;Why calculating is better than scheming&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Budapest 9&#x2F;21&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Budapest&#x2F;events&#x2F;242791943&#x2F;&quot;&gt;Typed Self-Evaluation via Intensional Type Functions, Brown&amp;amp;Palsberg -Érdi Gergő&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Montréal 9&#x2F;21&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Montreal&#x2F;events&#x2F;243307433&#x2F;&quot;&gt;Simple Fast Algorithms for the Editing Distance between Trees &amp;amp; Related Problems&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;San Francisco 9&#x2F;21&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;papers-we-love-too&#x2F;events&#x2F;241365481&#x2F;&quot;&gt;Dave Cohen on Hashgraph Consensus: Fair, Fast, Byzantine Fault Tolerance&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Arlington 9&#x2F;27&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-DC-NoVA&#x2F;events&#x2F;241228410&#x2F;&quot;&gt;Bitcoin: A Peer to Peer Cash System&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Columbus 9&#x2F;28&lt;&#x2F;strong&gt;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;Papers-We-Love-Columbus&#x2F;events&#x2F;243553132&#x2F;&quot;&gt;Papers We Love Book Club: The Dawn of Software Engineering&lt;&#x2F;a&gt;
 &lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;The &lt;strong&gt;New York Chapter&lt;&#x2F;strong&gt; would like to give special thanks to our Platinum sponsor &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.twosigma.com&quot;&gt;TwoSigma&lt;&#x2F;a&gt;. Join us in St. Louis for &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;pwlconf.org&#x2F;&quot;&gt;PWLConf 2017&lt;&#x2F;a&gt;!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://papers-we-love.github.io/2017/news/september-meetups/"/>
    <published>2017-09-30T23:00:25.000Z</published>
  </entry>
  <entry>
    <title>Floating Point Benchmark: Prolog Language Added | Fourmilog - Fourmilab Change Log</title>
    <content type="html">I have posted an update to my trigonometry-intense &lt;a href&#x3D;&quot;&#x2F;fbench&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;floating point benchmark&lt;&#x2F;a&gt; which adds
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Prolog&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Prolog&lt;&#x2F;a&gt; to the list of languages in which the benchmark is implemented.  A new release of the
&lt;a href&#x3D;&quot;&#x2F;fbench&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;benchmark collection&lt;&#x2F;a&gt;
including Prolog is now available for downloading.

&lt;p&gt;

Prolog is a language designed for logic programming.  Working in
conjunction with a database of facts and rules, one can make
queries which are answered by applying the rules of formal
logic. Thus, in Prolog, one often describes the answer one seeks
and lets the language implementation find it rather than
prescribing the steps through which the answer is obtained as
one would in a conventional imperative programming language. 
Prolog is used in artificial intelligence and computational
linguistics research, and is well-suited to the analysis of
unstructured natural language.  Components of IBM&#39;s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Watson_%28computer%29&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Watson&lt;&#x2F;a&gt;
question answering system are written in Prolog.  The first
Prolog system was developed in 1972, and the language was
standardised as ISO&#x2F;IEC 13211-1 in 1995, with subsequent
corrigenda in 2007 and 2012.

&lt;&#x2F;p&gt;&lt;p&gt;

Prolog is intended for problems which are nothing like that
performed by the floating point benchmark, which is a typical
scientific computing task involving floating point numbers and
trigonometric functions.  However, Prolog supports floating
point numbers and trigonometric functions, and as a
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Turing_completeness&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Turing-complete language&lt;&#x2F;a&gt; is able to perform any computational
task which can be programmed in any other such language.  So,
this can be considered as a case of misusing Prolog for a task
for which it wasn&#39;t remotely intended, with the goal of seeing
how well it expresses the algorithms and performs.

&lt;&#x2F;p&gt;&lt;p&gt;

The resulting program uses very little of Prolog&#39;s sophisticated
pattern-matching and inference engine: the task simply doesn&#39;t
require these facilities.  Instead, Prolog is used as a
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Functional_programming&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;functional programming&lt;&#x2F;a&gt; language, employing its variables to pass
arguments to and return values from functions coded as Prolog
rules.  The result looks somewhat odd to those accustomed to
other programming languages, but one you get used to the syntax,
the code is expressive and comprehensible.  Pattern matching
allows replacing all of the conditionals for the four cases of
the transit_surface operation (marginal or paraxial ray, flat or
curved surface) with four different rules selected by the
arguments passed to them, as done in functional languages such
as Haskell and Erlang.

&lt;&#x2F;p&gt;&lt;p&gt;

I originally developed this benchmark on &lt;a href&#x3D;&quot; http:&#x2F;&#x2F;gprolog.org&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;GNU Prolog&lt;&#x2F;a&gt;
version 1.4.4, but when I went to run the benchmark for an
archival run time of around five minutes, I ran into the problem
that GNU Prolog does not fully implement &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Tail_call&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;tail call&lt;&#x2F;a&gt;
optimisation.  What does this mean?  Prolog, like many
functional languages, does not provide control structures for
iteration.  Instead, iteration is accomplished by recursion. 
For example, here&#39;s how you might write the factorial function
in C using iteration:

&lt;pre&gt;
    int factorial(int n) {
        int result &#x3D; 1;
        int i;

        for (i &#x3D; 1; i &amp;lt;&#x3D; n; i++) {
            result *&#x3D; i;
        }
        return result;
    }
&lt;&#x2F;pre&gt;

But Prolog has no equivalent of C&#39;s &lt;b&gt;for&lt;&#x2F;b&gt; statement, so you define
the factorial function recursively as it&#39;s usually expressed in
mathematics:

&lt;pre&gt;
    fact(N, NF) :-
            fact(1, N, 1, NF).

    fact(X, X, F, F) :- !.

    fact(X, N, FX, F) :-
            X1 is X + 1,
            FX1 is FX * X1,
            fact(X1, N, FX1, F).
&lt;&#x2F;pre&gt;

Now, this looks a bit odd until you become accustomed to the
rather eccentric syntax of Prolog, but the key thing to take
away is that evaluation is accomplished by the four argument
definition of fact().  When the final definition of fact() calls
itself, it is the last item executed, and tail call optimisation
takes note of this and, instead of recursively calling itself,
uses the same stack frame and transforms the recursion into an
iteration.  This allows recursion to an arbitrary depth without
consuming large amounts of stack memory.

&lt;&#x2F;p&gt;&lt;p&gt;

Tail call optimisation is common among languages such as Lisp,
Haskell, and Prolog, but GNU Prolog does not implement it, or at
least doesn&#39;t do so in a sufficiently general manner as to
permit running benchmarks with a large number of iterations.

&lt;&#x2F;p&gt;&lt;p&gt;

As a result, I moved the project from GNU Prolog to &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.swi-prolog.org&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;SWI-Prolog&lt;&#x2F;a&gt;:
a mature Prolog system which properly supports tail call
optimisation.  I used Linux version 7.6.0-rc2, which is a stable
and complete implementation of Prolog, using the 64-bit Ubuntu
installation package.

&lt;&#x2F;p&gt;&lt;p&gt;

Development of the program was straightforward, with the only
speed bumps my coming to terms with the Prolog way of doing
things.  This program constitutes an “abuse of language” almost
as extreme as the COBOL version.  Prolog is intended for logic
programming where its underlying inference engine does most of
the work in resolving queries where the programmer specifies a
way to find the answer but not the details of how it is to be
evaluated.  Optical design ray tracing couldn&#39;t be more
different—the computations must be evaluated procedurally, so I
ended up using Prolog as a functional programming langauge,
writing procedural code as ∧ expressions within rules, while
taking advantage of Prolog&#39;s polymorphism and pattern matching
to make the code more expressive of the problem being solved. 
Since Prolog provides full support for floating point arithmetic
and trigonometric functions, there were no problems in
evaluating the expressions used in the benchmark.

&lt;&#x2F;p&gt;&lt;p&gt;

After testing the benchmark in SWI-Prolog for accuracy, I ran
the Prolog benchmark for 13,725,893 iterations and obtained the
following run times in seconds for five runs: 
    (287.14,
    286.64,
    288.11,
    288.15,
    286.38)
These runs give a mean time of 287.284 seconds, or 20.9301
microseconds per iteration.

&lt;&#x2F;p&gt;&lt;p&gt;

I then ran the C benchmark for 166,051,660 iterations, yielding
run times of:
    (296.89,
    296.37,
    296.29,
    296.76,
    296.37)
seconds, with mean 296.536, for 1.7858 microseconds per
iteration.

&lt;&#x2F;p&gt;&lt;p&gt;

Dividing these gives a SWI-Prolog run time of 11.7203 longer
than that of C.  In other words, for this benchmark, SWI-Prolog
runs around 11.72 times slower than C.

&lt;&#x2F;p&gt;&lt;p&gt;

I next wanted to compare GNU Prolog with C.  Because of the lack
of tail call optimisation, I was unable to run the benchmark for
the required number of iterations to obtain an “on the record”
run of about five minutes (even when I tried tricks of nesting
iterations in calls), so I estimated its performance as follows.

&lt;&#x2F;p&gt;&lt;p&gt;

I ran the benchmark on GNU Prolog with 450000 iterations, which
was the maximum I could use after setting “export
GLOBALSZ&#x3D;80000000000” to create an enormous global stack.  I
received the following timings in seconds:
    (4.37,
    4.36,
    4.41,
    4.33,
    4.32)
of which the mean is 4.358 seconds.

&lt;&#x2F;p&gt;&lt;p&gt;

Then, I ran the same benchmark under SWI-Prolog and measured:
    (8.90,
    8.80,
    8.79,
    8.99,
    8.96)
for a mean of 8.888.  This gives a run time ratio of GNU Prolog
to SWI-Prolog of 0.49032, and applying this to the measured
ratio of SWI-Prolog to C, we can infer a ratio of GNU Prolog to
C of 5.7467.

&lt;&#x2F;p&gt;&lt;p&gt;

I do not report this as a primary benchmark for GNU Prolog
because its lack of tail call optimisation prevented it from
fulfilling the conditions of the benchmark: a run of around five
minutes.  It is, however, indicative of the performance of
Prolog which can be obtained by compiling to native code, and is
included because it demonstrates that Prolog can perform within
the range of other compiled languages.

&lt;&#x2F;p&gt;&lt;p&gt;

In summary, Prolog did pretty well on this job for which it
wasn&#39;t designed.  The program is straightforward and readable,
and the performance in SWI-Prolog is comparable to other
languages which compile to byte code, as does this Prolog
implementation.  GNU Prolog, which compiles to native machine
code, performed better than GNU Common Lisp in compiled mode,
but toward the slow end of machine code compilers (but, since
the full benchmark could not be run, the GNU Prolog results are
not archival).

&lt;&#x2F;p&gt;&lt;p&gt;

This directory includes a &lt;b&gt;Makefile&lt;&#x2F;b&gt; which can build the benchmark
using either SWI-Prolog of GNU Prolog (which, of course, must be
installed on your machine).  The SWI-Prolog version of the
benchmark uses that system&#39;s nonstandard three argument format&#x2F;3
predicate to print its results to Prolog atoms, allowing the
program to perform its own accuracy test at the completion of
the benchmark.  GNU Prolog and the ISO standard do not implement
this extension, so alternative code is used which simply prints
the output of the last iteration of the benchmark to standard
output where it is compared with the expected results with &lt;b&gt;diff&lt;&#x2F;b&gt;.

&lt;&#x2F;p&gt;&lt;p&gt;

The relative performance of the various language implementations (with C taken as 1) is as follows.   All language implementations of the benchmark listed below produced identical results to the last (11th) decimal place.

&lt;&#x2F;p&gt;&lt;p&gt;


&lt;table&gt;
                                                                                                 
&lt;tr&gt;
    &lt;th&gt;Language&lt;&#x2F;th&gt;
    &lt;th&gt;Relative&lt;br &#x2F;&gt; Time&lt;&#x2F;th&gt;
    &lt;th&gt;Details&lt;&#x2F;th&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;C&lt;&#x2F;th&gt;
    &lt;td&gt;1&lt;&#x2F;td&gt;
    &lt;td&gt;GCC 3.2.3 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Visual Basic .NET&lt;&#x2F;th&gt;
    &lt;td&gt;0.866&lt;&#x2F;td&gt;
    &lt;td&gt;All optimisations, Windows XP&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;FORTRAN&lt;&#x2F;th&gt;
    &lt;td&gt;1.008&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Fortran (g77) 3.2.3 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Pascal&lt;&#x2F;th&gt;
    &lt;td&gt;1.027&lt;br &#x2F;&gt;
                   1.077&lt;&#x2F;td&gt;
    &lt;td&gt;Free Pascal 2.2.0 -O3, Linux&lt;br &#x2F;&gt;
    	    	  GNU Pascal 2.1 (GCC 2.95.2) -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Swift&lt;&#x2F;th&gt;
    &lt;td&gt;1.054&lt;&#x2F;td&gt;
    &lt;td&gt;Swift 3.0.1, -O, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Rust&lt;&#x2F;th&gt;
    &lt;td&gt;1.077&lt;&#x2F;td&gt;
    &lt;td&gt;Rust 0.13.0, --release, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Java&lt;&#x2F;th&gt;
    &lt;td&gt;1.121&lt;&#x2F;td&gt;
    &lt;td&gt;Sun JDK 1.5.0_04-b05, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Visual Basic 6&lt;&#x2F;th&gt;
    &lt;td&gt;1.132&lt;&#x2F;td&gt;
    &lt;td&gt;All optimisations, Windows XP&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Haskell&lt;&#x2F;th&gt;
    &lt;td&gt;1.223&lt;&#x2F;td&gt;
    &lt;td&gt;GHC 7.4.1-O2 -funbox-strict-fields, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Scala&lt;&#x2F;th&gt;
    &lt;td&gt;1.263&lt;&#x2F;td&gt;
    &lt;td&gt;Scala 2.12.3, OpenJDK 9, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Ada&lt;&#x2F;th&gt;
    &lt;td&gt;1.401&lt;&#x2F;td&gt;
    &lt;td&gt;GNAT&#x2F;GCC 3.4.4 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Go&lt;&#x2F;th&gt;
    &lt;td&gt;1.481&lt;&#x2F;td&gt;
    &lt;td&gt;Go version go1.1.1 linux&#x2F;amd64, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Simula&lt;&#x2F;th&gt;
    &lt;td&gt;2.099&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Cim 5.1, GCC 4.8.1 -O2, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Lua&lt;&#x2F;th&gt;
    &lt;td&gt;2.515&lt;br &#x2F;&gt;
        22.7&lt;&#x2F;td&gt;
    &lt;td&gt;LuaJIT 2.0.3, Linux&lt;br &#x2F;&gt;
        Lua 5.2.3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Python&lt;&#x2F;th&gt;
    &lt;td&gt;2.633&lt;br &#x2F;&gt; 30.0&lt;&#x2F;td&gt;
    &lt;td&gt;PyPy 2.2.1 (Python 2.7.3), Linux&lt;br &#x2F;&gt;
        Python 2.7.6, Linux
&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Erlang&lt;&#x2F;th&gt;
    &lt;td&gt;3.663&lt;br &#x2F;&gt;
    	    	   9.335&lt;&#x2F;td&gt;
    &lt;td&gt;Erlang&#x2F;OTP 17, emulator 6.0, HiPE [native, {hipe, [o3]}]&lt;br &#x2F;&gt;
    	         Byte code (BEAM), Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 &lt;tr&gt;
    &lt;th&gt;ALGOL 60&lt;&#x2F;th&gt;
    &lt;td&gt;3.951&lt;&#x2F;td&gt;
    &lt;td&gt;MARST 2.7, GCC 4.8.1 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;PL&#x2F;I&lt;&#x2F;th&gt;
    &lt;td&gt;5.667&lt;&#x2F;td&gt;
    &lt;td&gt;Iron Spring PL&#x2F;I 0.9.9b beta, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Lisp&lt;&#x2F;th&gt;
    &lt;td&gt;7.41 &lt;br &#x2F;&gt;
                   19.8&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Common Lisp 2.6.7, Compiled, Linux&lt;br &#x2F;&gt;
                  GNU Common Lisp 2.6.7, Interpreted&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Smalltalk&lt;&#x2F;th&gt;
    &lt;td&gt;7.59&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Smalltalk 2.3.5, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
   
&lt;tr&gt;
    &lt;th&gt;Forth&lt;&#x2F;th&gt;
    &lt;td&gt;9.92&lt;&#x2F;td&gt;
    &lt;td&gt;Gforth 0.7.0, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Prolog&lt;&#x2F;th&gt;
    &lt;td&gt;11.72&lt;br &#x2F;&gt;
				   5.747&lt;&#x2F;td&gt;
    &lt;td&gt;SWI-Prolog 7.6.0-rc2, Linux&lt;br &#x2F;&gt;
				  GNU Prolog 1.4.4, Linux, (limited iterations)&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;COBOL&lt;&#x2F;th&gt;
    &lt;td&gt;12.5&lt;br &#x2F;&gt;
				   46.3&lt;&#x2F;td&gt;
    &lt;td&gt;Micro Focus Visual COBOL 2010, Windows 7&lt;br &#x2F;&gt;
				  Fixed decimal instead of computational-2&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Algol 68&lt;&#x2F;th&gt;
    &lt;td&gt;15.2&lt;&#x2F;td&gt;
    &lt;td&gt;Algol 68 Genie 2.4.1 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Perl&lt;&#x2F;th&gt;
    &lt;td&gt;23.6&lt;&#x2F;td&gt;
    &lt;td&gt;Perl v5.8.0, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Ruby&lt;&#x2F;th&gt;
    &lt;td&gt;26.1&lt;&#x2F;td&gt;
    &lt;td&gt;Ruby 1.8.3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;JavaScript&lt;&#x2F;th&gt;
    &lt;td&gt;27.6 &lt;br &#x2F;&gt;
                   39.1 &lt;br &#x2F;&gt;
                   46.9&lt;&#x2F;td&gt;
    &lt;td&gt;Opera 8.0, Linux&lt;br &#x2F;&gt;
                  Internet Explorer 6.0.2900, Windows XP&lt;br &#x2F;&gt;
                  Mozilla Firefox 1.0.6, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;QBasic&lt;&#x2F;th&gt;
    &lt;td&gt;148.3&lt;&#x2F;td&gt;
    &lt;td&gt;MS-DOS QBasic 1.1, Windows XP Console&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Mathematica&lt;&#x2F;th&gt;
    &lt;td&gt;391.6&lt;&#x2F;td&gt;
    &lt;td&gt;Mathematica 10.3.1.0, Raspberry Pi 3, Raspbian&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;
&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-09/001714.html"/>
    <published>2017-09-29T21:03:59.000Z</published>
  </entry>
  <entry>
    <title>Weekly update 54 | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;Ah, home! It&#39;s nice at home, I think I&#39;ll stay here. When I got back from Utah on Sunday I checked my TripIt and noticed I&#39;d been away bang on 40% of the year but fortunately, that&#39;s it for the 2017 overseas stuff. That said, I&#39;ve got a bunch of events lined up in Aus for the rest of the year and I&#39;ll talk more about those soon.&lt;&#x2F;p&gt;
&lt;p&gt;This week, I&#39;ve actually had some time to catch up on writing and pumped out a couple of blog posts that have been on my mind for some time. It&#39;s stuff I&#39;m passionate about (both for different reasons) and I really hope people find it interesting if not even thought-provoking. Enjoy!&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;itunes.apple.com&#x2F;au&#x2F;podcast&#x2F;troy-hunts-weekly-update-podcast&#x2F;id1176454699&quot;&gt;iTunes podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;goo.gl&#x2F;app&#x2F;playmusic?ibi&#x3D;com.google.PlayMusic&amp;amp;isi&#x3D;691797987&amp;amp;ius&#x3D;googleplaymusic&amp;amp;link&#x3D;https:&#x2F;&#x2F;play.google.com&#x2F;music&#x2F;m&#x2F;If3tw7npymckucxq4q76762ncny?t%3DTroy_Hunt%27s_Weekly_Update_Podcast&quot;&gt;Google Play Music podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.omnycontent.com&#x2F;d&#x2F;playlist&#x2F;1439345f-6152-486d-a9c2-a6bf0067f2b7&#x2F;3ba9af7f-3bfb-48fd-aae7-a6bf00689c10&#x2F;fde26e49-9fb8-457d-8f16-a6bf00696676&#x2F;podcast.rss&quot;&gt;RSS podcast&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

References
&lt;ol&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;the-ethics-of-running-a-data-breach-search-service&#x2F;&quot;&gt;I give a &lt;em&gt;huge&lt;&#x2F;em&gt; amount of thought to the ethics of running a data breach service&lt;&#x2F;a&gt; (there are good reasons for every aspect of how HIBP runs - this post explains some of the big ones)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;how-important-are-qualifications-to-modern-technology-jobs&#x2F;&quot;&gt;Are qualifications in tech jobs actually that important?&lt;&#x2F;a&gt; (biggest thing here is how consistently people said &lt;em&gt;experience&lt;&#x2F;em&gt; is essential, regardless of how you got to this industry)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.symantec.com&#x2F;ready-secure-go&#x2F;it-smb&#x2F;?om_ext_cid&#x3D;ws_ad_TROY_DBC-Bulldog_IT-SMB_Encrypt&quot;&gt;Symantec Website Security is sponsoring my blog this week&lt;&#x2F;a&gt; (thanks guys, big shout-out to them!)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/UJupDnFAk5c/"/>
    <published>2017-09-29T06:59:44.000Z</published>
  </entry>
  <entry>
    <title>UX Conference Los Angeles Announced (Feb 25 - Mar 2) | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;In-depth, full-day courses, teaching user experience best practices for successful design. Conference focus on long-lasting skills for UX professionals. February 25 - March 2, 2018.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;training&#x2F;los-angeles&#x2F;&quot;&gt;See Full Schedule and Pricing&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/training/los-angeles/"/>
    <published>2017-09-29T03:23:00.000Z</published>
  </entry>
  <entry>
    <title>Michael Cohen (1992-2017) | Shtetl-Optimized</title>
    <content type="html">&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I first encountered Michael Cohen when, as a freshman newly arrived at MIT, he walked into my office unannounced to ask if I had any open problems for him to solve.  My first reaction was bemused annoyance: &lt;em&gt;who does this punk think he is?  he’s ready to do theory, but doesn’t&lt;&#x2F;em&gt;&lt;em&gt; even know enough to make an appointment first?  also, why doesn’t he shave?&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;
&lt;p&gt;And then, five minutes later, I was practically &lt;em&gt;begging&lt;&#x2F;em&gt; him to do research with me.  “OK, so you didn’t like that problem?  Wait, I’ve got another one!  Hey, where are you going…”&lt;&#x2F;p&gt;
&lt;p&gt;Within those five minutes, it had become obvious that this was a freshman who I could—must—talk to like an advanced grad student or professor.  Sadly for quantum computing, Michael ultimately decided to go into classical parts of theoretical computer science, such as low-rank approximation and fast algorithms for geometry and linear-algebra problems.  But that didn’t stop him from later taking my graduate course on quantum complexity theory, where he sat in the front and loudly interrupted me every minute, stream-of-consciousness style, so that my “lectures” often turned into dialogues with him.  Totally unforgivable—all the more so because his musings were &lt;em&gt;always&lt;&#x2F;em&gt; on point, constantly catching me in errors or unjustified claims (one of which I &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.scottaaronson.com&#x2F;blog&#x2F;?p&#x3D;2072&quot;&gt;blogged about previously&lt;&#x2F;a&gt;).&lt;&#x2F;p&gt;
&lt;p&gt;Not once did I ever suspect he did it to show off: he was simply so overtaken by his urge to understand the point at hand, as to be oblivious to all niceties.  Yet somehow, that social obliviousness didn’t stop him from accumulating a huge circle of friends.  (Well, it &lt;em&gt;was&lt;&#x2F;em&gt; MIT.)&lt;&#x2F;p&gt;
&lt;p&gt;Michael stayed on at MIT as a grad student, racking up an &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;dblp.uni-trier.de&#x2F;pers&#x2F;hd&#x2F;c&#x2F;Cohen:Michael_B&#x3D;&quot;&gt;incredible publication list&lt;&#x2F;a&gt; by age 25.  This semester, he went to visit the Simons Institute for Theory of Computing in Berkeley.&lt;&#x2F;p&gt;
&lt;p&gt;Three days ago, Michael was found dead in his apartment in Berkeley, after having cancelled a scheduled talk because he was feeling unwell.  No cause has been given.&lt;&#x2F;p&gt;
&lt;p&gt;The horrible news came just as I was arriving in Germany for the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.heidelberg-laureate-forum.org&#x2F;&quot;&gt;Heidelberg Laureate Forum&lt;&#x2F;a&gt;, to speak about quantum supremacy.  So I barely had time to process the tragedy—yet it was always in the background, especially as I learned that in his brief life, Michael had also touched many of the other computer scientists who I spoke with in Heidelberg, such as Dan Spielman, whose approach to Ramanujan graphs (with Marcus and Srivastava) Michael had &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1604.03544&quot;&gt;made constructive&lt;&#x2F;a&gt; in one of his most celebrated works.  Only now is the full weight of what happened bearing down on me.&lt;&#x2F;p&gt;
&lt;p&gt;I understand that memorial events are being planned at both MIT and Berkeley.  Feel free to share memories of Michael in the comments; see also &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;lucatrevisan.wordpress.com&#x2F;2017&#x2F;09&#x2F;26&#x2F;3915&#x2F;&quot;&gt;Luca’s post&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;blog.computationalcomplexity.org&#x2F;2017&#x2F;09&#x2F;tragic-losses.html&quot;&gt;Lance’s post&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;This is an unfathomable loss for Michael’s family, for his many friends and colleagues, and for a field that’s been robbed of decades of breakthroughs.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://www.scottaaronson.com/blog/?p=3468"/>
    <published>2017-09-28T23:55:07.000Z</published>
  </entry>
  <entry>
    <title>Should You Build a Webhooks API? | Brandur Leach</title>
    <content type="html">&lt;p&gt;The term “webhook” was coined back in 2007 by Jeff Lindsay
as a “hook” (or callback) for the web; meant to be a
general purpose system to allow Internet systems to be
composed in the same spirit as the Unix pipe. By speaking
HTTP and being symmetrical to common HTTP APIs, they were
an elegant answer to a problem without many options at the
time – &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;WebSocket&quot;&gt;WebSockets&lt;&#x2F;a&gt; wouldn’t be standardized
until 2011 and would only see practical use much later.
Most other contemporary streaming options were still only a
distant speck on the horizon.&lt;&#x2F;p&gt;

&lt;p&gt;For a few very common APIs like GitHub, Slack, or Stripe,
the push stream available over webhooks might be one of the
best-known features. They’re reliable, can be used to
configure multiple receivers that receive customized sets
of events, and they even work for accounts connected via
OAuth, allowing platforms built on the APIs to tie into the
activity of their users. They’re a great feature and
aren’t going anywhere anytime soon, but they’re also far
from perfect. In the spirit of avoiding &lt;a href&#x3D;&quot;&#x2F;accidental-evangelist&quot;&gt;accidental
evangelism&lt;&#x2F;a&gt;, here we’ll talk about
whether they’re a good pattern for new API providers to
emulate.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#case&quot;&gt;A basic case for webhooks&lt;&#x2F;a&gt;

&lt;p&gt;First, let’s take a look at why webhooks are useful. While
REST APIs commonly make up the backbone for accessing and
manipulating information in a web platform, webhooks are
often used as a second facet that augments it by streaming
real-time updates.&lt;&#x2F;p&gt;

&lt;p&gt;Say you’re going to write a mini-CI service that will build
any branches that are opened via pull request on one of
your GitHub repositories. Like Travis, we want it to be
able to detect a pull request, and then assign it a status
check icon that will only be resolved when the build
completes.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;github-status-check@2x.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Travis putting status checks on a pull request that are contingent on a successful build.


&lt;p&gt;GitHub has a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.github.com&#x2F;v3&#x2F;repos&#x2F;statuses&#x2F;&quot;&gt;status API&lt;&#x2F;a&gt; that can assign or
update statuses associated with a given commit SHA. With
just a REST API, we’d have to poll the list endpoint ever
few seconds to know when new pull requests come in. Luckily
though, there’s much better way: we can listen on for
GitHub’s &lt;code&gt;pull_request&lt;&#x2F;code&gt; webhook, and it’ll notify us when
anything changes.&lt;&#x2F;p&gt;

&lt;p&gt;Our CI service listens for &lt;code&gt;pull_request&lt;&#x2F;code&gt; webhooks, creates
a new status via the REST API when it sees one, and then
updates that status when its corresponding build succeeds
or fails. It’s able to add status checks in a timely manner
(ideally users see a &lt;code&gt;pending&lt;&#x2F;code&gt; status the moment they
open a new pull), and with no inefficient polling involved.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;ci.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  A basic webhooks flow to build a simple CI system for GitHub.


&lt;a href&#x3D;&quot;#user-ergonomics&quot;&gt;The virtues of user ergonomics&lt;&#x2F;a&gt;

&lt;p&gt;As we see above webhooks are convenient and work pretty
well, but that said, they’re far from perfect in a number
of places. Let’s look at a few ways that using them can be
a little painful.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#endpoints&quot;&gt;Endpoint provisioning and management&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Getting an HTTP endpoint provisioned to receive a webhook
isn’t technically difficult, but it can be bureaucratically
so.&lt;&#x2F;p&gt;

&lt;p&gt;The classic example is the large enterprise where getting a
new endpoint exposed to the outside world might be a
considerable project involving negotiations with
infrastructure and security teams, requisitioning new
hardware, and piles of paperwork. In the worst cases,
webhooks might be wholly incompatible with an
organization’s security model where user data is
uncompromisingly kept within a secured perimeter at all
times.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;provisioning-woes.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Difficulty in provisioning an HTTP endpoint that can talk to the outside world.


&lt;p&gt;Development and testing are also difficult cases. There’s
no perfectly fluid way of getting an endpoint from a
locally running environment exposed for a webhook provider
to access. Programs like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;ngrok.com&#x2F;&quot;&gt;Ngrok&lt;&#x2F;a&gt; are good options,
but still add a step and complication that wouldn’t be
necessary with an alternate scheme.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#security&quot;&gt;Uncertain security&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Because webhook endpoints are publicly accessible HTTP
APIs, it’s up to providers to build in a security scheme
to ensure that an attacker can’t issue malicious requests
containing forged payloads. There’s a variety of commonly
seen techniques:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;Webhook signing:&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt; Sign webhook payloads and send the
signature via HTTP header so that users can verify it.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;HTTP authentication:&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt; Force users to provide HTTP
basic auth credentials when they configure endpoints to
receive webhooks.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;&lt;em&gt;API retrieval:&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt; Provide only an event identifier in
webhook payload and force recipients to make a
synchronous API request to get the message’s full
contents.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;signing-secrets@2x.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Endpoint signing secrets in Stripe&#39;s dashboard.


&lt;p&gt;Good security is possible, but a fundamental problem with
webhooks is that it’s difficult as a provider to &lt;em&gt;ensure&lt;&#x2F;em&gt;
that your users are following best practices. Of the three
options above, only the third guarantees strong security;
even if you provide signatures you can’t know for sure that
your users are verifying them, and if forced to provide
HTTP basic auth credentials, many users will opt for weak
ones, which combined with endpoints that are probably not
rate limited, leave them vulnerable to brute force attacks.&lt;&#x2F;p&gt;

&lt;p&gt;This is in sharp contrast to synchronous APIs where a
provider gets to choose exactly what API keys will look
like and dictate best practices around how they’re issued
and how often they’re rotated.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#development&quot;&gt;Development and testing&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;It’s relatively easy to provide a stub or live testmode for
a synchronous API, but a little more difficult for
webhooks because the user needs some mechanic to request
that a test webhook be sent.&lt;&#x2F;p&gt;

&lt;p&gt;At Stripe, we provide a “Send test webhook” function from
the dashboard. This provides a reasonable developer
experience in that at least testing an endpoint is
possible, but it’s manual and not especially conducive to
being integrated into an automated test suite.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;send-test-webhook@2x.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Sending a test webhook in Stripe&#39;s dashboard.


&lt;p&gt;Most developers will know that manual testing is never
enough. It’ll get a program working today and that program
will probably stay working tomorrow, but without more
comprehensive CI something’s likely to break given a long
enough timeline.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#order&quot;&gt;No ordering guarantees&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Transmission failures, variations in latency, and quirks in
the provider’s implementation means that even though
webhooks are sent to an endpoint roughly ordered, there are
no guarantees that they’ll be received that way.&lt;&#x2F;p&gt;

&lt;p&gt;For example, a provider might send a &lt;code&gt;created&lt;&#x2F;code&gt; event for
&lt;code&gt;resource123&lt;&#x2F;code&gt;, but a send failure causes it to be queued
for retransmission. In the meantime, &lt;code&gt;resource123&lt;&#x2F;code&gt; is
deleted and its &lt;code&gt;deleted&lt;&#x2F;code&gt; event sends correctly. Later, the
&lt;code&gt;created&lt;&#x2F;code&gt; event is also sent, but by then the consumer’s
received it after its corresponding &lt;code&gt;deleted&lt;&#x2F;code&gt;. A lot of the
time this isn’t a big problem, but consumers must be built
to be tolerant of these anomalies.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;out-of-order.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  A consumer receiving events out of order due to a send failure.


&lt;p&gt;In an ideal world, a real-time stream would be reliable
enough that a consumer could use it as an &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;engineering.linkedin.com&#x2F;distributed-systems&#x2F;log-what-every-software-engineer-should-know-about-real-time-datas-unifying&quot;&gt;ordered
append-only log&lt;&#x2F;a&gt; which could be used to manage state
in a database. Webhooks are not this system.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#versioning&quot;&gt;Version upgrades&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;For providers that version their API like we do at Stripe,
version upgrades can be a problem. Normally we allow users
to explicitly request a new version with an API call so
that they can verify that their integration works before
upgrading their account, but with webhooks the provider has
to decide in advance what version to send. Often this leads
to users trying to write code that’s compatible across
multiple versions, and then flipping the upgrade switch and
praying that it works (when it doesn’t, the upgrade must be
rolled back).&lt;&#x2F;p&gt;

&lt;p&gt;Once again, this can be fixed with great tooling, but
that’s more infrastructure that a provider needs to
implement for a good webhook experience. We recently added
a feature that lets users configured the API version that
gets sent to each of their webhook endpoints, but for a
long time upgrades were a scary business.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;upgrade-version@2x.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Upgrading the API version sent to a webhook endpoint in Stripe&#39;s dashboad.


&lt;a href&#x3D;&quot;#kitchens&quot;&gt;The toil in the kitchens&lt;&#x2F;a&gt;

&lt;p&gt;Possibly a bigger problem than any of their user
shortcomings is that webhooks are painful to run. Let’s
look at the specifics.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#misbehavior&quot;&gt;Misbehavior is onerous&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;If a consumer endpoint is slow to respond or suddenly
starts denying requests, it puts pressure on the provider’s
infrastructure. A big user might have millions of outgoing
webhooks and just them going down might be enough to start
backing up global queues, leading to a degraded system for
everyone.&lt;&#x2F;p&gt;

&lt;p&gt;Worse yet, there’s no real incentive for recipients to fix
the problem because the entirety of the burden lands on the
webhook provider. We’ve been stuck in positions where we
have to email huge users as millions of failed webhooks
pile up in the backlog with something like, “we don’t want
to disable you, but please fix your systems or we’re going
to have to” and hoping that they get back to us before
things are really on fire.&lt;&#x2F;p&gt;

&lt;p&gt;You can put in a system where recipients have to meet
certain uptime and latency SLAs or have their webhooks
disabled, but once again, that needs additional tooling and
documentation, and the additional restrictions won’t make
your users particularly happy.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#retries&quot;&gt;Retries&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;To ensure receipt, webhook system needs to be built with
retry policies. A recipient could shed a single request due
to an intermittent network problem, so you retry a few
moments later to ensure that all messages make it through.&lt;&#x2F;p&gt;

&lt;p&gt;This is a nice feature, but is expensive and wasteful at
the edges. Say for example that a user takes down one of
their servers without deleting a corresponding endpoint. At
Stripe, we’ll try to redeliver every generated event 72
times (once an hour for three days) before finally giving
up, which could mean tens of thousands wasted connections.&lt;&#x2F;p&gt;

&lt;p&gt;You can mitigate this by disabling endpoints that look like
they’re dead and sending an email to notify their owner,
but again this needs to be tooled and documented. It’s a
bit of a compromise because you have less tech savvy users
who legitimately have a server go down for a day or two,
and may later be surprised that their webhooks are no
longer being delivered. You can also have endpoints that
are “the living dead”: they time out most requests after
tying up your clients for 30 seconds or so, but
successfully respond often enough that they’re never fully
disabled. These are costly to support.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#chattiness&quot;&gt;Chattiness and communication (in)efficiency&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Webhooks are one HTTP request for one event. You can apply
a few tricks like keeping connections open to servers that
you deliver to frequently to save a few round trips on
transport construction (for setting up a connection and
negotiating TLS), but they’re a very chatty protocol at
heart.&lt;&#x2F;p&gt;

&lt;p&gt;We’ve got enough modern languages and frameworks that
providers can build massively concurrent implementations
with relative ease, but compared to something like
streaming a few thousand events over a big connected
firehose, webhooks are very inefficient.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#internal-security&quot;&gt;Internal security&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;The servers sending webhooks are within a provider’s
internal infrastructure, and depending on architecture, may
be able to access other services. A common “first timer”
webhooks provider mistake is to not insulate the senders
from other infrastructure; allowing an attacker to probe it
by configuring webhook endpoints with internal URLs.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;webhooks&#x2F;attack.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  An attacker crafting a malicious webhook to target an internal service.


&lt;p&gt;This is mitigable (and every big provider has measures in
place to do so), but webhook infrastructure will be
dangerous by default.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#features&quot;&gt;What makes webhooks great&lt;&#x2F;a&gt;

&lt;p&gt;We’ve talked mostly about the shortfalls of webhooks, but
they’ve got some nice properties too. Here are a few of
their best aspects.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#balancing&quot;&gt;Automatic load balancing&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;A commonly overlooked but &lt;em&gt;amazing&lt;&#x2F;em&gt; feature of webhooks is
that they provide automatic load balancing and allow a
consumer’s traffic to ramp up gracefully.&lt;&#x2F;p&gt;

&lt;p&gt;The alternative to webhooks is some kind of “pull” API
where a provider streams events through a connection. This
is mostly fine, but given enough volume, eventually some
kind of partitioning scheme is going to be needed as the
stream grows past the capacity of any single connection
(think like you’d see in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;kafka.apache.org&#x2F;&quot;&gt;Kafka&lt;&#x2F;a&gt; or
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;streams&#x2F;latest&#x2F;dev&#x2F;key-concepts.html&quot;&gt;Kinesis&lt;&#x2F;a&gt;). Partitioning works fine, but is
invariably more complicated and makes integrating more
difficult. Getting consumers to upgrade from one to two
partitions when the limits of a single partition are
reached is &lt;em&gt;really&lt;&#x2F;em&gt; difficult.&lt;&#x2F;p&gt;

&lt;p&gt;With webhooks, scaling is almost entirely seamless for
recipients. They need to make sure that their endpoints are
scaled out to handle the extra load, but this is a well
understood problem. Horizontal scaling combined with an
off-the-shelf load balancer (DNS, HAProxy, ELBs, …) will
make this relatively painless.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#http&quot;&gt;Lingua franca&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Web servers are absolutely ubiquitous across every
conceivable programming language and framework which means
that everyone can receive a webhook, and without pulling
down any unusual dependencies.&lt;&#x2F;p&gt;

&lt;p&gt;Webhooks are &lt;em&gt;accessible&lt;&#x2F;em&gt; in a way that more exotic
technologies may never be, and that by itself is good
reason to use them. Accessible technologies have a greater
pool of potential developers, and that’s going to lead to
more integrations. An easy API in the form of webhooks has
undoubtedly helped companies like GitHub and Slack grow
their platforms.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#road-ahead&quot;&gt;The road ahead&lt;&#x2F;a&gt;

&lt;p&gt;Lately I’ve been talking about what &lt;a href&#x3D;&quot;&#x2F;api-paradigms&quot;&gt;API paradigms might
look like beyond our current world of
REST&lt;&#x2F;a&gt;, so it seems like a good time to look
at some modern alternatives to webhooks.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#http-log&quot;&gt;The HTTP log&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Since the inception of webhooks there’s been a few
technologies that have been standardized that are
well-suited for streaming changes. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;WebSocket&quot;&gt;WebSockets&lt;&#x2F;a&gt;
and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Server-sent_events&quot;&gt;server-sent events&lt;&#x2F;a&gt; (SSE) are two great examples.&lt;&#x2F;p&gt;

&lt;p&gt;Consumers would negotiate a stream over HTTP with the
normal RESTish API, and hold onto it listening for new
events from the server as long as they can. Unlike
webhooks, events are easily accessible from any environment
(that allows outgoing connections), fully verified,
ordered, and even potentially versioned according to the
consumer’s request.&lt;&#x2F;p&gt;

&lt;p&gt;A downside is that it’s the consumer’s responsibility to
make requests and track where they left off. This isn’t
an overly difficult requirement, but it’s likely to cause
problems for at least some users as they lose their place
in the stream, or don’t fetch incoming events in time.
Providers would undoubtedly also have to put limits on how
far back in history users are allowed to request, and have
an implementation that makes sending lots of aging event
data efficient.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#graphql&quot;&gt;GraphQL subscriptions&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Along with queries and mutations, GraphQL supports a third
type of operation called a “subscription” (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;facebook.github.io&#x2F;graphql&#x2F;#sec-Subscription&quot;&gt;see that in the
spec here&lt;&#x2F;a&gt;). A provider provides an available
subscription that describes the type of events that a
recipient will receive:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;subscription StoryLikeSubscription($input: StoryLikeSubscribeInput) {
  storyLikeSubscribe(input: $input) {
    story {
      likers { count }
      likeSentence { text }
    }
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Along with an input type that recipients will use to
specify the parameters of the stream:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;input StoryLikeSubscribeInput {
  storyId: string
  clientSubscriptionId: string
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Like with a lot of GraphQL, the specifics around
implementation for subscriptions aren’t strongly defined.
In &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;graphql.org&#x2F;blog&#x2F;subscriptions-in-graphql-and-relay&#x2F;&quot;&gt;a blog post announcing the feature&lt;&#x2F;a&gt;, a
Facebook engineer mentions that they receive subscription
events over an &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;mqtt.org&#x2F;&quot;&gt;MQTT&lt;&#x2F;a&gt; topic, but lots of options for
pub&#x2F;sub technology are available.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#grpc&quot;&gt;GRPC streaming RPC&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.grpc.io&#x2F;&quot;&gt;GRPC&lt;&#x2F;a&gt; is a framework created by Google that enables
easy remote procedure calls (RPC) from client to server
across a wide variety of supported languages and platforms.
It builds on top of protocol buffers, a well-vetted
serialization technology that’s been around for more than a
decade.&lt;&#x2F;p&gt;

&lt;p&gt;Although it’s largely used for one-off request&#x2F;responses,
it also supports &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.grpc.io&#x2F;docs&#x2F;guides&#x2F;concepts.html#server-streaming-rpc&quot;&gt;streaming remote procedure
calls&lt;&#x2F;a&gt; where a provider can send back any
number of messages before the connection is finalized. This
simple Go example demonstrates roughly how it works (and
keep in mind that the feature is available in GRPC’s
impressive set of supported languages):&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;stream, err :&#x3D; client.ListFeatures(...)
if err !&#x3D; nil {
    ...
}
for {
    feature, err :&#x3D; stream.Recv()
    if err &#x3D;&#x3D; io.EOF {
        break
    }
    if err !&#x3D; nil {
        ...
    }
    log.Println(feature)
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Bi-directional streams are also supported for back and
forth communication over a single re-used connection.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#today&quot;&gt;What to do today&lt;&#x2F;a&gt;

&lt;p&gt;Webhooks are a fine system for real time streaming and
providers who already offer them and have their operational
dynamics figured out should probably stick with them. They
work well and are widely understood.&lt;&#x2F;p&gt;

&lt;p&gt;However, between somewhat less-than-optimal developer
experience and considerable operational concerns, providers
who are building new APIs today should probably be
considering every available option. Those who are already
building systems on non-REST paradigms like GraphQL or GRPC
have a pretty clear path forward, and for those who aren’t,
modeling something like a log over HTTP&#x2F;WebSockets&#x2F;SSE
might be a good way to go.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://brandur.org/webhooks"/>
    <published>2017-09-28T15:28:56.000Z</published>
  </entry>
  <entry>
    <title>How Important Are Qualifications to Modern Technology Jobs? | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;I&#39;ve been thinking a lot about the relevance of formal education such as university degrees for those of us working in tech lately. Not just degrees, but various other forms of certifications so for the sake of simplicity, let&#39;s bundle it all up into &amp;quot;qualifications&amp;quot;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;qualification&lt;br &#x2F;&gt;
&#x2F;ˌkwɒlɪfɪˈkeɪʃ(ə)n&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;Noun: a pass of an examination or an official completion of a course, especially one conferring status as a recognized practitioner of a profession or activity.&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;This post has actually been in the works for a while, but there were 2 catalysts for finally writing it, both of which occurred very recently and both of which I felt would make worthy contributions to the narrative. But first, let me start with my own story and then my father&#39;s because they both add important context.&lt;&#x2F;p&gt;
My Personal Journey
&lt;p&gt;My original thinking was that I&#39;d be a pilot, just like dad. It was glamorous (at least it was for me as a kid in the 80&#39;s) and was the only job I really knew because most of our family friends were from the airline industry. Other than my grandfather who was a farmer, I didn&#39;t have much more insight into what adults did and milking cows certainly wasn&#39;t my thing.&lt;&#x2F;p&gt;
&lt;p&gt;As I grew up, my aeronautical aspirations began to fade. I found computers which, like it is for most kids, began with me toiling away with a PC at home. I would have been about 11 or 12 when my family first bought one so it was all the stuff kids of that era did, namely playing (and cracking) games. A half dozen years later when it came time to think about an actual career, planes were totally off the radar and I was well and truly hooked on technology. I was living in Singapore for the last couple of years of high school around the early to mid-90&#39;s and that was an absolute tech haven with cheap, cutting edge PCs, software and even job opportunities. As a 16-year-old, I was able to work in a satellite systems engineering company part time doing hardware maintenance on PCs whilst also tutoring other expatriates on how these newfangled things worked. It was basic stuff - how to use Microsoft Word or make Encarta run - but it was the beginning of real-world experience.&lt;&#x2F;p&gt;
&lt;p&gt;As school was wrapping up, I started thinking about university because that&#39;s just what you did back then. So, I came back to Australia and started a computer science degree and with that came my first exposure to the internet (this was now &#39;95). I&#39;d been toying with bulletin board systems whilst back in Singapore but this was something else altogether - and it was awesome! I desperately wanted to start building for the web but there was absolutely &lt;em&gt;nothing&lt;&#x2F;em&gt; in the way of education available at uni. Over the coming years I&#39;d do COBOL and relational database design but that was the closest I ever got to practical knowledge about how to build software for the internet. In amongst all that, I was doing discrete mathematics and chemistry, both of which I &lt;em&gt;hated&lt;&#x2F;em&gt; yet was forced to participate in &amp;quot;because it&#39;s a science degree&amp;quot; (the former I actually did very well at, the latter very badly at). It was driving me nuts - I couldn&#39;t learn what I was passionate about and I was wasting my time on things that in my view then (and even now), were completely useless.&lt;&#x2F;p&gt;
&lt;p&gt;So in that first year of uni, I bought a book that I still have today:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;And that was the beginning of my web development career. Soon after, I was building websites for people in my spare time. A while after that I had an opportunity to actually build a pretty serious web application for very good money, but it required a larger time commitment so I dropped the uni back to part time. Not too much later, the real-world opportunities to build software were growing day by day. Yet even two and a half years after beginning the degree, I &lt;em&gt;still&lt;&#x2F;em&gt; had zero opportunity to formally learn anything remotely related to web development - we were now all the way up to Internet Explorer 4 and still there was absolutely nothing useful I could study at uni! So I dropped out. And I&#39;ve never looked back. Not once.&lt;&#x2F;p&gt;
When Qualifications Matter
&lt;p&gt;I always remember dad studying incessantly; there were constant checks on his theoretical knowledge, flying ability and of course, his health (mostly I remember mum telling my brother and I to be quiet so we didn&#39;t break dad&#39;s concentration). There was a huge amount of formal structure around the assessment of his professional capabilities and really, that seems quite reasonable: he was flying jets around with hundreds of people sitting on board, their lives literally in his hands.&lt;&#x2F;p&gt;
&lt;p&gt;Towards the end of his flying career, he was taking off out of the mountainous Kagoshima airport in Japan when &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;avherald.com&#x2F;h?article&#x3D;413dcd11&quot;&gt;a number of turbine blades on the starboard jet of his 767 exploded from the outboard side of the engine&lt;&#x2F;a&gt;. He took control from the first officer and flew the plane back to the airport on one engine whilst the other one spewed flames, eventually setting the grass on fire once safely back on the ground.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;He had to make life and death style decisions the likes of which required extensive training and qualifications. There is no &amp;quot;Landing a Burning Airliner for Dummies&amp;quot; book, you just don&#39;t pick this sort of stuff up through practical experience alone.&lt;&#x2F;p&gt;
&lt;p&gt;In so many ways, this is a polar opposite story to my own but it sets the scene for what I want to talk about next. I mentioned two catalysts for finally writing this post, let&#39;s start with the first one:&lt;&#x2F;p&gt;
The Equifax CSO&#39;s Music Degree
&lt;p&gt;A couple of weeks ago, a story hit the news about &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.marketwatch.com&#x2F;story&#x2F;equifax-ceo-hired-a-music-major-as-the-companys-chief-security-officer-2017-09-15&quot;&gt;the Equifax CSO Susan Mauldin having a music degree&lt;&#x2F;a&gt;. The innuendo was that she was unqualified; how on earth could she hold a C-suite executive position managing the cybers whilst only having studied music?!&lt;&#x2F;p&gt;
&lt;p&gt;I shared the story via a tweet and added a quick bit of context along the lines of &amp;quot;I hope there&#39;s more to it than that&amp;quot; which in my mind, meant &amp;quot;I hope there&#39;s more to her professional experience that would qualify her for the role than simply having studied something entirely unrelated a long time ago&amp;quot;. Unfortunately, I didn&#39;t make that sentiment clear enough and as the internet is prone to do, it got angry thinking that I was agreeing with what the story&#39;s headline was implying. Clearly, given my own lack of formal qualifications, that was not my intention.&lt;&#x2F;p&gt;
&lt;p&gt;Let&#39;s break this situation into two separate but important issues and I want to start with this tweet from the grugq:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;It was people without college degrees in infosec that invented the shit they teach in college infosec courses.&lt;&#x2F;p&gt;— the grugq (@thegrugq) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;thegrugq&#x2F;status&#x2F;909006190012592128&quot;&gt;September 16, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;This speaks precisely to the point about the value of competency over qualifications. Technology is an industry in which people have done wonderful things without such qualifications. World-changing things, in some cases; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;content.time.com&#x2F;time&#x2F;specials&#x2F;packages&#x2F;article&#x2F;0,28804,1988080_1988093_1988082,00.htm&quot;&gt;Bill Gates dropped out of college.&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;content.time.com&#x2F;time&#x2F;specials&#x2F;packages&#x2F;article&#x2F;0,28804,1988080_1988093_1988086,00.html&quot;&gt;Steve Jobs dropped out of college.&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;content.time.com&#x2F;time&#x2F;specials&#x2F;packages&#x2F;article&#x2F;0,28804,1988080_1988093_1988090,00.html&quot;&gt;Mark Zuckerberg dropped out of college.&lt;&#x2F;a&gt;. Now I&#39;m by no means advocating that if you&#39;re presently studying you should immediately drop out and become successful, rather I&#39;m acknowledging that there is clearly more to one&#39;s competency and success than a formal qualification alone. I&#39;ll come back to that again later on.&lt;&#x2F;p&gt;
&lt;p&gt;The second important issue as it relates to Equifax is that under Susan&#39;s watch, something went very badly wrong. Actually, &lt;em&gt;many&lt;&#x2F;em&gt; things went very badly wrong ranging from the breach itself that originally hit the press to the debacle with the search site they stood up afterwards to the subsequent discovery of an earlier breach (and we&#39;re only just scratching the surface here). &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;money.cnn.com&#x2F;2017&#x2F;09&#x2F;15&#x2F;news&#x2F;equifax-top-executives-retiring&#x2F;index.html&quot;&gt;Her subsequent removal from the company&lt;&#x2F;a&gt; (&amp;quot;retirement&amp;quot; in this instance appears to be a term of convenience) and then her apparent scrubbing (or hiding) of her LinkedIn profile is not a good look and it&#39;s no wonder that people then probed into her background and started asking questions about her competency.&lt;&#x2F;p&gt;
&lt;p&gt;I have no idea how much of the Equifax debacle was directly Susan&#39;s fault. I also have no idea what constraints she was operating under (i.e. tight budgets she fought against) nor how she conducted herself in her role in terms of her professionalism. But I do know that she held multiple infosec roles before her eventual departure from Equifax and that her music degree was gained decades earlier. It might make for easy press-fodder, but her tertiary education &lt;em&gt;is not&lt;&#x2F;em&gt; the issue we should be focusing on here. Clearly there were issues, but a degree in something non-infosec different is not one of them.&lt;&#x2F;p&gt;
Pluralsight
&lt;p&gt;The other catalyst for writing this came as I attend &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.pluralsight.com&#x2F;event-details&#x2F;2017&#x2F;pluralsight-live-thank-you&quot;&gt;Pluralsight Live last week&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I was watching the presentations around how much content was now in the library, how many hours had been viewed and how it was changing people&#39;s lives. Now look, an event like this is always going to be a bit &amp;quot;ra-ra&amp;quot; in terms of talking about how awesome things are, but underpinning all the hype were some fantastic truths about how people were learning technical skills that have made a tangible difference to their lives. Real world, modern and immediately applicable skills that people can use to convert time and expertise into a professional living.&lt;&#x2F;p&gt;
&lt;p&gt;People such as my lovely friend Karoline Klever in Norway who used Pluralsight during her maternity leave to actually &lt;em&gt;progress&lt;&#x2F;em&gt; her career during that period. It&#39;s a couple of years old now, but I love this profile on her:&lt;&#x2F;p&gt;

&lt;p&gt;Or my friend John Opdenakker in Belgium who &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.peerlyst.com&#x2F;posts&#x2F;how-i-prepared-for-the-certified-ethical-hacker-exam-john-opdenakker?utm_source&#x3D;Twitter&amp;amp;utm_medium&#x3D;Application_Share&amp;amp;utm_content&#x3D;peerlyst_post&amp;amp;utm_campaign&#x3D;peerlyst_shared_post&quot;&gt;used the CEH content I worked on to pass his Certified Ethical Hacker exam&lt;&#x2F;a&gt;. In John&#39;s case, he &lt;em&gt;did&lt;&#x2F;em&gt; actually achieve a professional qualification and I&#39;ll come back to CEH a little later on too.&lt;&#x2F;p&gt;
&lt;p&gt;I love that Pluralsight gives people like Karoline and John these opportunities. I love that it&#39;s affordable (personal subscriptions &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.pluralsight.com&#x2F;learn&quot;&gt;start at $29&#x2F;m&lt;&#x2F;a&gt;), I love that it&#39;s self-paced and I love that it&#39;s available to anyone anywhere in the world regardless of their access to traditional education. And I love that I&#39;ve been able to play a part in that.&lt;&#x2F;p&gt;
&lt;p&gt;It&#39;s 20 years now since I left university and frankly, if I had have had access to Pluralsight then I doubt I would have lasted more than 6 months in the degree. I&#39;m sure universities have progressed since the mid-90&#39;s in terms of how current their content is, but I&#39;m equally sure that they rarely have material taught by industry experts who are absolutely at the forefront of their field and are still actively using the technology in a professional capacity.&lt;&#x2F;p&gt;
Opportunity Costs
&lt;p&gt;What really got me whilst still at uni was the opportunity cost; every moment I was sat in a classroom studying the periodic table for that pointless chemistry course, I wasn&#39;t learning something that was genuinely useful. I wasn&#39;t building anything and I wasn&#39;t gaining any practical experience. All of these things grated on me enormously and it felt like a constant weight.&lt;&#x2F;p&gt;
&lt;p&gt;The other cost I was rapidly racking up with the cost of studying the degree. I can&#39;t even remember exactly how much debt I built up during the time I was there (in Australia, we have &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;studyassist.gov.au&#x2F;sites&#x2F;studyassist&#x2F;helppayingmyfees&#x2F;hecs-help&#x2F;pages&#x2F;hecs-help-welcome&quot;&gt;HECS&lt;&#x2F;a&gt; which is effectively a government subsidised loan), but because I found work early on (and inevitably also because I didn&#39;t finish the degree), I paid it down pretty quickly. Most people aren&#39;t that fortunate.&lt;&#x2F;p&gt;
&lt;p&gt;Through a quick bit of searching around, I found a piece from last week that suggests &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.topuniversities.com&#x2F;student-info&#x2F;student-finance&#x2F;how-much-does-it-cost-study-australia&quot;&gt;a science bachelor&#39;s degree in Australia will set you back up to A$43,632 &lt;em&gt;per year&lt;&#x2F;em&gt;&lt;&#x2F;a&gt; which is a massive cost over a typical 3 year degree (that&#39;d run you over US$100k in total for international readers). That figure seems to be pretty consistent with other sources such as &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.quora.com&#x2F;How-much-does-it-cost-to-study-Bachelors%E2%80%99-in-Computer-science-in-the-United-States&quot;&gt;this Quora answer from last year&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Edit:&lt;&#x2F;strong&gt; A few people have pointed out that there are government subsidies available which significantly reduce the cost of tertiary education.&lt;&#x2F;p&gt;
&lt;p&gt;Now none of this is to say that those degrees aren&#39;t worth it and I&#39;ll come back to that in more detail in a moment, rather it&#39;s to say that the opportunity cost is 3 years and a hundred-something grand; what else could you do with that? How would that change your long-term prospects as opposed to doing the degree? At the very least, it warrants careful consideration.&lt;&#x2F;p&gt;
The Perception of Tertiary Qualification Value
&lt;p&gt;Whilst I&#39;ve tried to be a bit generic about qualifications in general rather than university or college degrees specifically (and I know I&#39;ve started to drift this way anyway), let me talk a bit about those in particular for a moment.&lt;&#x2F;p&gt;
&lt;p&gt;In thinking back to my own career, one of the things I remember thinking about as it related to my incomplete degree was that if an organisation rejected me on that basis alone, that wasn&#39;t the right place for me. I mean if I went for a job and they said &amp;quot;wow, you&#39;ve got these years of experience and done awesome things but sorry, policy dictates that you need a degree&amp;quot; then frankly, I wouldn&#39;t have wanted to work in that environment. I just couldn&#39;t bring myself to be surrounded by people with that mentality.&lt;&#x2F;p&gt;
&lt;p&gt;Anecdotally, there seem to be fewer and fewer organisations expecting a tertiary qualification for technology roles. For example, in the wake of the Equifax situation, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.safestack.io&#x2F;safestack-stands-with-nztalent-a5c724a6b502&quot;&gt;Laura Bell from SafeStack.io made the following clear&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;We are declaring that we do not require a traditional tertiary qualification for a range of skills-based roles within our company.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;She went on to clarify that they&#39;ve &lt;em&gt;never&lt;&#x2F;em&gt; required a tertiary qualification and that they never will.&lt;&#x2F;p&gt;
&lt;p&gt;One of the things that I myself found during my corporate life was that I simply couldn&#39;t correlate formal qualifications with competency. I&#39;d interview people - probably hundreds of them over the years - and naturally, a qualification such as a university degree is one of the first things you&#39;d see on the CV. But in no way whatsoever could I see the value of that represented in any of the technical competency tests we&#39;d do. In fact, difficulty in establishing candidate competency was what led me to write my first ever blog post on &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;why-online-identities-are-smart-career&#x2F;&quot;&gt;why online identities are smart career moves&lt;&#x2F;a&gt;. In that post, I lamented how hard it was to find people with even basic technical knowledge:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;The number of times I&#39;ve interviewed people and they struggled with the most fundamental of questions is staggering. Granted, recruitment agencies have a lot of blame to share but at the end of the day if you&#39;re calling yourself a senior .NET developer and can&#39;t even write code to declare a nullable type or instantiate a generic collection, you&#39;ve got issues.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;But hey, they had a degree so the recruitment agency sent them through! The very point of that blog post was that you need way more than a CV to actually demonstrate your competence.&lt;&#x2F;p&gt;
&lt;p&gt;(Fun fact: in that first ever blog post I said &amp;quot;I don’t necessarily mean to try and achieve semi celebrity status like Scott Guthrie or Joel Spolsky&amp;quot;. In reading it again now, I just realised the 3 of us delivered keynotes from the same stage at Pluralsight Live last week which I reckon is pretty cool!)&lt;&#x2F;p&gt;
&lt;p&gt;And this is really the heart of the problem: a qualification is not experience. A qualification is evidence you&#39;ve passed a test. The difference between a qualification alone and experience in the real world is, well, this sums it up beautifully:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;When you lied on your CV about having previous sheepdog experience. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;fecGfhE9YD&quot;&gt;pic.twitter.com&#x2F;fecGfhE9YD&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;— Paul Bronks (@BoringEnormous) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;BoringEnormous&#x2F;status&#x2F;912262374756937728&quot;&gt;September 25, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;And now that I&#39;ve said all that, qualifications can still be enormously useful in the tech industry so let&#39;s look at where they make sense.&lt;&#x2F;p&gt;
So Are Formal Qualifications Actually Worth It?
&lt;p&gt;There&#39;s an easy answer albeit one that can be hard to arrive it: formal qualifications are worth it when they mean something to other people. For example, there are still organisations that expect to see a degree if you want a job there, albeit not the ones I would want to work for! I obviously don&#39;t agree with that prerequisite for tech jobs, but if it&#39;s a company (or industry) you genuinely want to work with then tertiary qualifications may be very important to you. It&#39;s not that different to how it was for dad flying jets - you don&#39;t get to do that unless you can pass tests and have papers to prove it.&lt;&#x2F;p&gt;
&lt;p&gt;The same can be said about certifications. Last year &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;careers-in-security-ethical-hacking-and-advice-on-where-to-get-started&#x2F;&quot;&gt;I wrote about careers in security&lt;&#x2F;a&gt; and touched on the Certified Ethical Hacker series I&#39;d contributed to building out on Pluralsight. In there, I referenced &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.fastlaneus.com&#x2F;dod-8570&quot;&gt;the DoD&#39;s Information Assurance Workforce Improvement Program&lt;&#x2F;a&gt; and the CEH prerequisite:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;The United States of America Department of Defense issued Directive 8570 in 2004 to mandate baseline certifications for all Information Assurance “IA” positions. In February of 2010, this directive was enhanced to include the Certified Ethical Hacker across the Computer Network Defense Categories “CND”.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Clearly, if you want to work for the DoD then a CEH cert (or a number of other certs they recognise) is important. I actually copped some criticism from a few folks for not having sat the CEH exam myself after writing the (predominantly) web security components of it but for me it&#39;s easy - the cert wouldn&#39;t change anything for me in any tangible fashion so I haven&#39;t bothered with it. It&#39;s that simple.&lt;&#x2F;p&gt;
&lt;p&gt;Obviously, there are other industries where formal qualifications are far more a necessity than the tech industry and dad&#39;s case is one great example. Same again for a profession like medicine; as with aviation, it&#39;s heavily regulated because if you screw up, people die. You screw up in my profession and the CSS is a bit wonky in Internet Explorer! Indeed, that&#39;s also been a criticism of the tech industry in that anyone can jump up and start working in it with next to no knowledge. Heck, I&#39;m making a career out of folks getting that wrong all the time in security! Of course, there are systems that must operate within regulatory guidelines such as PCI and HIPAA, but that&#39;s not quite the same as demanding specific qualifications from the practitioners building those systems.&lt;&#x2F;p&gt;
&lt;p&gt;On the tertiary education side of things, I&#39;m actually &lt;em&gt;for&lt;&#x2F;em&gt; attending university after secondary school for folks that are trying to find their way in the world. A very positive attribute of studying for a degree is that it&#39;s a commitment that&#39;s much harder to break than, say, simply stopping a Pluralsight course. It helps you learn aspects of technology you may or may not like and it exposes you directly to people that can expand your horizons. Many people &lt;em&gt;need&lt;&#x2F;em&gt; that structure.&lt;&#x2F;p&gt;
&lt;p&gt;But ultimately, all of this is merely a means to an end in that it helps you along that journey to a successful career. If formal qualifications are the thing that does that for you then awesome - that&#39;s a win. But it&#39;s one path and whereas in times gone by it was considered &lt;em&gt;the&lt;&#x2F;em&gt; way into a professional career, clearly that&#39;s changing and &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.afr.com&#x2F;news&#x2F;policy&#x2F;industrial-relations&#x2F;shortage-of-it-graduates-a-critical-threat-20140203-iy4lx&quot;&gt;the decline in students starting IT degrees&lt;&#x2F;a&gt; is evidence of that.&lt;&#x2F;p&gt;
&lt;p&gt;The industry has clearly changed a lot over the last couple of decades. The monolithic approach to study which was &amp;quot;make a large financial commitment over many years&amp;quot; is now complimented with the microservices of education: break knowledge acquisition down into smaller decoupled atomic units focusing on discrete topics, Pluralsight style, if you will. But the best thing of all is that now you can choose and hey, maybe that means you do both; study for a degree and compliment that with online learning or additional certifications. Man, I wish I had that choice 20 years ago!&lt;&#x2F;p&gt;
Summary
&lt;p&gt;One of my most infuriating post-dropout moments came some years later when I called up the uni to inquire about what might be involved in finishing the degree. &amp;quot;Oh no&amp;quot;, the lady on the line explained, &amp;quot;all your credits have expired so you&#39;d have to start again&amp;quot;. Wait - so if I&#39;d &lt;em&gt;finished&lt;&#x2F;em&gt; the degree would the knowledge I&#39;d earned still be considered null and void by the uni? To which she replied &amp;quot;No, you&#39;d still have the degree&amp;quot;. That was a real penny-drop moment for me: study alone can be deemed null and void in the future but experience, well, nobody can take that away from you.&lt;&#x2F;p&gt;
&lt;p&gt;Lastly, I thought I&#39;d pump out a quick survey yesterday just to get a sense of where people&#39;s backgrounds lie:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;I&#39;m writing a blog on qualifications in tech jobs and I&#39;m curious: if you&#39;re in IT &#x2F; programming &#x2F; security, what&#39;s your background?&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;912931212213108736&quot;&gt;September 27, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;The poll result didn&#39;t surprise me, but the replies to it are really interesting. As you&#39;d expect, there&#39;s lots of different backgrounds but the one piece of feedback that resonated consistently was how important experience is. It&#39;s like it&#39;s the great leveller in an industry that&#39;s heavily biased towards what you&#39;ve done rather than the papers you hold. Regardless of how you&#39;ve arrived in technology, I love that there are so many different paths here and frankly, that makes it all the more interesting.&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/H-W0Jm-KDQE/"/>
    <published>2017-09-28T08:09:58.000Z</published>
  </entry>
  <entry>
    <title>ntpd won&#39;t save you from one particular rogue bit | rachelbythebay</title>
    <content type="html">&lt;p&gt;
I found a new way to screw up time on Unix boxes a couple of months ago.
Someone reported a box that looked very very strange, and I took a look.
Sure enough, it was in the year 2153.  Nothing was fixing it.  Normally,
ntpd will fall over if it&#39;s really far away from the current time.  
Then we&#39;d notice that ntpd was not running.  But this?  It was totally 
cool with this.
&lt;&#x2F;p&gt;&lt;p&gt;
How did it happen?  Near as anyone can tell, when the system came up, it
managed to read a value with a spurious extra bit set from the real time 
clock.  So, instead of only the lower 32 bits being set, one slightly 
higher also was set.
&lt;&#x2F;p&gt;&lt;p&gt;
That bit was number 32.  As in 2^32, or 4294967296.  That&#39;s about 136
years worth of seconds (yeah yeah, leap seconds, leap years, I know, go 
away, that doesn&#39;t matter here).
&lt;&#x2F;p&gt;&lt;p&gt;
So instead of the time being, say, 1506560587, as it is as I write this
tonight on September 27, 2017 (local time), it&#39;ll be 5801527883, or
&lt;em&gt;November 4, 2153&lt;&#x2F;em&gt;.  Slight difference, right?
&lt;&#x2F;p&gt;&lt;p&gt;
ntpd... didn&#39;t care.  ntpdate... also didn&#39;t care.  Why should they?  
As far as they can tell, the lower 32 bits of time is just fine, so they
think nothing is wrong.  That&#39;s all they care about.
&lt;&#x2F;p&gt;&lt;p&gt;
If you don&#39;t believe me, here, check it out.  I came up with something 
small and stupid which will mess up your clock in a controlled fashion.  
It will take you to the future or back again, and the ntp tools will 
keep on going like nothing ever happened.
&lt;&#x2F;p&gt;&lt;p&gt;
First, let me me show you what running ntpdate looks like normally
using my handy testing box:
&lt;&#x2F;p&gt;&lt;p&gt;

epenguin:&#x2F;# date; ntpdate pool.ntp.org; date
&lt;br &#x2F;&gt;
Wed Sep 27 18:06:30 PDT 2017
&lt;br &#x2F;&gt;
27 Sep 18:06:36 ntpdate[765]: adjust time server 69.89.207.99 offset 
0.000582 sec
&lt;br &#x2F;&gt;
Wed Sep 27 18:06:36 PDT 2017
&lt;br &#x2F;&gt;
epenguin:&#x2F;# 

&lt;&#x2F;p&gt;&lt;p&gt;
It takes about six seconds to do its thing, and you can see that my
system clock was pretty close to the time server which it happened to
pick from the pool.
&lt;&#x2F;p&gt;&lt;p&gt;
Now here&#39;s what happens when your clock is really screwed up.  Notice
the &amp;quot;offset&amp;quot; when it fixes things.
&lt;&#x2F;p&gt;&lt;p&gt;

epenguin:&#x2F;# date -s &amp;quot;Dec 25 2017&amp;quot;; ntpdate pool.ntp.org; date
&lt;br &#x2F;&gt;
Mon Dec 25 00:00:00 PST 2017
&lt;br &#x2F;&gt;
27 Sep 18:08:12 ntpdate[769]: step time server 173.71.73.207 offset 
-7627914.525158 sec
&lt;br &#x2F;&gt;
Wed Sep 27 18:08:12 PDT 2017
&lt;br &#x2F;&gt;
epenguin:&#x2F;# 

&lt;&#x2F;p&gt;&lt;p&gt;
Huge offset, right?  That&#39;s because it isn&#39;t Christmas yet.
&lt;&#x2F;p&gt;&lt;p&gt;
Given this, you&#39;d assume that an offset of hundreds of years would 
generate a ridiculous offset as it dragged the clock backwards, and, 
well, you&#39;d usually be right, except for this special situation where
you hide all of the &amp;quot;extra time&amp;quot; behind that one bit.
&lt;&#x2F;p&gt;&lt;p&gt;
Here, I run my time shifting program, and watch what happens.
&lt;&#x2F;p&gt;&lt;p&gt;

epenguin:~# date; .&#x2F;timeshift; date
&lt;br &#x2F;&gt;
Wed Sep 27 18:09:54 PDT 2017
&lt;br &#x2F;&gt;
Your clock is in the present and is boring.  Warping time!
&lt;br &#x2F;&gt;
old tv_sec: 1506560994
&lt;br &#x2F;&gt;
new tv_sec: 5801528290
&lt;br &#x2F;&gt;
Sun Nov  4 00:38:10 PDT 2153
&lt;br &#x2F;&gt;
epenguin:~# 

&lt;&#x2F;p&gt;&lt;p&gt;
Uh oh!  Save us, ntpdate!
&lt;&#x2F;p&gt;&lt;p&gt;

epenguin:~# date; ntpdate pool.ntp.org; date
&lt;br &#x2F;&gt;
Sun Nov  4 00:38:31 PDT 2153
&lt;br &#x2F;&gt;
 4 Nov 00:38:38 ntpdate[776]: adjust time server 204.9.54.119 offset 
0.002158 sec
&lt;br &#x2F;&gt;
Sun Nov  4 00:38:38 PDT 2153
&lt;br &#x2F;&gt;
epenguin:~# 

&lt;&#x2F;p&gt;&lt;p&gt;
Yep, not gonna happen.  You are stuck in the future.
&lt;&#x2F;p&gt;&lt;p&gt;
I&#39;m using ntpdate for simplicity here, but trust me, ntpd will accept 
it too.  It&#39;ll happily come up, pick a source, and will declare itself
synchronized.
&lt;&#x2F;p&gt;&lt;p&gt;
Don&#39;t believe me?  Try it for yourself.  Here&#39;s the dumb little tool 
which will flip 2^32 in your system clock.
&lt;&#x2F;p&gt;&lt;p&gt;
&lt;pre&gt;
#include &amp;lt;errno.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &amp;lt;sys&#x2F;time.h&amp;gt;
 
int main() {
  struct timeval tv;
  struct timezone tz;
 
  if (gettimeofday(&amp;amp;tv, &amp;amp;tz) !&#x3D; 0) {
    fprintf(stderr, &amp;quot;gettimeofday failed: %s\n&amp;quot;, strerror(errno));
    return 1;
  }
 
  if (tv.tv_sec &amp;amp; 0x100000000) {
    printf(&amp;quot;Your clock is in the future.  Pulling it back.\n&amp;quot;);
  } else {
    printf(&amp;quot;Your clock is in the present and is boring.  Warping time!\n&amp;quot;);
  }
 
  printf(&amp;quot;old tv_sec: %ld\n&amp;quot;, tv.tv_sec);
 
  tv.tv_sec ^&#x3D; (long) 0x100000000;
 
  printf(&amp;quot;new tv_sec: %ld\n&amp;quot;, tv.tv_sec);
 
  if (settimeofday(&amp;amp;tv, &amp;amp;tz) !&#x3D; 0) {
    fprintf(stderr, &amp;quot;settimeofday failed: %s\n&amp;quot;, strerror(errno));
    return 1;
  }
 
  return 0;
}
&lt;&#x2F;pre&gt;
&lt;&#x2F;p&gt;&lt;p&gt;
Incidentally, if you try to reproduce this by using a bunch of shell 
magic to run &#39;date +%s&#39;, OR it with 2**32, then &#39;date -s&#39; that value, 
it&#39;ll take some luck to reproduce this with ntpd.  Part of the problem 
is that &#39;date -s&#39; will shear off the fractional bits of the current 
time.  If the resulting time that ntpd sees is more than a few 
milliseconds off, it&#39;ll step the clock, and that will clear out the 
future time.  That&#39;s why I wrote this program: testing it with a shell 
script involved far too many failed attempts.
&lt;&#x2F;p&gt;&lt;p&gt;
Interested in reading more on the topic?  Check out
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.ntp.org&#x2F;ntpfaq&#x2F;NTP-s-algo.htm#AEN1895&quot;&gt;&amp;quot;How is Time 
encoded in NTP?&amp;quot;&lt;&#x2F;a&gt;.
&lt;&#x2F;p&gt;&lt;p&gt;
Be sure to pay attention to the whole thing about the NTP era.
&lt;&#x2F;p&gt;&lt;p&gt;
Incidentally, when this happens, &#39;hwclock --systohc&#39; will probably fail.
It generates some neat error messages.  This means you can&#39;t actually
persist the bad time to your RTC.  In all likelihood, it will vanish 
after a reboot, and will not be seen again until you happen to have a
single bit error in the clock at boot.
&lt;&#x2F;p&gt;&lt;p&gt;
Of course, if you have enough machines and enough reboots, you&#39;ll 
probably see this eventually.  You may have already seen it and just 
didn&#39;t know why it happened, or why it persisted.  Hopefully this helps.
&lt;&#x2F;p&gt;&lt;p&gt;
Time is hard.
&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://rachelbythebay.com/w/2017/09/27/2153/"/>
    <published>2017-09-28T01:22:11.000Z</published>
  </entry>
  <entry>
    <title>Deliver software faster by managing work in progress, not by adding overtime | Soundcloud Developers Backstage Blog</title>
    <content type="html">&lt;p&gt;Product development flow (flow) is the rate at which our products are developed, from idea to deployment. Good flow means that products should pass through the development cycle quickly and continuously.&lt;&#x2F;p&gt;

Problem Statement

&lt;p&gt;SoundCloud faces challenges with its product development flow. SoundCloud’s CTO, Artem Fishman, summed up these challenges succinctly during the May 2017 Engineering Town Hall.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;“We have a ton of [good] product pressure… We work really hard, but are fundamentally slow to deliver… This resonated everywhere. It takes a very long time to ship something here.”&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;His conclusion was reached by interviewing over a hundred employees from the Technology Organization. It is clear that employees understand these challenges on a qualitative and intuitive level.&lt;&#x2F;p&gt;

&lt;p&gt;These are classic symptoms of an overloaded product development queue.&lt;&#x2F;p&gt;

&lt;p&gt;The problem was then for project managers to develop quantitative metrics for understanding our product development flow and guidelines for improving the flow issues that the company already knew on qualitative and intuitive levels.&lt;&#x2F;p&gt;

Post Structure

&lt;p&gt;This post describes recent efforts to measure and improve software product development flow at SoundCloud. It demonstrates that we can deliver software faster by managing Work in Progress (WIP) and product quality rather than pushing employees to work overtime.&lt;&#x2F;p&gt;

&lt;p&gt;The second section describes the discovery phase in which we define and measure some variables for improving flow. Project managers used tools from the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;github.com&#x2F;soundcloud&#x2F;project-dev-kpis&quot;&gt;Project Development KPIs Project&lt;&#x2F;a&gt; (PDKP) to understand the problems in our workflow. Understanding that data, they derived the strategy below for improving SoundCloud’s product development flow.&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;The company should commit to fewer products at a time&lt;&#x2F;li&gt;
&lt;li&gt;Teams should work on fewer product features at a time&lt;&#x2F;li&gt;
&lt;li&gt;Engineers should work on fewer tasks at a time&lt;&#x2F;li&gt;
&lt;li&gt;Engineering should reduce its code inventory&lt;&#x2F;li&gt;
&lt;li&gt;Engineering should monitor and reduce the number of bugs over time&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;The third section describes our continuous learning process and our first set of guidelines for improving flow.&lt;&#x2F;p&gt;

&lt;p&gt;The fourth and last section describes preliminary results of our efforts.&lt;&#x2F;p&gt;

Defining success and variables

&lt;p&gt;This section identifies lead and cycle time as metrics of success in product development and motivates their use. It identifies variables that have an impact on lead and cycle time.&lt;&#x2F;p&gt;

&lt;h3&gt;Lead and cycle time&lt;&#x2F;h3&gt;

&lt;p&gt;To improve business outcomes, businesses &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;SMART_criteria&quot;&gt;define the metrics for the desired outcome&lt;&#x2F;a&gt; then &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;PDCA&quot;&gt;iterate towards achieving that outcome&lt;&#x2F;a&gt; by observing if actions taken improve or worsen the metrics. Members of the Process Optimization Group at SoundCloud use lead and cycle time as two important measures of our success in product development.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Lead time&lt;&#x2F;strong&gt; is the time between the initiation and completion of a product’s development. At SoundCloud, this is the time between when a product owner receives a work request to the time when the work is completed.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Cycle time&lt;&#x2F;strong&gt; is the time between when the production of a product is started and when it is completed. At SoundCloud this is the time between when an engineering team receives a feature request to the time that the software is deployed to users.&lt;&#x2F;p&gt;

&lt;p&gt;Keeping lead and cycle times low has many benefits, four of which are noted here. The first benefit is that we ship products to users faster, before our competitors. Being first increases the chance that we capture market share.&lt;&#x2F;p&gt;

&lt;p&gt;The second benefit is the reduction of backlog size. Product managers are incentivized not to commit to projects too far in advance. Since requirements for new products change rapidly, a minimal backlog means more responsive plans and product ideas are used instead of outdated ones.&lt;&#x2F;p&gt;

&lt;p&gt;The third benefit concerns the size of products shipped. Focusing on minimizing lead time incentivizes teams to deliver new products as MVPs and smaller changes to existing products. This more granular approach decreases the probability of large failures and over-investment in projects that will not succeed.&lt;&#x2F;p&gt;

&lt;p&gt;The fourth and most important benefit is that SoundCloud can gain information on its product development faster. By shipping faster, we get market information before our competitors. We get feedback on a product earlier in its development cycle. We can make small adjustments in strategies towards our desired outcome rather than large corrections after over-investing in a product that had limited success.&lt;&#x2F;p&gt;

&lt;p&gt;How can SoundCloud improve lead and cycle time? There are several important variables we can leverage.&lt;&#x2F;p&gt;

&lt;h3&gt;Variables affecting lead and cycle time&lt;&#x2F;h3&gt;

&lt;p&gt;This section presents the definitions of variables affecting lead and cycle time as well as an explanation for the effect of each.&lt;&#x2F;p&gt;

&lt;h4&gt;The ratio of WIP to contributors&lt;&#x2F;h4&gt;

&lt;p&gt;The ratio of Work in Progress (WIP) to contributors is a measure of how much contributors in a team are multitasking on average. PDKP estimates this by dividing the number of WIP issues in a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.atlassian.com&#x2F;software&#x2F;jira&quot;&gt;Jira&lt;&#x2F;a&gt; project by the number of engineers active on that project.&lt;&#x2F;p&gt;

&lt;p&gt;Keeping the ratio of WIP to contributors slightly below 1.0 can decrease cycle time in two ways. First, if engineers develop one product at a time, products will be ready sooner than if they multitask. Say an engineer has two tasks, each of which will take two days. They can either work on both in parallel or one after the other. The schedules of these two options are shown below.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;Scheduling two tasks for one engineer&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;In Schedule 1, the engineer works on both in parallel, task 1 is complete at the end of day 3 and task 4 is complete at the end of day 4. The more the engineer interleaves the work, the longer it takes to complete both tasks. In the extreme case—multitasking within each day—both projects might not be completed until the end of day 4. In Schedule 2, the engineer works on the first and then the second, the first is completed at the end of day two and the second at the end of day four. By working on one thing at a time, the engineers have completed a task earlier without adding work!&lt;&#x2F;p&gt;

&lt;p&gt;The second reason to keep the ratio of WIP to contributors ratio slightly below 1.0 concerns the ability of individual members to change development roles quickly. To understand why, see the idealized model of a team’s workflow below.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt; Software engineering is an invisible “U-shaped flow cell.”&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Engineers need to quickly transition between planning, developing, reviewing, and fixing bugs. They fulfill multiple roles in the software development process. This collaboration pattern is similar to &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.tpslean.com&#x2F;glossary&#x2F;cellmfgdef.htm&quot;&gt;U-shaped flow cells&lt;&#x2F;a&gt; in Lean manufacturing.&lt;&#x2F;p&gt;

&lt;p&gt;Processing tasks in U-shaped cells can be very efficient, but not if the queue of tasks is overloaded. If more tasks are in progress than there are engineers to complete it, items will form queues waiting for attention. For example, say an engineer developing code is overloaded with new feature requests. A queue of feature requests will form. Further, it is likely that they will not be able to review code completed by their teammates, contributing to the formation of a second queue in the review stage. Either cycle time will rise or quality will suffer. Engineers need to switch roles to where queues are forming to push tasks through the queue.&lt;&#x2F;p&gt;

&lt;p&gt;Analogously, overloaded teams with a high WIP to contributors ratio will be less capable of dealing with incoming bug fixes and ad-hoc requests.&lt;&#x2F;p&gt;

&lt;h4&gt;The number of products in WIP&lt;&#x2F;h4&gt;

&lt;p&gt;“Products in WIP” are products in progress. PDKP estimates the number of products in WIP by counting the number of issues in a Jira project that represent a product. For most teams, these are ‘Epic’ or ‘Story’ issues. Products can be either for internal or external users.&lt;&#x2F;p&gt;

&lt;p&gt;Decreasing the number of products in WIP can decrease lead and cycle time. To illustrate, imagine we have two tasks each of which takes four days and can be shared between two engineers with no overhead. There are two schedules for this work shown below: either each engineer takes one task or they pair on the first, then the second.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt; Scheduling two tasks for two engineers&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;In Schedule 1, each engineer takes a single task, both products ship in four days. In Schedule 2, the first task is ready in two days and the second at four days. We’ve shipped the first product two days earlier without adding any work. Pairing adds some overhead, but getting information from shipping a product sooner is often worth it. These same principles apply to the planning phases of product development.&lt;&#x2F;p&gt;

&lt;h4&gt;Inventory&lt;&#x2F;h4&gt;

&lt;p&gt;In business, inventory is the components of a product that have not been assembled or manifested into a product ready for sale. In engineering, our inventory is anything we work on that results in a feature that is yet undelivered including undeployed code, RFCs, and unfinished Jira issues. PDKP estimates inventory with the number of commits or number of additions and deletions in pull requests in repositories that have been updated in the last three months.&lt;&#x2F;p&gt;

&lt;p&gt;Increasing amounts of code inventory is a symptom of bad flow and has a negative effect on cycle time. The more inventory there is, the more development time has accumulated in work not being seen by our users. Generally, inventory depreciates in value as it ages.&lt;&#x2F;p&gt;

&lt;p&gt;Ideally, we want to achieve what is called a “one piece flow,” a process where all code inventory is actively being worked on. This means that there should be at most one product in progress per team and one task in progress per engineer.&lt;&#x2F;p&gt;

&lt;p&gt;The challenge in accomplishing one piece flow in software development is that code inventory is invisible. In a factory that produces physical goods, inventory is obvious, it stacks up on the factory floor. In a software company, it’s not so obvious.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt; Software inventory isn’t visible in the same way manufacturing inventory is.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;For this reason, we need to take measures to monitor code inventory and make sure it gets shipped in a timely manner.&lt;&#x2F;p&gt;

&lt;h4&gt;The ratio of features to engineers&lt;&#x2F;h4&gt;

&lt;p&gt;The ratio of features to engineers measures how many features each team member must maintain on average. We estimate it by dividing the number of configuration files indicating an individual feature in a team’s active repositories by the number of engineers active on a team’s Jira board.&lt;&#x2F;p&gt;

&lt;p&gt;Higher ratios correlate with higher rates of bug reports and maintenance overhead. If a team has an abnormally high ratio, the company should consider providing them with more headcount or redistributing their responsibilities to get a more even distribution.&lt;&#x2F;p&gt;

&lt;h4&gt;Bugs&lt;&#x2F;h4&gt;

&lt;p&gt;Our exposure to bugs is estimated by the number of issues of issue type &#39;Bug&#39; in a Jira project.&lt;&#x2F;p&gt;

&lt;p&gt;Persistent bugs have a negative impact on lead and cycle time. Users and Community Support re-report the same bugs which then have to be reinvestigated before confirming they are duplicates. If engineers build on top of buggy code, the resultant implementation can be flawed, at worst resulting in wasted code that cannot stay in production. Most importantly, bugs make it harder for engineers to learn what is going wrong and to prevent future problems.&lt;&#x2F;p&gt;

&lt;h4&gt;Lower bound on time to backlog completion&lt;&#x2F;h4&gt;

&lt;p&gt;Multiplying a team’s cycle time by the number of products remaining in their backlog estimates a lower bound on how long it would take a team to complete their backlog.&lt;&#x2F;p&gt;

&lt;p&gt;Having a large backlog has three negative effects. First, it increases our lead time. Planning too far in advance creates a queue of work that teams cannot work through quickly and takes development time away from line managers and engineers. Second, it decreases our flexibility in changing plans in the future. Once something is on the backlog, teams feel committed to deliver them. Third, it decreases motivation.&lt;&#x2F;p&gt;

What did we do about it?

&lt;p&gt;This section describes SoundCloud’s continuous learning and improvement cycle where its project managers collect flow metrics and apply analysis thereof in guidelines to improve product development flow.&lt;&#x2F;p&gt;

&lt;p&gt;For the first set of guidelines, project managers used principles from manufacturing and queueing theory to encourage teams to work on fewer products at a time and engineers work on fewer tasks at a time.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;em&gt;Importantly, the guidelines don’t suggest that teams work harder. They are intended to increase focus, not the total number of hours worked.&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;h3&gt;Metrics collection&lt;&#x2F;h3&gt;

&lt;p&gt;Starting in March 2017, PDKP has collected lead time, cycle time, WIP, bugs, contributor, and code inventory metrics from SoundCloud’s Jira and GitHub organizations.&lt;&#x2F;p&gt;

&lt;p&gt;To date, 18 engineering teams have configured the system to collect lead and cycle time metrics. Inventory metrics are collected for all development in SoundCloud’s GitHub organization.&lt;&#x2F;p&gt;

&lt;p&gt;All metrics are aggregated and presented in the PDKP &lt;a href&#x3D;&quot;&#x2F;assets&#x2F;posts&#x2F;pdkp_overview_dashboard-ec0697a42a25d383155615a75db47027.png&quot;&gt;dashboard&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;&#x2F;assets&#x2F;posts&#x2F;pdkp_summary_dashboard-058b83ec8e3595651dc5c377f51408f5.png&quot;&gt;summary dashboard&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;h3&gt;Guidelines and motivating analysis&lt;&#x2F;h3&gt;

&lt;h4&gt;1. The company should commit to fewer products at a time&lt;&#x2F;h4&gt;

&lt;p&gt;SoundCloud can reduce cycle time and increase its flexibility in planning new products by reducing the number of products it commits to. Teams had high lower bounds on time to backlog completion, suggesting that overcommitment was a problem.&lt;&#x2F;p&gt;

&lt;p&gt;Of the 18 teams in the PDKP metrics collection, the median lower bound on time to backlog completion is 766 days, or about 2.1 years. While this number could represent misuse of Jira, it suggested an opportunity to shift more time from planning future products to focusing on more immediate products.&lt;&#x2F;p&gt;

&lt;h4&gt;2. Teams should work on fewer product features at a time&lt;&#x2F;h4&gt;

&lt;p&gt;Provided the work can be parallelized, teams should work on one product at a time in order to maximize flow. The number of products teams had in progress was too high.&lt;&#x2F;p&gt;

&lt;p&gt;Across the 18 teams sampled, PDKP reported the median number of products in progress at once is four. An in-person survey of teams in the Creators Organization reported a similar number.&lt;&#x2F;p&gt;

&lt;p&gt;It is unlikely that there is enough downtime in the development of products that teams needed to have four in progress at any given time to be productive.&lt;&#x2F;p&gt;

&lt;h4&gt;3. Engineers should work on fewer tasks at a time&lt;&#x2F;h4&gt;

&lt;p&gt;In theory, engineers should work on one task at a time until it is completed to maximize flow. The ratio of tasks in WIP to engineers was too high.&lt;&#x2F;p&gt;

&lt;p&gt;Across the 18 teams sampled, PDKP reported the average ratio of WIP to engineers was consistently over 2.0.&lt;&#x2F;p&gt;

&lt;p&gt;Of course, it is not always practical to work on one thing at a time while developing software. For example, teams with long running batch jobs will have enough downtime while waiting for the job to finish to do meaningful work on other tasks. However, like teams with too many products, it is unlikely that the majority of teams with high ratios in the sample have this specific problem.&lt;&#x2F;p&gt;

&lt;p&gt;Importantly, high engineer utilization is not a goal. One important result of queuing theory is that &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;hbr.org&#x2F;2012&#x2F;05&#x2F;six-myths-of-product-development&quot;&gt;not all nodes in the queue have to be fully utilized&lt;&#x2F;a&gt; to maximize the throughput of the queue overall. In fact, it’s good if our engineers have a little idle time.&lt;&#x2F;p&gt;

&lt;h4&gt;4. Engineering should reduce its code inventory&lt;&#x2F;h4&gt;

&lt;p&gt;SoundCloud has a high amount of code inventory. Reducing it is a big opportunity for us to improve these metrics.&lt;&#x2F;p&gt;

&lt;p&gt;Over SoundCloud’s GitHub repositories updated in the last three months at the time of the first metrics collection, there have been between 1,200 to 1,500 commits in open pull requests representing 200,000 to 300,000 lines of code. The average age of this inventory was 65 days old. On average, teams have 22 commits in open pull requests. That’s a lot.&lt;&#x2F;p&gt;

&lt;p&gt;Teams at SoundCloud have had success in increasing flow by decreasing inventory. The Content ID Team reduced its inventory over a period of two months, bringing the daily average number of commits in open PRs from 46 to less than 5 and the average age of those commits from 14 to less than 1 day. During this time, the team’s cycle time dropped from 12 days to 3 days.&lt;&#x2F;p&gt;

&lt;p&gt;Given this &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Longitudinal_study&quot;&gt;longitudinal experimental design&lt;&#x2F;a&gt;, it’s only possible to show correlation—not causation—between reducing inventory and cycle time. However, the correlation is positive and suggests further effort on this front could help.&lt;&#x2F;p&gt;

&lt;p&gt;Importantly, code review should not be rushed. Rather, it is better to carefully and thoroughly review code as it reaches the review stage promptly or use a continuous integration review process where merging code into the master branch is not blocked by code review.&lt;&#x2F;p&gt;

&lt;h4&gt;5. Engineering should monitor and reduce the number of bugs over time&lt;&#x2F;h4&gt;

&lt;p&gt;Monitoring and reducing the number of bugs in a team’s system has a positive impact on lead and cycle time. SoundCloud is currently implementing a standardized bug reporting process. This is another opportunity to speed up both development and the learning feedback cycle.&lt;&#x2F;p&gt;

&lt;h3&gt;Guidelines for management&lt;&#x2F;h3&gt;

&lt;p&gt;The number of products product management commits to at once caused teams to overload their product development queues. Engineering managers then overloaded engineers by accepting multiple products into WIP at once.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;Overloaded product queues propagate from product managers to project managers to engineers.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Note that the propagation of queue overload can cause both the single engineer and multiple engineers scheduling problems.&lt;&#x2F;p&gt;

&lt;p&gt;Product and engineering management must lead and support changes to the way we work in order to improve flow, especially since some of these practices have become habitual in the company. Accordingly, the following guidelines were given to product managers.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;1. The company should commit to fewer products at a time&lt;&#x2F;strong&gt; - Ideally, teams and product leadership should agree on a limit for the number of products that can be in progress for each team.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;2. Teams should work on fewer product features at a time&lt;&#x2F;strong&gt; - Product managers should prioritize one product at time, one feature at a time and encourage the teams to deliver likewise if possible.&lt;&#x2F;p&gt;

&lt;p&gt;The following guidelines were given to engineering managers.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;2. Teams should work on fewer product features at a time&lt;&#x2F;strong&gt; - Engineering managers should be conscious of pulling disparate product features onto the board at the same time. They should encourage the team to focus on a limited number of features at once, ideally one. They should encourage dividing work for a product feature into subtasks that can be shared in the team to enable that focus.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;3. Engineers should work on fewer tasks at a time&lt;&#x2F;strong&gt; - Engineering managers should educate their teams about flow management and encourage them to focus on a task until it’s done, if possible.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;4. Engineering should reduce its code inventory&lt;&#x2F;strong&gt; - Engineering managers should monitor their team’s code inventory and encourage them to keep it low.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;5. Engineering should monitor and reduce the number of bugs over time&lt;&#x2F;strong&gt; - Engineering managers should monitor their team’s backlog of bugs and schedule them to be fixed.&lt;&#x2F;p&gt;

&lt;h3&gt;Guidelines for teams&lt;&#x2F;h3&gt;

&lt;p&gt;Teams were given the following guidelines.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;3. Engineers should work on fewer tasks at a time&lt;&#x2F;strong&gt; - Engineers should learn the basics of flow management and try to focus on one feature at a time if possible.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;4. Engineering should reduce its code inventory&lt;&#x2F;strong&gt; - Engineers should review code promptly once it hits the review stage and alert others when work is blocked.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;5. Engineering should monitor and reduce the number of bugs over time&lt;&#x2F;strong&gt; - Engineers should fix bugs!&lt;&#x2F;p&gt;

&lt;h3&gt;A tool for improving flow&lt;&#x2F;h3&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Visual_control&quot;&gt;Simple, visual controls&lt;&#x2F;a&gt; are provided as part of PDKP to help project managers improve their product development flow. These are presented on the PDKP Summary Dashboard, shown below.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;The PDKP Summary Dashboard.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;The metrics below are displayed on the board.&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Lead time&lt;&#x2F;li&gt;
&lt;li&gt;Cycle time&lt;&#x2F;li&gt;
&lt;li&gt;Ratio of features to engineers&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;A second set of metrics, shown below, is paired with colors to suggest specific actions. Green means the team’s performance against the metric is good, yellow means performance against the metric is likely OK, red means the metric should be brought down to promote flow.&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;The estimated lower bound of days until backlog completion&lt;&#x2F;li&gt;
&lt;li&gt;The number of unresolved bugs in the team’s backlog&lt;&#x2F;li&gt;
&lt;li&gt;The number of products in WIP&lt;&#x2F;li&gt;
&lt;li&gt;The ratio of WIP to engineers&lt;&#x2F;li&gt;
&lt;li&gt;The number of commits in open PRs&lt;&#x2F;li&gt;
&lt;li&gt;The average age of code in open PRs&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;The motivations for optimizing these metrics was discussed in a previous section.&lt;&#x2F;p&gt;

&lt;p&gt;The actions suggested by the action colors on the Summary Dashboard will not always be appropriate in your day-to-day work. Sometimes they will be wrong. However, simply asking questions about your workflow when a metric lights up red will likely improve your product development flow.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;em&gt;Importantly, actions never suggest that a team isn&#39;t working hard enough. They are intended to increase focus, not the total number of hours worked.&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

Preliminary results

&lt;p&gt;Since the addition of the last teams to the PDKP project on June 23rd, 2017, SoundCloud has seen a reported 39% decrease in the average lead time from a mean of 106.4 days to 64.7 days and a 52% decrease in average cycle time from a mean of 77.8 days to 37.2 days.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;Aggregate lead time metrics since June 23rd, 2017.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;Aggregate cycle time metrics since June 23rd, 2017.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;This decrease is correlated with product and engineering leadership successfully decreasing the average number of products SoundCloud’s teams have in WIP from an average of 7.4 products per team to 3.1 products per team.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;Aggregate metrics of the number of products in WIP decreasing since June 23rd, 2017.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;More recently, engineering managers and engineering teams successfully reduced our code inventory from a rolling average of about 1,200 commits to about 500 commits. It is likely that we have not yet seen the full benefits of this reduction reflected in our lead and cycle times.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;div&gt;A recent decrease in code inventory.&lt;&#x2F;div&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;It is possible that much of the improvement in our measured lead and cycle times is due to cleanup and better use of our Jira. Tickets in Jira now better represent what is actually happening in reality. If this is true, at least we are getting a better understanding of what the true numbers are.&lt;&#x2F;p&gt;

&lt;h3&gt;Future improvements&lt;&#x2F;h3&gt;

&lt;p&gt;SoundCloud still has a great deal of room left to improve its product development flow. Specifically, the number of products teams work on at a time, the number of issues engineers work on at a time, and its amount of code inventory needs to be further reduced.&lt;&#x2F;p&gt;

&lt;p&gt;The number of products teams are working on at a time has successfully been reduced, but should be reduced further. Teams still work on an average of 4.5 products at a time. While it does not always make sense for a whole team to work on one product simultaneously, having the average be just slightly below the average number of engineers per team (about five), suggests there is room for improvement.&lt;&#x2F;p&gt;

&lt;p&gt;The number of tasks that engineers have in WIP has not improved and should be reduced. Since June 23rd, 2017, it has remained at an average of about 2.0 per engineer. Bringing this number closer to 1.0 would likely decrease our lead and cycle times.&lt;&#x2F;p&gt;

&lt;p&gt;SoundCloud’s amount of code inventory also remains a problem. Further reducing this number represents another big opportunity to reduce our lead and cycle times.&lt;&#x2F;p&gt;

&lt;p&gt;This said, we’ve improved our product development flow a great deal. We&#39;re excited to learn more about our development cycle and to make future improvements.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/soundcloudapiblog/~3/dtpiGKDfgiE/deliver-software-faster-by-managing-work-in-progress-not-by-adding-overtime.rss"/>
    <published>2017-09-27T00:00:00.000Z</published>
  </entry>
  <entry>
    <title>Defining Aggregators | Stratechery</title>
    <content type="html">&lt;p&gt;(&lt;em&gt;Note: this is not a typical Stratechery article; there is no over-arching narrative or reference to current news. Rather, the primary goal is to provide a future point of reference&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;
&lt;p&gt;Aggregation Theory describes how platforms (i.e. aggregators) come to dominate the industries in which they compete in a systematic and predictable way. Aggregation Theory should serve as a guidebook for aspiring platform companies, a warning for industries predicated on controlling distribution, and a primer for regulators addressing the inevitable antitrust concerns that are the endgame of Aggregation Theory.&lt;&#x2F;p&gt;
&lt;p&gt;Aggregation Theory was first coined in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;aggregation-theory&#x2F;&quot;&gt;this eponymously-titled 2015 article&lt;&#x2F;a&gt;. That article followed on the heels of a series of posts about &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;airbnb-and-the-internet-revolution&#x2F;&quot;&gt;Airbnb&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;netflix-and-the-conservation-of-attractive-profits&#x2F;&quot;&gt;Netflix&lt;&#x2F;a&gt;, and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;why-web-pages-suck&#x2F;&quot;&gt;web publishing&lt;&#x2F;a&gt; that, I realized, fit together into a broader framework that was applicable to a range of Internet-enabled companies. Over the ensuing two years I have significantly fleshed out the ideas in that original article, yet subsequent articles necessarily link to an article that marked the beginning of Aggregation Theory, not the current state.&lt;&#x2F;p&gt;
&lt;p&gt;That noted, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;aggregation-theory&#x2F;&quot;&gt;the original article&lt;&#x2F;a&gt; is very much worth reading, particularly its description of how value has shifted away from companies that control the distribution of scarce resources to those that control demand for abundant ones; the purpose of this article is to catalog exactly what the latter look like.&lt;&#x2F;p&gt;
&lt;h4&gt;The Characteristics of Aggregators&lt;&#x2F;h4&gt;
&lt;p&gt;Aggregators have all three of the following characteristics; the absence of any one of them can result in a very successful business (in the case of Apple, arguably the most successful business in history), but it means said company is not an aggregator.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Direct Relationship with Users&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This point is straight-forward, yet the linchpin on which everything else rests: aggregators have a direct relationship with users. This may be a payment-based relationship, an account-based one, or simply one based on regular usage (think Google and non-logged in users).&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Zero Marginal Costs For Serving Users&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Companies traditionally have had to incur (up to) three types of marginal costs when it comes to serving users&#x2F;customers directly.&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The cost of goods sold (COGS), that is, the cost of producing an item or providing a service&lt;&#x2F;li&gt;
&lt;li&gt;Distribution costs, that is the cost of getting an item to the customer (usually via retail) or facilitating the provision of a service (usually via real estate)&lt;&#x2F;li&gt;
&lt;li&gt;Transaction costs, that is the cost of executing a transaction for a good or service, providing customer service, etc.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Aggregators incur none of these costs:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The goods “sold” by an aggregator are digital and thus have zero marginal costs (they may, of course, have significant fixed costs)&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&#x2F;#footnote_0_2759&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;These digital goods are delivered via the Internet, which results in zero distribution costs&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&#x2F;#footnote_1_2759&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Transactions are handled automatically through automatic account management, credit cards payments, etc.&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&#x2F;#footnote_2_2759&quot;&gt;3&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;This characteristic means that businesses like Apple hardware and Amazon’s traditional retail operations are not aggregators; both bear significant costs in serving the marginal customer (and, in the case of Amazon in particular, have achieved such scale that the service’s relative cost of distribution is actually a moat).&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Demand-driven Multi-sided Networks with Decreasing Acquisition Costs&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Because aggregators deal with digital goods, there is an abundance of supply; that means users reap value through discovery and curation, and most aggregators get started by delivering superior discovery.&lt;&#x2F;p&gt;
&lt;p&gt;Then, once an aggregator has gained some number of end users, suppliers will come onto the aggregator’s platform on the aggregator’s terms, effectively commoditizing and modularizing themselves. Those additional suppliers then make the aggregator more attractive to more users, which in turn draws more suppliers, in a virtuous cycle.&lt;&#x2F;p&gt;
&lt;p&gt;This means that for aggregators, customer acquisition costs decrease over time; marginal customers are attracted to the platform by virtue of the increasing number of suppliers. This further means that aggregators enjoy winner-take-all effects: since the value of an aggregator to end users is continually increasing it is exceedingly difficult for competitors to take away users or win new ones.&lt;&#x2F;p&gt;
&lt;p&gt;This is in contrast to non-platform companies that face &lt;em&gt;increasing&lt;&#x2F;em&gt; customer acquisition costs as their user base grows. That is because initial customers are often a perfect product-market fit; however, as that fit decreases, the surplus value from the product decreases as well and quickly turns negative. Generally speaking, any business that creates its customer value in-house is not an aggregator because eventually its customer acquisition costs will limit its growth potential.&lt;&#x2F;p&gt;
&lt;p&gt;One additional note: the aforementioned Apple and Amazon do have businesses that qualify as aggregators, at least to a degree: for Apple, it is the App Store (as well as the Google Play Store). Apple owns the user relationship, incurs zero marginal costs in serving that user, and has a network of App Developers continually improving supply in response to demand. Amazon, meanwhile, has Amazon Merchant Services, which is a two-sided network where Amazon owns the end user and passes all marginal costs to merchants (i.e. suppliers).&lt;&#x2F;p&gt;
&lt;h4&gt;Classifying Aggregators&lt;&#x2F;h4&gt;
&lt;p&gt;Aggregation is fundamentally about owning the user relationship and being able to scale that relationship; that said, there are different levels of aggregation based on the aggregator’s relationship to suppliers:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Level 1 Aggregators: Supply Acquisition&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Level 1 Aggregators acquire their supply; their market power springs from their relationship with users, but is primarily manifested through superior buying power. That means these aggregators take longer to build and are more precarious in the short-term.&lt;&#x2F;p&gt;
&lt;p&gt;The best example of a Level 1 Aggregator is Netflix. Netflix owns the user relationship and bears no marginal costs in terms of COGS, distribution costs,&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&#x2F;#footnote_3_2759&quot;&gt;4&lt;&#x2F;a&gt; or transaction costs.&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&#x2F;#footnote_4_2759&quot;&gt;5&lt;&#x2F;a&gt; Moreover, Netflix does not create shows, but it does acquire them (increasingly exclusively to Netflix); the more content Netflix acquires, the more its value grows to potential users. And, the more users Netflix gains, the more it can spend on acquiring content in a virtuous cycle.&lt;&#x2F;p&gt;
&lt;p&gt;Level 1 aggregators typically operate in industries where supply is highly differentiated, and are susceptible to competitors with deeper pockets or orthogonal business models.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Level 2 Aggregators: Supply Transaction Costs&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Level 2 Aggregators do not own their supply; however, they do incur transaction costs in bringing suppliers onto their platform. That limits the growth rate of Level 2 aggregators absent the incursion of significant supplier acquisition costs.&lt;&#x2F;p&gt;
&lt;p&gt;Uber is a Level 2 Aggregator (and Airbnb in some jurisdictions due to local regulations). Uber owns the user relationship and bears no marginal costs in terms of COGS, distribution costs, or transaction costs. Moreover, Uber does not own cars; those are supplied by drivers who sign up for the platform directly. At that point, though Uber needs to undertake steps like background checks, vehicle verification, etc. that incur transaction costs both in terms of money as well as time. This limits supply growth which ultimately limits demand growth.&lt;&#x2F;p&gt;
&lt;p&gt;Level 2 aggregators typically operate in industries with significant regulatory concerns that apply to the quality and safety of suppliers.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Level 3 Aggregators: Zero Supply Costs&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Level 3 Aggregators do not own their supply and incur no supplier acquisition costs (either in terms of attracting suppliers or on-boarding them).&lt;&#x2F;p&gt;
&lt;p&gt;Google is the prototypical Level 3 Aggregator: suppliers (that is, websites) are not only accessible by Google by default, but in fact actively make themselves more easily searchable and discoverable (indeed, there is an entire industry — search engine optimization (SEO) — that is predicated on suppliers &lt;em&gt;paying&lt;&#x2F;em&gt; to get themselves onto Google more effectively).&lt;&#x2F;p&gt;
&lt;p&gt;Social networks are also Level 3 Aggregators: initial supply is provided by users (who are both users and suppliers); over time, as more and more attention is given to the social networks, professional content creators add their content to the social network for free.&lt;&#x2F;p&gt;
&lt;p&gt;Level 3 aggregators are predicated on massive numbers of users, which means they are usually advertising-based (which means they are free to users). An interesting exception is the aforementioned App Stores: in this case the limited market size (relatively speaking) is made up by the significantly increased revenue-per-customer available to app developers with suitable business models (primarily consumable in-app purchases).&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;The Super-Aggregators&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Super-Aggregators operate multi-sided markets with at least &lt;em&gt;three&lt;&#x2F;em&gt; sides — users, suppliers, and advertisers — and have zero marginal costs on all of them. The only two examples are Facebook and Google, which in addition to attracting users and suppliers for free, also have self-serve advertising models that generate revenue without corresponding variable costs (other social networks like Twitter and Snapchat rely to a much greater degree on sales-force driven ad sales).&lt;&#x2F;p&gt;
&lt;p&gt;For more about Super-Aggregators see &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-super-aggregators-and-the-russians&#x2F;&quot;&gt;this article&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;h4&gt;Regulating Aggregators&lt;&#x2F;h4&gt;
&lt;p&gt;Given the winner-take-all nature of Aggregators, there is, at least in theory, a clear relationship between &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;antitrust-and-aggregation&#x2F;&quot;&gt;Antitrust and Aggregation&lt;&#x2F;a&gt;. However, traditional jurisprudence is limited by three factors:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The key characteristic of Aggregators is that they own the user relationship. Critically, the user chooses this relationship because the aggregator offers a superior service. This makes it difficult to make antitrust arguments based on consumer welfare (the standard for U.S. jurisprudence for the last 35 years).&lt;&#x2F;li&gt;
&lt;li&gt;The nature of digital markets is such that aggregators may be inevitable; traditional regulatory relief, like breaking companies up or limiting their addressable markets will likely result in a new aggregator simply taking their place.&lt;&#x2F;li&gt;
&lt;li&gt;Aggregators make it dramatically simpler and cheaper for suppliers to reach customers (which is why suppliers work so hard to be on their platform). This increases the types of new businesses that can be created by virtue of the aggregators existing (YouTube creators, Amazon merchants, small publications, etc.); regulators should take care to preserve these new opportunities (and even protect them).&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;These are guidelines for regulation; determining specifics is an ongoing project for Stratechery, as are the definitions in this article.&lt;&#x2F;p&gt;
&lt;ol&gt;&lt;li&gt;And yes, in the very long run, all fixed costs are marginal costs; that said, while the amount of capital costs for aggregators is massive, their userbase is so large that even over the long run the fixed costs per user are infinitesimal, particularly relative to revenue generated&lt;&#x2F;li&gt;&lt;li&gt;In terms of the marginal customer; in aggregate there are of course significant bandwidth costs, but see the previous footnote&lt;&#x2F;li&gt;&lt;li&gt;Credit card fees are a significant transaction cost that do limit some types of businesses, but will generally be ignored in this analysis&lt;&#x2F;li&gt;&lt;li&gt;Obviously bandwidth in the aggregate is a particularly large cost of Netflix&lt;&#x2F;li&gt;&lt;li&gt;In all cases, credit card fees excepted&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt;</content>
    <link rel="alternate" href="https://stratechery.com/2017/defining-aggregators/"/>
    <published>2017-09-26T14:27:17.000Z</published>
  </entry>
  <entry>
    <title>Books and Blogs | Stratechery</title>
    <content type="html">&lt;p&gt;A book, at least a successful one, has a great business model: spend a lot of time and effort writing, editing, and revising it up front, and then make money selling as many identical copies as you can. The more you sell the more you profit, because the work has already been done. Of course if you are successful, the pressure is immense to write another; the payoff, though, is usually greater as well: it is much easier to sell to customers you have already sold to before than it is to find customers for the very first time.&lt;&#x2F;p&gt;
&lt;p&gt;There is, though, at least from my perspective, a downside to this model: a book, by necessity, is a finished object; that is why it can be printed and distributed at scale. The problem is that one’s thoughts may not be final; indeed, the more vital the subject, the more likely a book, with its many-month production process, is to be obsolete the moment it enters its final state of permanence.&lt;&#x2F;p&gt;
&lt;p&gt;When I started Stratechery &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2013&#x2F;welcome-to-stratechery&#x2F;&quot;&gt;four years ago&lt;&#x2F;a&gt;, with my 384 Twitter followers and little else, the thought of writing a book never crossed my mind; not only did I not have a contract, I didn’t even have a topic beyond the business and strategy of technology, a niche I thought was both under-served and that I had the inklings of a point of view on.&lt;&#x2F;p&gt;
&lt;p&gt;Since then it has been an incredible journey, especially intellectually: instead of writing with a final goal in mind — a manuscript that can be printed at scale — Stratechery has become in many respects a journal of my own attempts to understand technology specifically and the way in which it is changing every aspect of society broadly. And, it turns, out, the business model is even better: instead of taking on the risk of writing a book with the hope of one-time payment from customers at the end, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;membership&#x2F;&quot;&gt;Stratechery subscribers&lt;&#x2F;a&gt; fund that intellectual exploration directly and on an ongoing basis; all they ask is that I send them my journals of said exploration every day in email form.&lt;&#x2F;p&gt;
&lt;p&gt;To put it another way, at least in my experience, the lowly blog has fully disrupted the mighty book: the former was long thought to be an inferior alternative, or at best, a complementary piece for an author looking to drum up an audience; slowly but surely, though, the tools have gotten better, everything from social media for marketing to Stripe for payments to WordPress for publishing to tools like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;memberful.com&quot;&gt;Memberful&lt;&#x2F;a&gt; for subscriber management. It became increasingly apparent, to me anyways, that while books remained a fantastic medium for stories, both fiction and non, blogs were not only good enough, they were actually better for ideas closely tied to a world changing far more quickly than any book-related editorial process can keep up with.&lt;&#x2F;p&gt;
&lt;p&gt;To be sure, I had discovered in 2015 what might have been a worthy book topic: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;aggregation-theory&#x2F;&quot;&gt;Aggregation Theory&lt;&#x2F;a&gt;. That, though, makes my point: the biggest problem I have with Aggregation Theory is that that old article I keep linking to is incomplete. My thinking on what Aggregation Theory is, what its implications are, and how that should affect strategy both inside and outside of technology and, particularly over the last year, potential regulation, has evolved considerably.&lt;&#x2F;p&gt;
&lt;p&gt;To that end, it is with relief I write the following article: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&quot;&gt;Defining Aggregators&lt;&#x2F;a&gt;. I’ll be honest: it’s more for me than for you; my thinking has evolved, and clarified, and I want to link to something that represents my point of view in 2017, not just 2015. That I can do so by merely hitting ‘Publish’ is a great thing: these ideas are very much alive, and I don’t really see the point of trees that are dead, literally or virtually.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;em&gt;Note: This article is meant as an introduction to &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;defining-aggregators&quot;&gt;Defining Aggregators&lt;&#x2F;a&gt;; it is posted as a separate article as I plan to link to that article many times in the future&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://stratechery.com/2017/books-and-blogs/"/>
    <published>2017-09-26T14:20:31.000Z</published>
  </entry>
  <entry>
    <title>A Brief History of Modularity | Pony Foo</title>
    <content type="html">&lt;div&gt;&lt;p&gt;When it comes to JavaScript, modularity is a modern concept. In this article we’ll quickly revisit and summarize the milestones in how modularity evolved in the world of JavaScript. This isn’t meant to be a comprehensive list, by any means, but instead it’s meant to illustrate the major paradigm changes along the history of JavaScript.&lt;&#x2F;p&gt;Script Tags and Closures &lt;p&gt;In the early days, JavaScript was inlined in HTML &lt;code&gt;&amp;lt;script&amp;gt;&lt;&#x2F;code&gt; tags. At best, it was offloaded to dedicated script files, all of which shared a global scope.&lt;&#x2F;p&gt; &lt;p&gt;Any variables declared in one of these files or inline scripts would be imprinted on the global &lt;code&gt;window&lt;&#x2F;code&gt; object, creating leaks across entirely unrelated scripts that might’ve lead to conflicts or even broken experiences, where a variable in one script might inadvertently replace a global that another script was relying on.&lt;&#x2F;p&gt; &lt;p&gt;Eventually, as web applications started growing in size and complexity, the concept of scoping and the dangers of a global scope became evident and more well-known. Immediately-invoking function expressions (IIFE) were invented and became an instant mainstay. An IIFE worked by wrapping an entire file or portions of a file in a function that executed immediately after evaluation. Each function in JavaScript creates a new level of scoping, meaning &lt;code&gt;var&lt;&#x2F;code&gt; variable bindings would be contained by the IIFE. Even though variable declarations are hoisted to the top of their containing scope, they’d never become implicit globals, thanks to the IIFE wrapper, thus suppressing the brittleness of implicit JavaScript globals.&lt;&#x2F;p&gt; &lt;p&gt;Several flavors of IIFE can be found in the next example snippet. The code in each IIFE is isolated and can only escape onto the global context via explicit statements such as &lt;code&gt;window.fromIIFE &#x3D; true&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;(function() {
  console.log(&#39;IIFE using parenthesis&#39;)
})()

~function() {
  console.log(&#39;IIFE using a bitwise operator&#39;)
}()

void function() {
  console.log(&#39;IIFE using the void operator&#39;)
}()
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;Using the IIFE pattern, libraries would typically create modules by exposing and then reusing a single binding on the &lt;code&gt;window&lt;&#x2F;code&gt; object, thus avoiding global namespace pollution. The next snippet shows how we might create a &lt;code&gt;mathlib&lt;&#x2F;code&gt; component with a &lt;code&gt;sum&lt;&#x2F;code&gt; method in one of these IIFE-based libraries. If we wanted to add more modules to &lt;code&gt;mathlib&lt;&#x2F;code&gt;, we could place each of them in a separate IIFE which adds its own methods to the &lt;code&gt;mathlib&lt;&#x2F;code&gt; public interface, while anything else could stay private to the component that defined the new portion of functionality.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;void function() {
  window.mathlib &#x3D; window.mathlib || {}
  window.mathlib.sum &#x3D; sum

  function sum(...values) {
    return values.reduce((a, b) &#x3D;&amp;gt; a + b, 0)
  }
}()

mathlib.sum(1, 2, 3)
&#x2F;&#x2F; &amp;lt;- 6
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;This pattern was, coincidentally, an open invitation for JavaScript tooling to burgeon, allowing developers – for the first time – to safely concatenate every IIFE module into a single file, reducing the strain on the network.&lt;&#x2F;p&gt; &lt;p&gt;The problem in the IIFE approach was that there wasn’t an explicitly dependency tree. This means developers had to manufacture component file lists in a precise order, so that dependencies would load before any modules that dependend on them did – recursively.&lt;&#x2F;p&gt;RequireJS, AngularJS, and Dependency Injection &lt;p&gt;This is a problem we’ve hardly had to think about ever since the advent of module systems like RequireJS or the dependency injection mechanism in AngularJS, both of which allowed us to explicitly name the dependencies of each module.&lt;&#x2F;p&gt; &lt;p&gt;The following example shows we might define the &lt;code&gt;mathlib&#x2F;sum.js&lt;&#x2F;code&gt; library using RequireJS’s &lt;code&gt;define&lt;&#x2F;code&gt; function, which was added to the global scope. The returned value from the &lt;code&gt;define&lt;&#x2F;code&gt; callback is then used as the public interface for our module.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;define(function() {
  return sum

  function sum(...values) {
    return values.reduce((a, b) &#x3D;&amp;gt; a + b, 0)
  }
})
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;We could then have a &lt;code&gt;mathlib.js&lt;&#x2F;code&gt; module which aggregates all functionality we wanted to include in our library. In our case, it’s just &lt;code&gt;mathlib&#x2F;sum&lt;&#x2F;code&gt;, but we could list as many dependencies as we wanted in the same way. We’d list each dependency using their paths in an array, and we’d get their public interfaces as parameters passed into our callback, in the same order.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;define([&#39;mathlib&#x2F;sum&#39;], function(sum) {
  return { sum }
})
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;Now that we’ve defined a library, we can consume it using &lt;code&gt;require&lt;&#x2F;code&gt;. Notice how the dependency chain is resolved for us in the snippet below.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;require([&#39;mathlib&#39;], function(mathlib) {
  mathlib.sum(1, 2, 3)
  &#x2F;&#x2F; &amp;lt;- 6
})
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;This is the upside in RequireJS and its inherent dependency tree. Regardless of whether our application contained a hundred or thousands of modules, RequireJS would resolve the dependency tree without the need for a carefully maintained list. Given we’ve listed dependencies exactly where they were needed, we’ve eliminated the necessity for a long list of every component and how they’re related to one another, as well as the error-prone process of maintaining such a list. Eliminating such a large source of complexity is merely a side-effect, but not the main benefit.&lt;&#x2F;p&gt; &lt;p&gt;This explicitness in dependency declaration, at a module level, made it obvious how a component was related to other parts of the application. That explicitness in turn fostered a greater degree of modularity, something that was ineffective before because of how hard it was to follow dependency chains.&lt;&#x2F;p&gt; &lt;p&gt;RequireJS wasn’t without problems. The entire pattern revolved around its ability to asynchronously load modules, which was ill-advised for production deployments due to how poorly it performed. Using the asynchronous loading mechanism, you issued hundreds of networks requests in a waterfall fashion before much of your code was executed. A different tool would have to be used to optimize builds for production. Then there was the verbosity factor, where you’d end up with long lists of dependencies, a RequireJS function call, and the callback for your module. On that note, there were quite a few different RequireJS functions and several ways of invoking those functions, complicating its use. The API wasn’t the most intuitive, because there were so many ways of doing the same thing: declaring a module with dependencies.&lt;&#x2F;p&gt; &lt;p&gt;The dependency injection system in AngularJS suffered from many of the same problems. It was an elegant solution at the time, relying on clever string parsing to avoid the dependency array, using function parameter names to resolve dependencies instead. This mechanism was incompatible with minifiers, which would rename parameters to single characters and thus break the injector.&lt;&#x2F;p&gt; &lt;p&gt;Later in the lifetime of AngularJS v1, a build task was introduced that would transform code like the following:&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;module.factory(&#39;calculator&#39;, function(mathlib) {
  &#x2F;&#x2F; …
})
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;Into the format in the following bit of code, which was minification-safe because it included the explicit dependency list.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;module.factory(&#39;calculator&#39;, [&#39;mathlib&#39;, function(mathlib) {
  &#x2F;&#x2F; …
}])
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;Needless to say, the delay in introducing this little-known build tool, combined with the over-engineered aspect of having an extra build step to unbreak something that shouldn’t have been broken, discouraged the use of a pattern that carried such a negligible benefit anyway. Developers mostly chose to stick with the familiar RequireJS-like hardcoded dependency array format.&lt;&#x2F;p&gt; Node.js and the Advent of CommonJS &lt;p&gt;Among the many innovations hailed by Node.js, one was the CommonJS module system – or CJS for short. Taking advantage of the fact that Node.js programs had access to the file system, the CommonJS standard is more in line with traditional module loading mechanisms. In CommonJS, each file is a module with its own scope and context. Dependencies are loaded using a synchronous &lt;code&gt;require&lt;&#x2F;code&gt; function that can be dynamically invoked at any time in the lifecycle of a module, as illustrated in the next snippet.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;const mathlib &#x3D; require(&#39;.&#x2F;mathlib&#39;)
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;Much like RequireJS and AngularJS, CommonJS dependencies are also referred to by a pathname. The main difference is that the boilerplate function and dependency array are now both gone, and the interface from a module could be assigned to a variable binding, or used anywhere a JavaScript expression could be used.&lt;&#x2F;p&gt; &lt;p&gt;Unlike RequireJS or AngularJS, CommonJS was rather strict. In RequireJS and AngularJS you could have many dynamically-defined modules per file, whereas CommonJS had a one-to-one mapping between files and modules. At the same time, RequireJS had several ways of declaring a module and AngularJS had several kinds of factories, services, providers and so on – besides the fact that its dependency injection mechanism was tightly coupled to the AngularJS framework itself. CommonJS, in contrast, had a single way of declaring modules. Any JavaScript file was a module, calling &lt;code&gt;require&lt;&#x2F;code&gt; would load dependencies, and anything assigned to &lt;code&gt;module.exports&lt;&#x2F;code&gt; was its interface. This enabled better tooling and code introspection – making it easier for tools to learn the hierarchy of a CommonJS component system.&lt;&#x2F;p&gt; &lt;p&gt;Eventually, Browserify was invented as way of bridging the gap between CommonJS modules for Node.js servers and the browser. Using the &lt;code&gt;browserify&lt;&#x2F;code&gt; command-line interface program and providing it with the path to an entry point module, one could combine an unthinkable amount of modules into a single browser-ready bundle. The killer feature of CommonJS, the npm package registry, was decisive in aiding its takeover of the module loading ecosystem.&lt;&#x2F;p&gt; &lt;p&gt;Granted, npm wasn’t limited to CommonJS modules or even JavaScript packages, but that was and still is by and large its primary use case. The prospect of having thousands of packages (now over half million and steadily growing) available in your web application at the press of a few fingertips, combined with the ability to reuse large portions of a system on both the Node.js web server and each client’s web browser, was too much of a competitive advantage for the other systems to keep up.&lt;&#x2F;p&gt; ES6, &lt;code&gt;import&lt;&#x2F;code&gt;, Babel, and Webpack &lt;p&gt;As ES6 became standardized in June of 2015, and with Babel transpiling ES6 into ES5 long before then, a new revolution was quickly approaching. The ES6 specification included a module system native to JavaScript, often referred to as ECMAScript Modules (ESM).&lt;&#x2F;p&gt; &lt;p&gt;ESM is largely influenced by CJS and its predecessors, offering a static declarative API as well as a promise-based dynamic programmative API, as illustrated next.&lt;&#x2F;p&gt; &lt;pre&gt;&lt;code&gt;import mathlib from &#39;.&#x2F;mathlib&#39;
import(&#39;.&#x2F;mathlib&#39;).then(mathlib &#x3D;&amp;gt; {
  &#x2F;&#x2F; …
})
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt; &lt;p&gt;In ESM, too, every file is a module with its own scope and context. One major advantage in ESM over CJS is how ESM has – and encourages – a way of statically importing dependencies. Static imports vastly improve the introspection capabilities of module systems, given they can be analyzed statically and lexically extracted from the abstract syntax tree (AST) of each module in the system. Static imports in ESM are constrained to the topmost level of a module, further simplifying parsing and introspection.&lt;&#x2F;p&gt; &lt;p&gt;In Node.js v8.5.0, ESM module support was introduced behind a flag. Most evergreen browsers also support ESM modules behind flags.&lt;&#x2F;p&gt; &lt;p&gt;Webpack is a successor to Browserify that largely took over in the role of universal module bundler thanks to a broader set of features. Just like in the case of Babel and ES6, Webpack has long supported ESM with both its &lt;code&gt;import&lt;&#x2F;code&gt; and &lt;code&gt;export&lt;&#x2F;code&gt; statements as well as the dynamic &lt;code&gt;import()&lt;&#x2F;code&gt; function. It has made a particularly fruitful adoption of ESM, in no little parts thanks to the introduction of a “code-splitting” mechanism whereby it’s able to partition an application into different bundles to improve performance on first load experiences.&lt;&#x2F;p&gt; &lt;p&gt;Given how ESM is native to the language, – as opposed to CJS – it can be expected to completely overtake the module ecosystem in a few years time.&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="https://ponyfoo.com/articles/brief-history-of-modularity"/>
    <published>2017-09-26T11:30:18.000Z</published>
  </entry>
  <entry>
    <title>Troubling Times | Ron Jeffries</title>
    <content type="html">Some random thoughts on the times we are living through.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/troubling-times/"/>
    <published>2017-09-26T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>An Unexpected Python ABI Change | Evan Klitzke</title>
    <content type="html">Earlier this year, a Pyflame user filed a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;uber&#x2F;pyflame&#x2F;issues&#x2F;69&quot;&gt;GitHub
issue&lt;&#x2F;a&gt; reporting that Pyflame didn’t
work reliably with Python 3.6. Sometimes Pyflame would just print garbage output
(e.g. bogus line numbers), a...</content>
    <link rel="alternate" href="https://eklitzke.org/an-unexpected-python-abi-change"/>
    <published>2017-09-26T00:00:00.000Z</published>
  </entry>
  <entry>
    <title>The Ethics of Running a Data Breach Search Service | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;No matter how much anyone tries to sugar coat it, a service like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;&quot;&gt;Have I been pwned&lt;&#x2F;a&gt; (HIBP) which deals with billions of records hacked out of other peoples&#39; systems is always going to sit in a grey area. There are degrees, of course; at one end of the spectrum you have the likes of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;random-thoughts-on-the-use-of-breach-data&#x2F;&quot;&gt;Microsoft and Amazon using data breaches to better protect their customers&#39; accounts&lt;&#x2F;a&gt;. At the other end, there&#39;s services like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;thoughts-on-the-leakedsource-take-down&#x2F;&quot;&gt;the now defunct LeakedSource&lt;&#x2F;a&gt; who happily sold our personal data (including mine) to anyone willing to pay a few bucks for it.&lt;&#x2F;p&gt;
&lt;p&gt;As far as intent goes, HIBP sits at the white end of the scale, as far to that extreme as I can possibly position it. It&#39;s one of many things I do in the security space alongside online training, conference talks, in-person workshops and of course writing this blog. All of these activities focus on how we can make security on the web better; increasing awareness, reducing the likelihood of a successful attack and minimising the damage if it happens. HIBP was always intended to amplify those efforts and indeed it has helped me do that enormously.&lt;&#x2F;p&gt;
&lt;p&gt;What I want to talk about here today is why I&#39;ve made many of the decisions I have regarding the implementation of HIBP. This post hasn&#39;t been prompted by any single event, rather it seeks to address questions I regularly see coming up. I want to explain my thinking, explore why I&#39;ve made many of the decisions I have and invite people to contribute comments with a hope of making it a more useful system for everyone.&lt;&#x2F;p&gt;
The Accessibility of a Publicly Searchable System
&lt;p&gt;The foremost question that comes up as it relates to privacy is &amp;quot;why make the system publicly searchable?&amp;quot; There are both human and technical reasons for this and I want to start with the former.&lt;&#x2F;p&gt;
&lt;p&gt;Returning an immediate answer to someone who literally asks the question &amp;quot;have I been pwned?&amp;quot; is enormously powerful. The immediacy of the response addresses a question that&#39;s clearly important to them at that very moment and from a user experience perspective, you simply cannot beat it.&lt;&#x2F;p&gt;
&lt;p&gt;The value in the UX of this model has significantly contributed to the growth of the service and as such, the awareness its raised. A great example is when you see someone take another person through the experience: &amp;quot;here, you just enter your email address and... whoa!&amp;quot; The penny suddenly drops that data breaches are a serious thing and thus begins the discussion about password strength and reuse, multi-step verification and other fundamental account management hygiene issues.&lt;&#x2F;p&gt;
&lt;p&gt;The fact that someone can search for someone who is not them is a double-edged sword; the privacy risk is obvious in that you may discover someone was in a particular data breach and then use that information to somehow disadvantage them. However, people also extensively use the service to help protect other people, for example by identifying exposed spouses, friends, relatives or even customers and advising them accordingly.&lt;&#x2F;p&gt;
&lt;p&gt;I heard a perfect example of this just the other day when speaking to a security bod in a bank. He explained how HIBP was used when communicating with customers who&#39;d suffered an account takeover. By highlighting that they&#39;d appeared in a breach such as LinkedIn, they are able to help the customer understand the potential source of the compromise. Without being able to publicly locate that customer in HIBP, it would be a much less feasible proposition for the bank.&lt;&#x2F;p&gt;
&lt;p&gt;I mitigate the risk of public discoverability adversely impacting someone by flagging certain breaches as &amp;quot;sensitive&amp;quot; and excluding them from publicly visible results. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;heres-how-im-going-to-handle-ashley&#x2F;&quot;&gt;This concept came in when the Ashley Madison data hit&lt;&#x2F;a&gt; and the only way to see if you&#39;re in that data breach (or any other that poses a higher risk of disadvantaging someone) is to receive an email to the searched address and click on a unique link (I&#39;ll come back to why I don&#39;t do that for all searches in a moment).&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ve actually had many people suggest that it&#39;s ok to show the sensitive results I&#39;m presently returning privately because the privacy of these individuals has already been compromised due to the original breach. I don&#39;t like this argument and the main reason is because I don&#39;t believe the act of someone else having illegally broken into another system means the victims of that breach should be exposed further in ways that would likely disadvantage them. It&#39;s not the only time I&#39;ve heard this, for example after launching &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;Passwords&quot;&gt;Pwned Passwords&lt;&#x2F;a&gt; last month a number of people said &amp;quot;you should just return email address and password pairs because their data is out there anyway&amp;quot;. Shortly after that, I was told I&#39;m &amp;quot;holding people hostage&amp;quot; by not providing the passwords for compromised email addresses. In fact, I had someone get quite irate about that after loading &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;inside-the-massive-711-million-record-onliner-spambot-dump&#x2F;&quot;&gt;the Onliner Spambot data&lt;&#x2F;a&gt; with the bloke in question then proceeding to claim that not disclosing it wasn&#39;t protecting anyone. Someone else suggested I was &amp;quot;too old fashioned and diplomatic&amp;quot;. No! These all present a significantly greater risk for those individuals and for someone who himself is in HIBP a dozen times now, I&#39;d be pretty upset if I saw any of this happening.&lt;&#x2F;p&gt;
Searching by Email Verification is Fraught with Problems
&lt;p&gt;This is the alternative I most frequently hear – &amp;quot;just email the results&amp;quot;. There are many reasons why this is problematic and I&#39;ve already touched on the first above: the UX is terrible. There&#39;s no immediate response and instead you&#39;re stuck waiting for an email to arrive. Now you may argue that a short wait is worth the trade-off, but there&#39;s much more to it than that.&lt;&#x2F;p&gt;
&lt;p&gt;HIBP gets shared and used constructively in all sorts of environments that depend on an immediate response. For example, it gets a huge amount of press and a search is regularly shown in news pieces. Many people (particularly in the infosec community) use it at conference talks and they&#39;re not about to go opening up their personal email to show a result.&lt;&#x2F;p&gt;
&lt;p&gt;But those are arguments in favour of accessibility and I appreciate not everyone will agree with them so let&#39;s move onto hard technical challenges and the first is delivering email. It&#39;s very hard. In all honesty, the single most difficult (and sometimes the single most expensive) part of running this service is delivering mail and doing it reliably. Let&#39;s start there actually - here&#39;s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;sendgrid.com&#x2F;pricing&#x2F;&quot;&gt;the cost of sending 700k emails via SendGrid&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Now fortunately, SendGrid helps support the project so I don&#39;t end up wearing that cost but you can see the problem. Let&#39;s just put the challenge of sending an email on every search in context for a moment: a few weeks ago, I had 2.8 million unique visitors in just one day after making the aforementioned 711 million record Onliner Spambot dump searchable. Each one of those people did &lt;em&gt;at least&lt;&#x2F;em&gt; one search and if I was to pay for that volume, here&#39;s what I&#39;d be looking at:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;That&#39;s one day of traffic. I can&#39;t run a free service that way and I hate to think of the discussion I&#39;d be having with my wife if I did! Now that was one &lt;em&gt;exceptional&lt;&#x2F;em&gt; day but even in low periods I&#39;m still talking about many millions of visitors a month. As it is, I&#39;m coming very close to maxing out my email allocation each month just from sending verification emails and notifications when I load breaches. And no, a cheaper service like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;aws.amazon.com&#x2F;ses&#x2F;&quot;&gt;Amazon SES&lt;&#x2F;a&gt; is not a viable alternative, I&#39;ve been down that path before and it was a debacle for many reasons plus would still get very pricey. (Incidentally, large volumes of emails in a spike often causes delivery to be throttled which would further compound the UX problem of people waiting for a search result to land.)&lt;&#x2F;p&gt;
&lt;p&gt;And then there&#39;s the deliverability problems. One of the single hardest challenges I have is reliably getting mail through to people&#39;s inbox. &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.mail-tester.com&#x2F;web-n5q5m&quot;&gt;Here&#39;s what my mail setup looks like in terms of spam friendliness&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.mail-tester.com&#x2F;web-n5q5m&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;DKIM is good. SPF is good. I have a dedicated IP. I&#39;m not on any black lists. Everything checks out fine yet consistently, I hear people say &amp;quot;your notification went to junk&amp;quot;. I suspect it&#39;s due to the abnormal sending patterns of HIBP, namely that when I load a breach there&#39;s a sudden massive spike of emails sent but even then, it&#39;s only ever to HIBP subscribers who&#39;ve successfully double-opted-in. So, think of what that would mean in terms of using email as the sole channel for sharing breach exposure: a heap of people are simply going to miss out. They won&#39;t know they were exposed in a breach, they won&#39;t adapt their behaviour and for them, HIBP becomes useless.&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ve seen criticism from other services attempting to do similar things to HIBP based on the fact I&#39;m not just sending emails to answer that &amp;quot;have I been pwned?&amp;quot; question. But they&#39;re at a very different stage of maturity and popularity and simply don&#39;t have these challenges – it&#39;s be a lot easier if I was only sending hundreds of emails a day and not tens or sometimes even hundreds of thousands. They&#39;re also often well-funded and commercialise their visitors so you can see why they may not understand the unique challenges I face with HIBP.&lt;&#x2F;p&gt;
&lt;p&gt;In short, this is the best possible middle ground I can find. Not everyone agrees with it, but I hope that even the folks who don&#39;t can see it&#39;s a reasoned, well thought out conclusion.&lt;&#x2F;p&gt;
Because I Don&#39;t Want Your Email Address
&lt;p&gt;There are a number of different services out there which offer the ability to identify various places your data has been spread across the web. It&#39;s a similar deal to HIBP insofar as you enter an email address to begin the search, but many then promise to &amp;quot;get back to you&amp;quot; with results. Of course, during this time, they retain your address. How long do they retain it for? Well...&lt;&#x2F;p&gt;
&lt;p&gt;Someone directed me to &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.experian.com&#x2F;consumer-products&#x2F;free-dark-web-email-scan.html?cc&#x3D;van_tvr_scan&amp;amp;intcmp&#x3D;scan-i&quot;&gt;Experian&#39;s &amp;quot;Dark Web Email Scan&amp;quot; service&lt;&#x2F;a&gt; just recently. I had the feeling just from reading the front page that there was more going on than meets the eye so I took a look at the policies they link to and that (in theory) you must read and agree to before proceeding:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;It&#39;s stunts like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;Experian&quot;&gt;@Experian&lt;&#x2F;a&gt; is pulling that erode trust in these companies: that&#39;s 21,494 words you need to agree to: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;ulsAKGv6D8&quot;&gt;https:&#x2F;&#x2F;t.co&#x2F;ulsAKGv6D8&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;k6GPAGZqPu&quot;&gt;pic.twitter.com&#x2F;k6GPAGZqPu&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;906386996091686912&quot;&gt;September 9, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;Folks who&#39;ve &lt;em&gt;actually read all this&lt;&#x2F;em&gt; have subsequently pointed out that as expected, providing your address in this way now opts you into all sorts of things you really don&#39;t want. In fact, I saw it myself first hand:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;Geez the Experian &amp;quot;dark web search&amp;quot; is terrible: several days to get a result, useless info in the report and 2 subsequent spam mails since &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;ccFEbZStxq&quot;&gt;pic.twitter.com&#x2F;ccFEbZStxq&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;908070197436702720&quot;&gt;September 13, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;In other words, the service is a marketing funnel. The premise of &amp;quot;just leave us with your address and we&#39;ll get back to you&amp;quot; is often a thin disguise to build up a list of potential customers. Part of the beauty of HIBP returning results immediately is that the searched address never goes into a database. The only time this happens is when the user explicitly opts in to the notification service in which case I obviously need the address in order to contact them later should they appear in a new data breach. It&#39;s data minimisation to the fullest extent I can; I don&#39;t want anything I don&#39;t absolutely, positively need.&lt;&#x2F;p&gt;
&lt;p&gt;Incidentally, by Experian not explicitly identifying the site the breach occurred on it makes it &lt;em&gt;extremely&lt;&#x2F;em&gt; difficult for people to actually action the report. They&#39;re not the only ones - I&#39;ve seen other services do this too - and it leaves the user thinking &amp;quot;what the hell do I do now?!&amp;quot; I know this because it&#39;s precisely the feedback I had after loading the Onliner Spambot data I mentioned earlier, the difference being that I simply didn&#39;t know with any degree of confidence where that data originated from. But when I do, I tell people - it&#39;s just the right thing to do.&lt;&#x2F;p&gt;
The API Is an Important Part of the Ecosystem
&lt;p&gt;One of the best things I did very early on in terms of making the service accessible to a broad range of people was to &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;API&#x2F;v2&quot;&gt;publish an API&lt;&#x2F;a&gt;. In additional to that, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;API&#x2F;Consumers&quot;&gt;I list a number of the consumers of the service&lt;&#x2F;a&gt; and they&#39;ve done some great things done with it. There are many other very good use cases you won&#39;t see publicly listed and that I can&#39;t talk about here, but you can imagine the types of positive implementations ingenious people have come up with.&lt;&#x2F;p&gt;
&lt;p&gt;In many cases, the API has enabled people to do great things for awareness. For example, this implementation at a user group I spoke at in the Netherlands recently (and yes, opt-in was optional):&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;So &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;Ordina&quot;&gt;@ordina&lt;&#x2F;a&gt; set up facial recognition via photos uploaded at registration &amp;amp; checked people against &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;haveibeenpwned&quot;&gt;@haveibeenpwned&lt;&#x2F;a&gt; on arrival  &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;hashtag&#x2F;TroyAtOrdina?src&#x3D;hash&quot;&gt;#TroyAtOrdina&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;3C1gFA4Q4t&quot;&gt;pic.twitter.com&#x2F;3C1gFA4Q4t&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;882634045129191424&quot;&gt;July 5, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;The very nature of having an API that can search breaches in the fashion means the data has to be publicly searchable. Even if I put API keys on the thing, I&#39;d then have the challenge of working out who I can issue them to then policing their use of the service. For all the reasons APIs make sense for other software projects, they make sense for HIBP.&lt;&#x2F;p&gt;
&lt;p&gt;Now, having said all that, the API has had to evolve over time. Last year &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;the-have-i-been-pwned-api-rate-limiting-and-commercial-use&#x2F;&quot;&gt;I introduced a rate limit&lt;&#x2F;a&gt; after seeing usage patterns that were not in keeping with ethical use of the service. As a result, one IP can now only make a request every 1.5 seconds and anything over that is blocked. Keep it up and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;azure-functions-in-practice&#x2F;&quot;&gt;the IP is presented with a JavaScript challenge at Cloudflare for 24 hours&lt;&#x2F;a&gt;. Yes, you can still run a lot of searches but instead of 40k a minute as I was often seeing from a single IP, we&#39;re down to 40. In other words, the worst-case scenario is only one one-thousandth of what it previously was. What that&#39;s done is forced those seeking to abuse the system to seek the data out from other places as the effectiveness of using HIBP has plummeted.&lt;&#x2F;p&gt;
&lt;p&gt;Like many of the decisions I&#39;ve made to protect individuals who end up in HIBP, this one has also garnered me criticism. Very often I feel like I&#39;m damned if I do and I&#39;m damned if I don&#39;t; some people were unhappy in this case because it made some of the things they used to do suddenly infeasible. Yes, it slashed malicious use but you can also see how it could impact legitimate use of the API too. I&#39;m never going to be able to make everyone happy with these decisions, I just have to do my best and continue trying to strike the right balance.&lt;&#x2F;p&gt;
I&#39;m Still Adamant About Not Sharing Passwords Attached to Email Addresses
&lt;p&gt;A perfect example of where I simply don&#39;t see eye to eye with some folks is sharing passwords attached to email addresses. I&#39;ve maintained since day 1 that &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;here-are-all-the-reasons-i-dont-make-passwords-available-via-have-i-been-pwned&#x2F;&quot;&gt;this poses many risks&lt;&#x2F;a&gt; and indeed there are many logistical problems with actually doing this, not least of which is the increasing use of stronger hashing algorithms in the source data breaches.&lt;&#x2F;p&gt;
&lt;p&gt;Not everyone has the same tolerance to risk in this regard. I mentioned earlier how some especially shady services will provide your personal data to anyone else willing to pay; passwords, birth dates, sexualities - it&#39;s all up for grabs. Others will email either the full password or a masked portion of it, both of which significantly increase the risk to the owner of that password should that email be obtained by a nefarious party.&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ve tried to tackle the gap between providing a full set of credentials and only the email address by &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;introducing-306-million-freely-downloadable-pwned-passwords&#x2F;&quot;&gt;launching the Pwned Passwords service last month&lt;&#x2F;a&gt;. Whilst the primary motivation here was to provide organisations with a means of identifying at-risk passwords during signup, it also helps individuals directly impacted by data breaches; find both your email address and a password you&#39;ve used before on HIBP and that&#39;s a pretty solid sign you want to revisit your account management hygiene.&lt;&#x2F;p&gt;
&lt;p&gt;At the end of the day, no matter how well I was to implement a solution that attached email addresses to other classes of personal data, there&#39;s simply no arguing with the basic premise of I cannot lose what I do not have. I have to feel comfortable with the balance I strike in terms of how I handle this data and at present, that means not putting it online.&lt;&#x2F;p&gt;
There Are Still a Lot of Personal Judgement Calls
&lt;p&gt;I&#39;ve been asked a few times now what the process for flagging a breach as sensitive is and the answer is simply this: I make a personal judgement call. I have to look at the nature of the service and question what the impact would be if HIBP was used as a vector to discover if someone has an account on that site. I don&#39;t always get this right; I didn&#39;t originally flag &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;PwnedWebsites#FurAffinity&quot;&gt;the Fur Affinity breach&lt;&#x2F;a&gt; as sensitive because I didn&#39;t understand how furries can be perceive until someone explained it to me. (For the curious, it&#39;s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Furry_fandom#Sexual_aspects&quot;&gt;the sexual aspects of furries&lt;&#x2F;a&gt; that came as news to me.)&lt;&#x2F;p&gt;
&lt;p&gt;HIBP is a constant series of judgement calls when it comes to the ethics of running the service. The data I should and should not load is another example. I didn&#39;t load &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;the-red-cross-blood-service-australias-largest-ever-leak-of-personal-data&#x2F;&quot;&gt;the Australian Red Cross Blood Service breach&lt;&#x2F;a&gt; because we managed to clean up all known copies of it (there are multiple reasons why I&#39;m confident in that statement) and they committed to promptly notifying all impacted parties which they summarily did. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;have-i-been-pwned-opting-out-vtech-and&#x2F;&quot;&gt;I removed the VTech data breach&lt;&#x2F;a&gt; because it gave parents peace of mind that data relating to kids was removed from all known locations. In both those cases, it was a judgement call made entirely of my own free volition; there were no threats of any kind, it was just the right thing to do.&lt;&#x2F;p&gt;
&lt;p&gt;HIBP is not about trying to maximise the data in the system, it&#39;s about helping people and organisations deal with serious criminal acts. Frankly, the best possible outcome would be for there to be no more breaches to load. This is what all my courses, workshops, conference talks and indeed hundreds of blog posts are trying to drive us towards – fixing the problems that have led to data breach search services being a thing in the first place. Not everyone has those same motives though, and that&#39;s leading us to some pretty shady practices.&lt;&#x2F;p&gt;
The &amp;quot;No Shady Practices&amp;quot; Rule
&lt;p&gt;As I said in the intro, there&#39;s no sugar-coating the fact that handling data breaches is always going to sit in a grey area. This makes it enormously important that every possible measure is taken to avoid any behaviour whatsoever that could be construed as shady. It probably shouldn&#39;t surprise anyone, but this is not a broadly held belief amongst those dealing with this class of data.&lt;&#x2F;p&gt;
&lt;p&gt;I mentioned LeakedSource earlier on; there are still multiple sites following the same business model of &amp;quot;give us a few bucks and we&#39;ll give you other people&#39;s data&amp;quot;. There&#39;s a total disregard not just for the privacy of people like you and I, but for the impact it can then have on our lives. People bought access to my own data – I know this because someone once sent it to me! Many of these services operate with impunity under the assumption that they&#39;re anonymous; great lengths are gone to in order to obfuscate and shield the identity of the operators although as we saw with Leaked Source, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;krebsonsecurity.com&#x2F;2017&#x2F;02&#x2F;who-ran-leakedsource-com&#x2F;&quot;&gt;anonymity can be fleeting&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;There are also multiple organisations paying for data breaches. What this leads to is criminal incentivisation; rewarding someone for breaking into a system and pilfering the data in no way improves the very problem these services set out to address. Mind you, the argument could be made that the purpose these services primarily serve is to be profitable and viewed in that light, paying for data and then charging for access to it probably makes sense from an ROI perspective. I&#39;ve never paid for data and I never intend to and yes, that means that it sometimes takes longer for it to appear on HIBP, but it&#39;s the right thing to do.&lt;&#x2F;p&gt;
&lt;p&gt;Ambulance chasing is another behaviour that&#39;s well and truly into the dark end of shady. I recently had a bunch of people contact me after an organisation emailed them to advise that addresses from their company were found in a breach. Then I watched just last month as someone representing another org hijacked Twitter threads mentioning HIBP in order to promote their own service (I then had to explain what was wrong with this practice, something &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;905579801947160576?refsrc&#x3D;email&amp;amp;s&#x3D;11&quot;&gt;I later highlighted in another thread&lt;&#x2F;a&gt;). In all these cases, financial incentive either from directly monetising the service itself or indirectly promoting other services associated to the organisation appear to be the driver for shady practices.&lt;&#x2F;p&gt;
&lt;p&gt;We should all be beyond reproach when handling this data.&lt;&#x2F;p&gt;
Summary
&lt;p&gt;Being completely honest, it would have to be less than one in one thousand pieces of feedback I get that are critical or even the least bit concerned about the HIBP model as it stands today. It&#39;s a very rare thing and that may make you wonder why I even bothered writing this in the first place, but the truth is that it helped me get a few things straight in my own head whilst also providing a reference point for those who &lt;em&gt;do&lt;&#x2F;em&gt; express genuine concern.&lt;&#x2F;p&gt;
&lt;p&gt;HIBP remains a service that first and foremost serves to further ethical objectives. This primarily means raising awareness of the impact data breaches are having and helping those of us that have been stung by them to recover from the event. Even as I&#39;ve built out commercial services for organisations that have requested them, you won&#39;t find a single reference to this on this site; there&#39;s no &amp;quot;products&amp;quot; or &amp;quot;pricing&amp;quot;, no up-sell, no financial model for consumers, no withholding of information in an attempt to commercialise it, no shitty terms and conditions that you have to read before searching and not even any advertising or sponsorship. All of this is simply because I don&#39;t want &lt;em&gt;anything&lt;&#x2F;em&gt; detracting from that original objective I set forth.&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ll close this post out by saying that there will almost certainly be changes to this in the future. Indeed, it&#39;s constantly changed already; sensitive breaches, rate limits and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;pastes-on-have-i-been-pwned-are-no-longer-publicly-listed&#x2F;&quot;&gt;the removal of the pastes listing&lt;&#x2F;a&gt; are all examples of where I&#39;ve stepped back, looked at the system and thought &amp;quot;this needs to be done better&amp;quot;. Very often, that decision has come from community feedback and I&#39;d like to welcome more of that in the comments below. Thank you for reading.&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/JO9jZ_2mbRc/"/>
    <published>2017-09-25T07:44:35.000Z</published>
  </entry>
  <entry>
    <title>5 Strategies for Presenting UX Remotely | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; Master remote presentations by creating the right environment, being human, reducing distractions, taking control, and telling a story.&lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; There’s nothing like being face-to-face when giving an important presentation. You naturally take cues from the others in the room: eye contact, body language, and facial expressions.&lt;&#x2F;p&gt;&lt;p&gt; However, presenting in person isn’t always an option. 80% of corporate presentations are being delivered remotely. In these cases, making a virtual connection with your audience is key, especially when presenting UX designs. The most articulate person always wins; the more successfully we communicate, the higher the chance that our designs become reality. Use the tips below to resonate with your audience, even while presenting remotely.&lt;&#x2F;p&gt; 1. Create a Presentation-Ready Environment&lt;p&gt; Nothing screams ‘webinar’ like a pixelated image of someone’s face and poor audio quality. Break out of the mold and use what you can to create a presentation-like atmosphere.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;presenting-remotely&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/presenting-remotely/"/>
    <published>2017-09-24T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>Agile Is not Easy for UX: (How to) Deal with It | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; Agile and UX work well together when management values UX, UX practitioners show leadership, the process isn’t strict, and UX is embedded on teams.&lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt; Introduction&lt;p&gt; Agile has taken over the software-development world. In recent years, it’s become &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;state-ux-agile-development&#x2F;&quot;&gt;  the most popular software-development methodology &lt;&#x2F;a&gt; . Agile development has a lot of benefits: an incremental approach, the ability to change direction based on customer and stakeholder feedback, short timeframes that keep the teams focused.&lt;&#x2F;p&gt;&lt;p&gt; However, Agile methodologies are focused on developers. They grew out of programmers’ attempts to solve common pain points experienced during big software development projects. Notoriously, the &lt;em&gt;  Agile Manifesto &lt;&#x2F;em&gt; (still the primary document delineating Agile principles) did not include UX people, nor did it account for the time, resources, and research that UX professionals need in order to create excellent designs.&lt;&#x2F;p&gt;&lt;p&gt; Under an Agile paradigm, the entire team works on the same elements of a project simultaneously in order to avoid “throwing it over the wall” (i.e. hand it off  from one team to another, waterfall-style). The work is done in “sprints” — commonly 2-week periods when the team focuses on certain features, and then moves on. As a result, designers are under enormous pressure to create, test, refine, and deliver their output unrealistically fast, and with little of the context and big-picture thinking that suits consistent, user-centered designs.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;agile-not-easy-ux&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/agile-not-easy-ux/"/>
    <published>2017-09-24T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>Floating Point Benchmark: PL&#x2F;I Language Added | Fourmilog - Fourmilab Change Log</title>
    <content type="html">I have posted an update to my trigonometry-intense &lt;a href&#x3D;&quot;&#x2F;fbench&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;floating point benchmark&lt;&#x2F;a&gt; which adds
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;PL&#x2F;I&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;PL&#x2F;I&lt;&#x2F;a&gt; to the list of languages in which the benchmark is implemented.  A new release of the
&lt;a href&#x3D;&quot;&#x2F;fbench&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;benchmark collection&lt;&#x2F;a&gt;
including PL&#x2F;I is now available for downloading.

&lt;p&gt;

I have always had a fondness for PL&#x2F;I.  Sure, it was an
archetypal product of IBM at the height of the supremacy of Big
Blue, and overreached and never completely achieved its goals,
but it was a product of the 1960s, when technological ambition
imagined unifying programming languages as diverse as Fortran,
COBOL, and Algol into a single language which would serve for
all applications and run on platforms ranging from the most
humble to what passed for supercomputers at the time. It was the
choice for the development of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Multics&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Multics&lt;&#x2F;a&gt;, one of the most ambitious
operating system projects of all time (and, after its wave of
enthusiasm broke on the shore of reality, inspired Unix), and
the C language inherits much of its syntax and fundamentals from
PL&#x2F;I.

&lt;&#x2F;p&gt;&lt;p&gt;

Few people recall today, but the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fourmilab.ch&#x2F;autofile&#x2F;e5&#x2F;?chapter&#x3D;chapter2_14&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;first version of AutoCAD&lt;&#x2F;a&gt;
shipped to customers was written in PL&#x2F;I.  When we were
developing AutoCAD in 1982, we worked in parallel, using Digital
Research&#39;s PL&#x2F;I-80 (a subset of PL&#x2F;I, but completely adequate
for the needs of AutoCAD) on 8080&#x2F;Z-80 CP&#x2F;M systems and C on
8086&#x2F;8088 machines.  As it happened, AutoCAD-80, the PL&#x2F;I
version, shipped first, so the first customer who purchased
AutoCAD received a version written in PL&#x2F;I.

&lt;&#x2F;p&gt;&lt;p&gt;

The goal of PL&#x2F;I was the grand unification of programming
languages, which had bifurcated into a scientific thread
exemplified by Fortran and variants of Algol and a commercial
thread in which COBOL was dominant.  The idea was that a single
language, and a single implementation would serve for all, and
that programmers working in a specific area could learn the
subset applicable to their domain, ignoring features irrelevant
to the tasks they programmed.

&lt;&#x2F;p&gt;&lt;p&gt;

By the standards of the time, the language feature set was
ambitious. Variables could be declared in binary or decimal,
fixed point or floating, with variable precision.  Complex
structures and arrays could be defined, including arrays of
structures and structures containing arrays.  A variety of
storage classes were available, allowing the creation of
dynamically or manually allocated storage, and access through
pointers.  Support for recursive procedures and reentrant code
was included.  The language was defined before the structured
programming craze, but its control structures are adequate to
permit structured programming should a programmer choose that
style.  Object orientation was undreamt of at the time, and
support for it was added only much later.

&lt;&#x2F;p&gt;&lt;p&gt;

&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.iron-spring.com&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Iron Spring Software&lt;&#x2F;a&gt;
is developing a reasonably complete implementation of PL&#x2F;I which
runs on Linux and OS&#x2F;2.  It adheres to ANSI standard X3.74-1987
(ISO&#x2F;IEC 6522:1992), the so-called “Subset G” of the language,
but, in its present beta releases, does not support all features
of the standard,  The current state of the beta version is
documented in the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.iron-spring.com&#x2F;prog_guide.html&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Programming Guide&lt;&#x2F;a&gt;.
With one exception (the ASIN mathematical builtin function),
none of the missing features are required by the floating point
benchmark, and ASIN is easily emulated by the identity
(expressed in PL&#x2F;I)&lt;br &#x2F;&gt;
          asin(x) &#x3D; atan(x, sqrt(1 − (x * x)))&lt;br &#x2F;&gt;
implemented as a procedure in the program.

&lt;&#x2F;p&gt;&lt;p&gt;

The Iron Spring PL&#x2F;I compiler is closed source, and will be
offered for sale upon general release, but during the beta
period downloads are free.  The runtime libraries (much of which
are written in PL&#x2F;I) are open source and licensed under the GNU
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;GNU_Lesser_General_Public_License&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Lesser General Public License&lt;&#x2F;a&gt; (LGPL).  There are no restrictions
or licenses required to redistribute programs compiled by the
compiler and linked with its libraries.

&lt;&#x2F;p&gt;&lt;p&gt;

This version of the benchmark was developed using the 0.9.9b
beta release of the Iron Spring PL&#x2F;I compiler.  Current Linux
downloads are 32-bit binaries and produce 32-bit code, but work
on 64-bit systems such as the one on which I tested it.  It is
possible that a native 64-bit version of the compiler and
libraries might outperform 32-bit code run in compatibility
mode, but there is no way at present to test this.

&lt;&#x2F;p&gt;&lt;p&gt;

The PL&#x2F;I implementation of Fbench is a straightforward port
derived from the Ada version of the program, using the same
imperative style of programming and global variables.  All
floating point values are declared as FLOAT BINARY(49), which
maps into IEEE double-precision (64 bit) floating point.  As
noted above, the missing ASIN (arc sine) builtin function was
emulated by an internal procedure named l_asin to avoid conflict
with the builtin on compilers which supply it.

&lt;&#x2F;p&gt;&lt;p&gt;

Development of the program was straightforward, and after I
recalled the idioms of a language in which I hadn&#39;t written code
for more than thirty years, the program basically worked the
first time.  Support for the PUT STRING facility allowed making
the program self-check its results without any need for user
interaction.  To avoid nonstandard system-dependent features,
the iteration count for the benchmark is compiled into the
program.

&lt;&#x2F;p&gt;&lt;p&gt;

After I get the benchmark running and have confirmed that it
produces the correct values, I then time it with an modest
iteration count, then adjust the iteration count to obtain a run
time of around five minutes, which minimises start-up and
termination effects and accurately reflects execution speed of
the heart of the benchmark.  Next, I run the benchmark five
times on an idle system, record the execution times, compute the
mean value, and from that calculate the time in microseconds per
iteration.  This is then compared with the same figure from runs
of the C reference implementation of the benchmark to obtain the
relative speed of the language compared to C.

&lt;&#x2F;p&gt;&lt;p&gt;

When I first performed this process, it was immediately apparent
that something had seriously gang agley.  The C version of the
benchmark ran at 1.7858 microseconds per iteration, while the
PL&#x2F;I implementation took an aching 95.1767
microseconds&#x2F;iteration—fully 53 times slower!  This was, in its
own way, a breathtaking result.  Most compiled languages come in
between somewhere between the speed of C and four times slower,
with all of the modern heavy-hitter languages (Fortran, Pascal,
Swift, Rust, Java, Haskell, Scala, Ada, and Go) benchmarking no
slower than 1.5 times the C run time. Most interpreted languages
(Perl, Python, Ruby) still benchmark around twice as fast as
this initial PL&#x2F;I test.  It was time to start digging into the
details.

&lt;&#x2F;p&gt;&lt;p&gt;

First of all, I made sure that all of the floating point
variables were properly defined and didn&#39;t, for example, declare
variables as fixed decimal.  When I tried this with the &lt;a href&#x3D;&quot;&#x2F;fourmilog&#x2F;archives&#x2F;2012-09&#x2F;001399.html&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;COBOL
version&lt;&#x2F;a&gt; of the benchmark, I indeed got a comparable execution
time (46 times slower than C).  But the variables were declared
correctly, and examination of the assembly language listing of
the code generated by the compiler confirmed that it was
generating proper in-line floating-point instructions instead of
some horror such as calling library routines for floating point
arithmetic.

&lt;&#x2F;p&gt;&lt;p&gt;

Next, I instrumented the program to verify that I hadn&#39;t
blundered and somehow made it execute more iterations of the
inner loop than were intended.  I hadn&#39;t.

&lt;&#x2F;p&gt;&lt;p&gt;

This was becoming quite the mystery.  It was time to take a
deeper look under the hood.  I downloaded, built, and installed
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;oprofile.sourceforge.net&#x2F;about&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;OProfile&lt;&#x2F;a&gt;,
a hardware-supported statistical profiling tool which, without
support by the language (which is a good thing, because the PL&#x2F;I
compiler doesn&#39;t provide any) allows measurement of the
frequency of instruction execution within a program run under
its supervision. I ran the benchmark for five minutes under
OProfile:&lt;br &#x2F;&gt;
         operf .&#x2F;fbench&lt;br &#x2F;&gt;
(because the profiling process uses restricted kernel calls,
this must be done as the super-user), and then annotated the
results with:&lt;br &#x2F;&gt;
         opannotate --source --assembly fbench &amp;gt;fbench.prof

&lt;&#x2F;p&gt;&lt;p&gt;

The results were flabbergasting.  I was flabber-aghast to
discover that in the entire five minute run, only 5.6% of the
time was spent in my benchmark program: all the rest was spent
in system libraries!  Looking closer, one of the largest time
sinks was the PL&#x2F;I EXP builtin function, which was distinctly
odd, since the program never calls this function.  I looked at
the generated assembly code and discovered, however, that if you
use the normal PL&#x2F;I or Fortran idiom of “x ** 2” to square a
value, rather than detecting the constant integer exponent and
compiling the equivalent code of “x * x”, the compiler was
generating a call to the general exponential function, able to
handle arbitrary floating point exponents.  I rewrote the three
instances in the program where the “**” operator appeared to use
multiplication, and when I re-ran the benchmark it was almost
ten times faster (9.4 times to be precise)!

&lt;&#x2F;p&gt;&lt;p&gt;

Examination of the Oprofile output from this version showed that
44% of the time was spent in the benchmark, compared to 5.6%
before, with the rest divided mostly among the mathematical
library builtin functions used by the program.  Many of the
library functions which chewed up time in the original version
were consequences of the calls on EXP and melted away when it
was replaced by multiplication.  Further experiments showed that
these library functions, most written in PL&#x2F;I, were not
particularly efficient: replacing the builtin ATAN function with
my own implementation ported from the INTRIG version of the C
benchmark sped up the benchmark by another 6%.  But the goal of
the benchmark is to test the compiler and its libraries as
supplied by the vendor, not to rewrite the libraries to tweak
the results, so I set this version aside and proceeded with
timing tests.

&lt;&#x2F;p&gt;&lt;p&gt;

I ran the PL&#x2F;I benchmark for 29,592,068 iterations and obtained
the following run times in seconds for five runs
    (299.23,
    300.59,
    298.52,
    300.94,
    298.07).
These runs give a mean time of 299.47 seconds, or 10.1209
microseconds per iteration.

&lt;&#x2F;p&gt;&lt;p&gt;

I then ran the C benchmark for 166,051,660 iterations, yielding
run times of
    (296.89,
    296.37,
    296.29,
    296.76,
    296.37)
seconds, with mean 296.536, for 1.7858 microseconds per iteration.

&lt;&#x2F;p&gt;&lt;p&gt;

Dividing these gives a PL&#x2F;I run time of 5.667 longer than that
of C.  In other words, for this benchmark, PL&#x2F;I runs around 5.7
times slower than C.

&lt;&#x2F;p&gt;&lt;p&gt;

This is toward the low end of compiled languages in which the
benchmark has been implemented.  Among those tested so far, it
falls between ALGOL 60 (3.95 times C) and GNU Common Lisp
(compiled, 7.41 times C), and it is more than twice as fast as
Micro Focus Visual COBOL in floating point mode (12.5 times C).
It should be remembered, however, that this is a beta test
compiler under active development, and that optimisation is
often addressed after full implementation of the language.  And
since the libraries are largely written in PL&#x2F;I, any
optimisation of compiler-generated code will improve library
performance as well.  The lack of optimisation of constant
integer exponents which caused the initial surprise in timing
tests will, one hopes, be addressed in a subsequent release of
the compiler. Further, the second largest consumer of time in
the benchmark, after the main program itself with 44%, was the
ATAN function, with 23.6%.  But the ATAN function is only used
to emulate the ASIN builtin, which isn&#39;t presently implemented.
If and when an ASIN function is provided, and if its
implementation is more efficient (for example, using a &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;mathworld.wolfram.com&#x2F;MaclaurinSeries.html&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Maclaurin
series&lt;&#x2F;a&gt;) than my emulation, a substantial increase in performance
will be possible.

&lt;&#x2F;p&gt;&lt;p&gt;

Nothing inherent in the PL&#x2F;I language limits its performance.
Equivalent code, using the same native data types, should be
able to run as fast as C or Fortran, and mature commercial
compilers from IBM and other vendors have demonstrated this
performance but at a price.  The Iron Spring compiler is a
promising effort to deliver a professional quality PL&#x2F;I compiler
for personal computers at an affordable price (and, in its
present beta test incarnation, for free).

&lt;&#x2F;p&gt;&lt;p&gt;

The relative performance of the various language implementations (with C taken as 1) is as follows.   All language implementations of the benchmark listed below produced identical results to the last (11th) decimal place.

&lt;&#x2F;p&gt;&lt;p&gt;


&lt;table&gt;
                                                                                                 
&lt;tr&gt;
    &lt;th&gt;Language&lt;&#x2F;th&gt;
    &lt;th&gt;Relative&lt;br &#x2F;&gt; Time&lt;&#x2F;th&gt;
    &lt;th&gt;Details&lt;&#x2F;th&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;C&lt;&#x2F;th&gt;
    &lt;td&gt;1&lt;&#x2F;td&gt;
    &lt;td&gt;GCC 3.2.3 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Visual Basic .NET&lt;&#x2F;th&gt;
    &lt;td&gt;0.866&lt;&#x2F;td&gt;
    &lt;td&gt;All optimisations, Windows XP&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;FORTRAN&lt;&#x2F;th&gt;
    &lt;td&gt;1.008&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Fortran (g77) 3.2.3 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Pascal&lt;&#x2F;th&gt;
    &lt;td&gt;1.027&lt;br &#x2F;&gt;
                   1.077&lt;&#x2F;td&gt;
    &lt;td&gt;Free Pascal 2.2.0 -O3, Linux&lt;br &#x2F;&gt;
    	    	  GNU Pascal 2.1 (GCC 2.95.2) -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Swift&lt;&#x2F;th&gt;
    &lt;td&gt;1.054&lt;&#x2F;td&gt;
    &lt;td&gt;Swift 3.0.1, -O, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Rust&lt;&#x2F;th&gt;
    &lt;td&gt;1.077&lt;&#x2F;td&gt;
    &lt;td&gt;Rust 0.13.0, --release, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Java&lt;&#x2F;th&gt;
    &lt;td&gt;1.121&lt;&#x2F;td&gt;
    &lt;td&gt;Sun JDK 1.5.0_04-b05, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Visual Basic 6&lt;&#x2F;th&gt;
    &lt;td&gt;1.132&lt;&#x2F;td&gt;
    &lt;td&gt;All optimisations, Windows XP&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Haskell&lt;&#x2F;th&gt;
    &lt;td&gt;1.223&lt;&#x2F;td&gt;
    &lt;td&gt;GHC 7.4.1-O2 -funbox-strict-fields, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Scala&lt;&#x2F;th&gt;
    &lt;td&gt;1.263&lt;&#x2F;td&gt;
    &lt;td&gt;Scala 2.12.3, OpenJDK 9, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Ada&lt;&#x2F;th&gt;
    &lt;td&gt;1.401&lt;&#x2F;td&gt;
    &lt;td&gt;GNAT&#x2F;GCC 3.4.4 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Go&lt;&#x2F;th&gt;
    &lt;td&gt;1.481&lt;&#x2F;td&gt;
    &lt;td&gt;Go version go1.1.1 linux&#x2F;amd64, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Simula&lt;&#x2F;th&gt;
    &lt;td&gt;2.099&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Cim 5.1, GCC 4.8.1 -O2, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Lua&lt;&#x2F;th&gt;
    &lt;td&gt;2.515&lt;br &#x2F;&gt;
        22.7&lt;&#x2F;td&gt;
    &lt;td&gt;LuaJIT 2.0.3, Linux&lt;br &#x2F;&gt;
        Lua 5.2.3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Python&lt;&#x2F;th&gt;
    &lt;td&gt;2.633&lt;br &#x2F;&gt; 30.0&lt;&#x2F;td&gt;
    &lt;td&gt;PyPy 2.2.1 (Python 2.7.3), Linux&lt;br &#x2F;&gt;
        Python 2.7.6, Linux
&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Erlang&lt;&#x2F;th&gt;
    &lt;td&gt;3.663&lt;br &#x2F;&gt;
    	    	   9.335&lt;&#x2F;td&gt;
    &lt;td&gt;Erlang&#x2F;OTP 17, emulator 6.0, HiPE [native, {hipe, [o3]}]&lt;br &#x2F;&gt;
    	         Byte code (BEAM), Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 &lt;tr&gt;
    &lt;th&gt;ALGOL 60&lt;&#x2F;th&gt;
    &lt;td&gt;3.951&lt;&#x2F;td&gt;
    &lt;td&gt;MARST 2.7, GCC 4.8.1 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;PL&#x2F;I&lt;&#x2F;th&gt;
    &lt;td&gt;5.667&lt;&#x2F;td&gt;
    &lt;td&gt;Iron Spring PL&#x2F;I 0.9.9b beta, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Lisp&lt;&#x2F;th&gt;
    &lt;td&gt;7.41 &lt;br &#x2F;&gt;
                   19.8&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Common Lisp 2.6.7, Compiled, Linux&lt;br &#x2F;&gt;
                  GNU Common Lisp 2.6.7, Interpreted&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Smalltalk&lt;&#x2F;th&gt;
    &lt;td&gt;7.59&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Smalltalk 2.3.5, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
   
&lt;tr&gt;
    &lt;th&gt;Forth&lt;&#x2F;th&gt;
    &lt;td&gt;9.92&lt;&#x2F;td&gt;
    &lt;td&gt;Gforth 0.7.0, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;COBOL&lt;&#x2F;th&gt;
    &lt;td&gt;12.5&lt;br &#x2F;&gt;
				   46.3&lt;&#x2F;td&gt;
    &lt;td&gt;Micro Focus Visual COBOL 2010, Windows 7&lt;br &#x2F;&gt;
				  Fixed decimal instead of computational-2&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Algol 68&lt;&#x2F;th&gt;
    &lt;td&gt;15.2&lt;&#x2F;td&gt;
    &lt;td&gt;Algol 68 Genie 2.4.1 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Perl&lt;&#x2F;th&gt;
    &lt;td&gt;23.6&lt;&#x2F;td&gt;
    &lt;td&gt;Perl v5.8.0, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Ruby&lt;&#x2F;th&gt;
    &lt;td&gt;26.1&lt;&#x2F;td&gt;
    &lt;td&gt;Ruby 1.8.3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;JavaScript&lt;&#x2F;th&gt;
    &lt;td&gt;27.6 &lt;br &#x2F;&gt;
                   39.1 &lt;br &#x2F;&gt;
                   46.9&lt;&#x2F;td&gt;
    &lt;td&gt;Opera 8.0, Linux&lt;br &#x2F;&gt;
                  Internet Explorer 6.0.2900, Windows XP&lt;br &#x2F;&gt;
                  Mozilla Firefox 1.0.6, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;QBasic&lt;&#x2F;th&gt;
    &lt;td&gt;148.3&lt;&#x2F;td&gt;
    &lt;td&gt;MS-DOS QBasic 1.1, Windows XP Console&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Mathematica&lt;&#x2F;th&gt;
    &lt;td&gt;391.6&lt;&#x2F;td&gt;
    &lt;td&gt;Mathematica 10.3.1.0, Raspberry Pi 3, Raspbian&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;
&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-09/001713.html"/>
    <published>2017-09-24T15:06:37.000Z</published>
  </entry>
  <entry>
    <title>Profiling Go programs with pprof | Julia Evans</title>
    <content type="html">&lt;p&gt;Last week me and my cool coworker Josh were debugging some memory problems in a Go program using &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;runtime&#x2F;pprof&#x2F;&quot;&gt;pprof&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;There’s a bunch of pprof documentation on the internet but I found a few things confusing so here
are some notes so I can find them easily.&lt;&#x2F;p&gt;

&lt;p&gt;First – when working with pprof it’s good to be running a recent version of Go! For example Go 1.8
adds &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;rakyll.org&#x2F;mutexprofile&#x2F;&quot;&gt;mutex profiles&lt;&#x2F;a&gt; so you can see mutex contention.&lt;&#x2F;p&gt;

&lt;p&gt;in this post I’ll&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;link to the useful pprof resource I found&lt;&#x2F;li&gt;
&lt;li&gt;explain what a pprof profile is&lt;&#x2F;li&gt;
&lt;li&gt;give an example of how to look at a heap profile of a Go program&lt;&#x2F;li&gt;
&lt;li&gt;explain a few things about the heap profiler works (what do the stack traces mean? how are they collected?)&lt;&#x2F;li&gt;
&lt;li&gt;most importantly (to me), deconstruct an example pprof protobuf file so we understand what a pprof profile
actually is&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;This post won’t really explain in detail how to to use pprof to diagnose performance issues in Go
programs, but I think these fundamentals (“what even is a pprof file”) will help me do that more
easily.&lt;&#x2F;p&gt;

&lt;h3&gt;pprof basics&lt;&#x2F;h3&gt;

&lt;p&gt;pprof lets you collect CPU profiles, traces, and heap profiles for your Go programs. The normal way
to use pprof seems to be:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;Set up a webserver for getting Go profiles (with &lt;code&gt;import _ &amp;quot;net&#x2F;http&#x2F;pprof&amp;quot;&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;Run &lt;code&gt;curl localhost:$PORT&#x2F;debug&#x2F;pprof&#x2F;$PROFILE_TYPE&lt;&#x2F;code&gt; to save a profile&lt;&#x2F;li&gt;
&lt;li&gt;Use &lt;code&gt;go tool pprof&lt;&#x2F;code&gt; to analyze said profile&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;You can also generate pprof profiles in your code using the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;runtime&#x2F;pprof&#x2F;&quot;&gt;&lt;code&gt;pprof&lt;&#x2F;code&gt; package&lt;&#x2F;a&gt; but I haven’t done that.&lt;&#x2F;p&gt;

&lt;h3&gt;Useful pprof reading&lt;&#x2F;h3&gt;

&lt;p&gt;Here is every useful link I’ve found so far about pprof on the internet. Basically the material on
the internet about pprof seems to be the official documentation + rakyll’s amazing blog.&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Setting up a pprof webserver: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;net&#x2F;http&#x2F;pprof&#x2F;&quot;&gt;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;net&#x2F;http&#x2F;pprof&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Generating pprof profiles in code: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;runtime&#x2F;pprof&#x2F;&quot;&gt;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;runtime&#x2F;pprof&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&lt;&#x2F;a&gt; (from which I found out that &lt;code&gt;pprof&lt;&#x2F;code&gt; can read perf files!!)&lt;&#x2F;li&gt;
&lt;li&gt;The developer docs: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;blob&#x2F;master&#x2F;doc&#x2F;pprof.md&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;blob&#x2F;master&#x2F;doc&#x2F;pprof.md&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;The output of &lt;code&gt;go tool pprof --help&lt;&#x2F;code&gt; (I pasted the output on my system &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;gist.github.com&#x2F;jvns&#x2F;6deaa10500f375a8581a06da8d8a967b&quot;&gt;here&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;rakyll&quot;&gt;@rakyll&lt;&#x2F;a&gt;’s blog, which has a huge number of great posts about pprof: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;rakyll.org&#x2F;archive&#x2F;&quot;&gt;https:&#x2F;&#x2F;rakyll.org&#x2F;archive&#x2F;&lt;&#x2F;a&gt;. In particular &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;rakyll.org&#x2F;custom-profiles&#x2F;&quot;&gt;this post on custom pprof profile types&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;rakyll.org&#x2F;mutexprofile&#x2F;&quot;&gt;this on the newish profile type for seeing contended mutexes&lt;&#x2F;a&gt; are great.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;(there are probably also talks about pprof but I am too impatient to watch talks, that’s part of why
I write lots of blog posts and give few talks)&lt;&#x2F;p&gt;

&lt;h3&gt;What’s a profile? What kinds of profiles can I get?&lt;&#x2F;h3&gt;

&lt;p&gt;When understanding how things work I like to start at the beginning. What is a “profile” exactly?&lt;&#x2F;p&gt;

&lt;p&gt;Well, let’s read the documentation! The 7th time I looked at &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;golang.org&#x2F;pkg&#x2F;runtime&#x2F;pprof&#x2F;&quot;&gt;the runtime&#x2F;pprof docs&lt;&#x2F;a&gt;, I read this very useful sentence:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;A Profile is a collection of stack traces showing the call sequences that led to instances of a
particular event, such as allocation. Packages can create and maintain their own profiles; the most
common use is for tracking resources that must be explicitly closed, such as files or network
connections.&lt;&#x2F;p&gt;

&lt;p&gt;Each Profile has a unique name. A few profiles are predefined:&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;pre&gt;&lt;code&gt;goroutine    - stack traces of all current goroutines
heap         - a sampling of all heap allocations
threadcreate - stack traces that led to the creation of new OS threads
block        - stack traces that led to blocking on synchronization primitives
mutex        - stack traces of holders of contended mutexes
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;There are 7 places you can get profiles in the default webserver: the ones mentioned above&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;goroutine&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;goroutine&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;threadcreate&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;threadcreate&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;block&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;block&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;mutex&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;mutex&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;and also 2 more: the CPU profile and the CPU trace.&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;profile&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;profile&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;trace?seconds&#x3D;5&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;trace?seconds&#x3D;5&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;To analyze these profiles (lists of stack traces), the tool to use is &lt;code&gt;go tool pprof&lt;&#x2F;code&gt;, which is a bunch of
tools for visualizing stack traces.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;super confusing note&lt;&#x2F;strong&gt;: the trace endpoint (&lt;code&gt;&#x2F;debug&#x2F;pprof&#x2F;trace?seconds&#x3D;5&lt;&#x2F;code&gt;), unlike all the rest, outputs a file that is &lt;strong&gt;not&lt;&#x2F;strong&gt; a
pprof profile. Instead it’s a &lt;strong&gt;trace&lt;&#x2F;strong&gt; and you can view it using &lt;code&gt;go tool trace&lt;&#x2F;code&gt; (not &lt;code&gt;go tool pprof&lt;&#x2F;code&gt;).&lt;&#x2F;p&gt;

&lt;p&gt;You can see the available profiles with &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;&quot;&gt;http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;&lt;&#x2F;a&gt; in your browser. Except
it doesn’t tell you about  &lt;code&gt;&#x2F;debug&#x2F;pprof&#x2F;profile&lt;&#x2F;code&gt; or &lt;code&gt;&#x2F;debug&#x2F;pprof&#x2F;trace&lt;&#x2F;code&gt; for some reason.&lt;&#x2F;p&gt;

&lt;p&gt;All of these kinds of profiles (goroutine, heap allocations, etc) are just collections of
stacktraces, maybe with some metadata attached. If we look at the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;blob&#x2F;master&#x2F;proto&#x2F;profile.proto&quot;&gt;pprof protobuf definition&lt;&#x2F;a&gt;, you see that a profile is mostly a bunch of &lt;code&gt;Sample&lt;&#x2F;code&gt;s.&lt;&#x2F;p&gt;

&lt;p&gt;A sample is basically a stack trace. That stack trace might have some extra information attached to
it! For example in a heap profile, the stack trace has a number of bytes of memory attached to it. I
think the Samples are the most important part of the profile.&lt;&#x2F;p&gt;

&lt;p&gt;We’re going to deconstruct what &lt;strong&gt;exactly&lt;&#x2F;strong&gt; is inside a pprof file later, but for now let’s start by
doing a quick example of what analyzing a heap profile looks like!&lt;&#x2F;p&gt;

&lt;h3&gt;Getting a heap profile with pprof&lt;&#x2F;h3&gt;

&lt;p&gt;I’m mostly interested in debugging memory problems right now. So I decided to write a program that
allocates a bunch of memory to profile with pprof.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;func main() {
    &#x2F;&#x2F; we need a webserver to get the pprof webserver
    go func() {
        log.Println(http.ListenAndServe(&amp;quot;localhost:6060&amp;quot;, nil))
    }()
    fmt.Println(&amp;quot;hello world&amp;quot;)
    var wg sync.WaitGroup
    wg.Add(1)
    go leakyFunction(wg)
    wg.Wait()
}

func leakyFunction(wg sync.WaitGroup) {
    defer wg.Done()
    s :&#x3D; make([]string, 3)
    for i:&#x3D; 0; i &amp;lt; 10000000; i++{
        s &#x3D; append(s, &amp;quot;magical pandas&amp;quot;)
        if (i % 100000) &#x3D;&#x3D; 0 {
            time.Sleep(500 * time.Millisecond)
        }
    }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Basically this just starts a goroutine &lt;code&gt;leakyFunction&lt;&#x2F;code&gt; that allocates a bunch of memory and then
exits eventually.&lt;&#x2F;p&gt;

&lt;p&gt;Getting a heap profile of this program is really easy – we just need to run &lt;code&gt;go tool pprof
http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap&lt;&#x2F;code&gt;. This puts us into an interactive mode where we run &lt;code&gt;top&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ go tool pprof  http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap
    Fetching profile from http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap
    Saved profile in &#x2F;home&#x2F;bork&#x2F;pprof&#x2F;pprof.localhost:6060.inuse_objects.inuse_space.004.pb.gz
    Entering interactive mode (type &amp;quot;help&amp;quot; for commands)
(pprof) top
    34416.04kB of 34416.04kB total (  100%)
    Showing top 10 nodes out of 16 (cum &amp;gt;&#x3D; 512.04kB)
          flat  flat%   sum%        cum   cum%
       33904kB 98.51% 98.51%    33904kB 98.51%  main.leakyFunction
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;I can also do the same thing outside interactive mode with &lt;code&gt;go tool pprof -top  http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;This basically tells us that &lt;code&gt;main.leakyFunction&lt;&#x2F;code&gt; is using 339MB of memory. Neat!&lt;&#x2F;p&gt;

&lt;p&gt;We can also generate a PNG profile like this: &lt;code&gt;go tool pprof -png  http:&#x2F;&#x2F;localhost:6060&#x2F;debug&#x2F;pprof&#x2F;heap &amp;gt; out.png&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Here’s what that looks like (I ran it at a different time so it’s only using 100MBish of memory).&lt;&#x2F;p&gt;

&lt;div&gt;

&lt;&#x2F;div&gt;

&lt;h3&gt;what do the stack traces in a heap profile mean?&lt;&#x2F;h3&gt;

&lt;p&gt;This is not complicated but also was not 100% obvious to me. The stack traces in the heap profile
are the stack trace at time of allocation.&lt;&#x2F;p&gt;

&lt;p&gt;So the stack traces in the heap profile might be for code that is not running anymore – like maybe
a function allocated a bunch of memory, returned, and a different function that should be freeing
that memory is misbehaving. So the function to blame for the memory leak might be totally different
than the function listed in the heap profile.&lt;&#x2F;p&gt;

&lt;h3&gt;alloc_space vs inuse_space&lt;&#x2F;h3&gt;

&lt;p&gt;go tool pprof has the option to show you either &lt;strong&gt;allocation counts&lt;&#x2F;strong&gt; or &lt;strong&gt;in use memory&lt;&#x2F;strong&gt;. If
you’re concerned with the amount of memory being &lt;strong&gt;used&lt;&#x2F;strong&gt;, you probably want the inuse metrics, but
if you’re worried about time spent in garbage collection, look at allocations!&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;  -inuse_space      Display in-use memory size
  -inuse_objects    Display in-use object counts
  -alloc_space      Display allocated memory size
  -alloc_objects    Display allocated object counts
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;I was originally confused about this works – the profiles have already be collected! How can I make
this choice after the fact? I think how the heap profiles work is – allocations are recorded at
some sample rate. Then every time one of those allocation is &lt;strong&gt;freed&lt;&#x2F;strong&gt;, that’s also recorded. So you
get a history of both allocations and frees for some sample of memory activity. Then when it comes
time to analyze your memory usage, you can decide where you want inuse memory or total allocation counts!&lt;&#x2F;p&gt;

&lt;p&gt;You can read the source for the memory profiler here: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;golang.org&#x2F;src&#x2F;runtime&#x2F;mprof.go&quot;&gt;https:&#x2F;&#x2F;golang.org&#x2F;src&#x2F;runtime&#x2F;mprof.go&lt;&#x2F;a&gt;. It
has a lot of useful comments! For example here are the comments about setting the sample rate:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;&#x2F;&#x2F; MemProfileRate controls the fraction of memory allocations
&#x2F;&#x2F; that are recorded and reported in the memory profile.
&#x2F;&#x2F; The profiler aims to sample an average of
&#x2F;&#x2F; one allocation per MemProfileRate bytes allocated.

&#x2F;&#x2F; To include every allocated block in the profile, set MemProfileRate to 1.
&#x2F;&#x2F; To turn off profiling entirely, set MemProfileRate to 0.

&#x2F;&#x2F; The tools that process the memory profiles assume that the
&#x2F;&#x2F; profile rate is constant across the lifetime of the program
&#x2F;&#x2F; and equal to the current value. Programs that change the
&#x2F;&#x2F; memory profiling rate should do so just once, as early as
&#x2F;&#x2F; possible in the execution of the program (for example,
&#x2F;&#x2F; at the beginning of main).
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;h3&gt;pprof fundamentals: deconstructing a pprof file&lt;&#x2F;h3&gt;

&lt;p&gt;When I started working with pprof I was confused about what was actually happening. It was
generating these heap profiles named like &lt;code&gt;pprof.localhost:6060.inuse_objects.inuse_space.004.pb.gz&lt;&#x2F;code&gt;
– what is that? How can I see the contents?&lt;&#x2F;p&gt;

&lt;p&gt;Well, let’s take a look!! I wrote an even simpler Go program to get the simplest possible heap
profile.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;package main

import &amp;quot;runtime&amp;quot;
import &amp;quot;runtime&#x2F;pprof&amp;quot;
import &amp;quot;os&amp;quot;
import &amp;quot;time&amp;quot;

func main() {
    go leakyFunction()
    time.Sleep(500 * time.Millisecond)
    f, _ :&#x3D; os.Create(&amp;quot;&#x2F;tmp&#x2F;profile.pb.gz&amp;quot;)
    defer f.Close()
    runtime.GC()
    pprof.WriteHeapProfile(f);
}

func leakyFunction() {
    s :&#x3D; make([]string, 3)
    for i:&#x3D; 0; i &amp;lt; 10000000; i++{
        s &#x3D; append(s, &amp;quot;magical pprof time&amp;quot;)
    }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;This program just allocates some memory, writes a heap profile, and exits. Pretty simple. Let’s look
at this file &lt;code&gt;&#x2F;tmp&#x2F;profile.pb.gz&lt;&#x2F;code&gt;! You can download a gunzipped version &lt;code&gt;profile.pb&lt;&#x2F;code&gt;
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;gist.github.com&#x2F;jvns&#x2F;828b5b99d3d7c875175c1e8a1d832161&#x2F;raw&#x2F;fc90af99da22bd7b4d444aa516c3d495f289d94b&#x2F;profile.pb&quot;&gt;here: profile.pb&lt;&#x2F;a&gt;. I installed protoc using &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;gist.github.com&#x2F;sofyanhadia&#x2F;37787e5ed098c97919b8c593f0ec44d8&quot;&gt;these directions&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;code&gt;profile.pb&lt;&#x2F;code&gt; is a protobuf file, and it turns out you can view protobuf files with &lt;code&gt;protoc&lt;&#x2F;code&gt;, the
protobuf compiler.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;go get github.com&#x2F;google&#x2F;pprof&#x2F;proto
protoc --decode&#x3D;perftools.profiles.Profile  $GOPATH&#x2F;src&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;proto&#x2F;profile.proto --proto_path $GOPATH&#x2F;src&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;proto&#x2F;
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;The output of this is a bit long, you can view it all here: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;gist.githubusercontent.com&#x2F;jvns&#x2F;828b5b99d3d7c875175c1e8a1d832161&#x2F;raw&#x2F;4effe4f58a0f250093695c6f1675181b93c772c2&#x2F;profile.pb.txt&quot;&gt;output&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Here’s a summary though of what’s in this heap profile file! This contains 1 sample. A sample is a
stack trace, and this stack trace has 2 locations: 1 and 2. What are locations 1 and 2? Well they
correspond to mappings 1 and 2, which in turn correspond to filenames 7 and 8.&lt;&#x2F;p&gt;

&lt;p&gt;If we look at the string table, we see that filenames 7 and 8 are these two:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;string_table: &amp;quot;&#x2F;home&#x2F;bork&#x2F;work&#x2F;experiments&#x2F;golang-pprof&#x2F;leak_simplest&amp;quot;
string_table: &amp;quot;[vdso]&amp;quot;
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;pre&gt;&lt;code&gt;sample {
  location_id: 1
  location_id: 2
  value: 1
  value: 34717696
  value: 1
  value: 34717696
}
mapping {
  id: 1
  memory_start: 4194304
  memory_limit: 5066752
  filename: 7
}
mapping {
  id: 2
  memory_start: 140720922800128
  memory_limit: 140720922808320
  filename: 8
}
location {
  id: 1
  mapping_id: 1
  address: 5065747
}
location {
  id: 2
  mapping_id: 1
  address: 4519969
}
string_table: &amp;quot;&amp;quot;
string_table: &amp;quot;alloc_objects&amp;quot;
string_table: &amp;quot;count&amp;quot;
string_table: &amp;quot;alloc_space&amp;quot;
string_table: &amp;quot;bytes&amp;quot;
string_table: &amp;quot;inuse_objects&amp;quot;
string_table: &amp;quot;inuse_space&amp;quot;
string_table: &amp;quot;&#x2F;home&#x2F;bork&#x2F;work&#x2F;experiments&#x2F;golang-pprof&#x2F;leak_simplest&amp;quot;
string_table: &amp;quot;[vdso]&amp;quot;
string_table: &amp;quot;[vsyscall]&amp;quot;
string_table: &amp;quot;space&amp;quot;
time_nanos: 1506268926947477256
period_type {
  type: 10
  unit: 4
}
period: 524288
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;h3&gt;pprof files don’t always contain function names&lt;&#x2F;h3&gt;

&lt;p&gt;One interesting thing about this pprof file &lt;code&gt;profile.pb&lt;&#x2F;code&gt; is that it doesn’t contain the names of the
functions we’re running! But If I run &lt;code&gt;go tool pprof&lt;&#x2F;code&gt; on it, it prints out the name of the leaky
function. How did you do that, &lt;code&gt;go tool pprof&lt;&#x2F;code&gt;?!&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;go tool pprof -top  profile.pb 
59.59MB of 59.59MB total (  100%)
      flat  flat%   sum%        cum   cum%
   59.59MB   100%   100%    59.59MB   100%  main.leakyFunction
         0     0%   100%    59.59MB   100%  runtime.goexit
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;I answered this with strace, obviously – I straced &lt;code&gt;go tool pprof&lt;&#x2F;code&gt; and this is what I saw:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;5015  openat(AT_FDCWD, &amp;quot;&#x2F;home&#x2F;bork&#x2F;pprof&#x2F;binaries&#x2F;leak_simplest&amp;quot;, O_RDONLY|O_CLOEXEC &amp;lt;unfinished ...&amp;gt;
5015  openat(AT_FDCWD, &amp;quot;&#x2F;home&#x2F;bork&#x2F;work&#x2F;experiments&#x2F;golang-pprof&#x2F;leak_simplest&amp;quot;, O_RDONLY|O_CLOEXEC) &#x3D; 3
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;So it seems that &lt;code&gt;go tool pprof&lt;&#x2F;code&gt; noticed that the filename in &lt;code&gt;profile.pb&lt;&#x2F;code&gt; was &#x2F;home&#x2F;bork&#x2F;work&#x2F;experiments&#x2F;golang-pprof&#x2F;leak_simplest, and then it just opened up that file on my computer and used that to get the function names. Neat!&lt;&#x2F;p&gt;

&lt;p&gt;You can also pass the binary to &lt;code&gt;go tool pprof&lt;&#x2F;code&gt; like &lt;code&gt;go tool pprof -out $BINARY_FILE myprofile.pb.gz&lt;&#x2F;code&gt;. Sometimes pprof files contain function names and
sometimes they don’t, I haven’t figured out what determines that yet.&lt;&#x2F;p&gt;

&lt;h3&gt;pprof keeps improving!&lt;&#x2F;h3&gt;

&lt;p&gt;also I found out that thanks to the great work of people like rakyll, pprof keeps getting better!! For example There’s
this pull request &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;pull&#x2F;188&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;pprof&#x2F;pull&#x2F;188&lt;&#x2F;a&gt; which is being worked on RIGHT NOW which
adds flamegraph support to the pprof web interface. Flamegraphs are the best thing in the universe
so I’m very excited for that to be available.&lt;&#x2F;p&gt;

&lt;p&gt;If I got someting wrong (I probably did) let me know!!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/24/profiling-go-with-pprof/"/>
    <published>2017-09-24T09:43:36.000Z</published>
  </entry>
  <entry>
    <title>Weekly update 53 (Salt Lake City edition) | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;What a week! Epic hardly describes the experience I&#39;ve just had at Pluralsight Live in Utah, not least of which was this stage:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;No new writing this week but I did want to comment on the Equifax CSO degree story (and my poorly worded tweet about it) as well as the ongoing concern I keep hearing from people about biometric auth, especially in the US. So that&#39;s just a quick intro, I&#39;m rushing this one out a bit as it seems that the one place in the world with worse connectivity than my home in Australia is US airports...&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;itunes.apple.com&#x2F;au&#x2F;podcast&#x2F;troy-hunts-weekly-update-podcast&#x2F;id1176454699&quot;&gt;iTunes podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;goo.gl&#x2F;app&#x2F;playmusic?ibi&#x3D;com.google.PlayMusic&amp;amp;isi&#x3D;691797987&amp;amp;ius&#x3D;googleplaymusic&amp;amp;link&#x3D;https:&#x2F;&#x2F;play.google.com&#x2F;music&#x2F;m&#x2F;If3tw7npymckucxq4q76762ncny?t%3DTroy_Hunt%27s_Weekly_Update_Podcast&quot;&gt;Google Play Music podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.omnycontent.com&#x2F;d&#x2F;playlist&#x2F;1439345f-6152-486d-a9c2-a6bf0067f2b7&#x2F;3ba9af7f-3bfb-48fd-aae7-a6bf00689c10&#x2F;fde26e49-9fb8-457d-8f16-a6bf00696676&#x2F;podcast.rss&quot;&gt;RSS podcast&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

References
&lt;ol&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.marketwatch.com&#x2F;story&#x2F;equifax-ceo-hired-a-music-major-as-the-companys-chief-security-officer-2017-09-15&quot;&gt;Here&#39;s the story on the Equifax CSO and her music degree&lt;&#x2F;a&gt; (I&#39;ll write something more on this later but in short, it&#39;s the experience that&#39;s critical)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;909158110924652545&quot;&gt;Here&#39;s the tweet asking people about police access to phones&lt;&#x2F;a&gt; (the responses are worth reading if for no other reason than it understand the sentiment of so many people out there)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stackhackr.barkly.com&#x2F;?utm_source&#x3D;troy-hunt&amp;amp;utm_medium&#x3D;paid&amp;amp;utm_campaign&#x3D;stackhackr&quot;&gt;Barkly is sponsoring my blog again this week&lt;&#x2F;a&gt; (big thanks to those guys for being a repeat sponsor!)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/uFrVBRWygNM/"/>
    <published>2017-09-23T04:45:27.000Z</published>
  </entry>
  <entry>
    <title>Progressive Web Apps? No, we are building Alien Web Apps | Condé Nast Technology</title>
    <content type="html">Progressive Web Apps? No, we are building Alien Web Apps</content>
    <link rel="alternate" href="https://technology.condenast.com/story/not-progressive-alien-web-apps"/>
    <published>2017-09-21T16:00:11.000Z</published>
  </entry>
  <entry>
    <title>Two week hiatus for reasons. I do a bit of planning, but no work. | Ron Jeffries</title>
    <content type="html">Just a bit of reflection after two weeks off. Next week, I hope we&#39;ll actually do something. Today I remember the Boy Scout Refactoring Rule.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/ipad-m-two-weeks/"/>
    <published>2017-09-21T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>How to answer questions in a helpful way | Julia Evans</title>
    <content type="html">&lt;p&gt;Your coworker asks you a slightly unclear question. How do you answer? I think asking questions
is a skill (see &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jvns.ca&#x2F;blog&#x2F;good-questions&#x2F;&quot;&gt;How to ask good questions&lt;&#x2F;a&gt;) and that answering questions
in a helpful way is also a skill! Both of them are super useful.&lt;&#x2F;p&gt;

&lt;p&gt;To start out with – sometimes the people asking you questions don’t respect
your time, and that sucks. I’m assuming here throughout that that’s not what
happening – we’re going to assume that the person asking you questions is a
reasonable person who is trying their best to figure something out and that you
want to help them out. Everyone I work with is like that and so that’s the
world I live in :)&lt;&#x2F;p&gt;

&lt;p&gt;Here are a few strategies for answering questions in a helpful way!&lt;&#x2F;p&gt;

&lt;h3&gt;If they’re not asking clearly, help them clarify&lt;&#x2F;h3&gt;

&lt;p&gt;Often beginners don’t ask clear questions, or ask questions that don’t have the necessary information to answer the questions. Here are some strategies you can use to help them clarify.&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Rephrase a more specific question&lt;&#x2F;strong&gt; back at them (“Are you asking X?”)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Ask them for more specific information&lt;&#x2F;strong&gt; they didn’t provide (“are you using IPv6?”)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Ask what prompted their question&lt;&#x2F;strong&gt;. For example, sometimes people come into my team’s channel with questions about how our service discovery works. Usually this is because they’re trying to set up&#x2F;reconfigure a service. In that case it’s helpful to ask “which service are you working with? Can I see the pull request you’re working on?”&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;A lot of these strategies come from the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jvns.ca&#x2F;blog&#x2F;good-questions&#x2F;&quot;&gt;how to ask good questions&lt;&#x2F;a&gt; post. (though I would never
say to someone “oh you need to read this Document On How To Ask Good Questions
before asking me a question”)&lt;&#x2F;p&gt;

&lt;h3&gt;Figure out what they know already&lt;&#x2F;h3&gt;

&lt;p&gt;Before answering a question, it’s very useful to know what the person knows already!&lt;&#x2F;p&gt;

&lt;p&gt;Harold Treen gave me a great example of this:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;Someone asked me the other day to explain “Redux Sagas”. Rather than dive in and say “They are like worker threads that listen for actions and let you update the store!” &lt;br &#x2F;&gt;
I started figuring out how much they knew about Redux, actions, the store and all these other fundamental concepts. From there it was easier to explain the concept that ties those other concepts together.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;Figuring out what your question-asker knows already is important because they may
be confused about fundamental concepts (“What’s Redux?”), or they may be an
expert who’s getting at a subtle corner case. An answer building on concepts
they don’t know is confusing, and an answer that recaps things they know is
tedious.&lt;&#x2F;p&gt;

&lt;p&gt;One useful trick for asking what people know – instead of “Do you know X?”,
maybe try “How familiar are you with X?”.&lt;&#x2F;p&gt;

&lt;h3&gt;Point them to the documentation&lt;&#x2F;h3&gt;

&lt;p&gt;“RTFM” is the classic unhelpful answer to a question, but pointing someone to a
specific piece of documentation can actually be really helpful! When I’m asking
a question, I’d honestly rather be pointed to documentation that actually
answers my question, because it’s likely to answer other questions I have too.&lt;&#x2F;p&gt;

&lt;p&gt;I think it’s important here to make sure you’re linking to documentation that
actually answers the question, or at least check in afterwards to make sure it
helped. Otherwise you can end up with this (pretty common) situation:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Ali: How do I do X?&lt;&#x2F;li&gt;
&lt;li&gt;Jada: &amp;lt;link to documentation&amp;gt;&lt;&#x2F;li&gt;
&lt;li&gt;Ali: That doesn’t actually explain how to X, it only explains Y!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;If the documentation I’m linking to is very long, I like to point out the
specific part of the documentation I’m talking about. The &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;linux.die.net&#x2F;man&#x2F;1&#x2F;bash&quot;&gt;bash man page&lt;&#x2F;a&gt; is 44,000 words (really!), so just
saying “it’s in the bash man page” is not that helpful :)&lt;&#x2F;p&gt;

&lt;h3&gt;Point them to a useful search&lt;&#x2F;h3&gt;

&lt;p&gt;Often I find things at work by searching for some Specific Keyword that I know will find me the answer. That keyword might not be obvious to a beginner! So saying “this is the search I’d use to find the answer to that question” can be useful. Again, check in afterwards to make sure the search actually gets them the answer they need :)&lt;&#x2F;p&gt;

&lt;h3&gt;Write new documentation&lt;&#x2F;h3&gt;

&lt;p&gt;People often come and ask my team the same questions over and over again. This is obviously not the fault of the people (how should &lt;em&gt;they&lt;&#x2F;em&gt; know that 10 people have asked this already, or what the answer is?). So we’re trying to, instead of answering the questions directly,&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;Immediately write documentation&lt;&#x2F;li&gt;
&lt;li&gt;Point the person to the new documentation we just wrote&lt;&#x2F;li&gt;
&lt;li&gt;Celebrate!&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;Writing documentation sometimes takes more time than just answering the question, but it’s often worth it! Writing documentation is especially worth it if:&lt;&#x2F;p&gt;

&lt;p&gt;a. It’s a question which is being asked again and again
b. The answer doesn’t change too much over time (if the answer changes every week or month, the documentation will just get out of date and be frustrating)&lt;&#x2F;p&gt;

&lt;h3&gt;Explain what you did&lt;&#x2F;h3&gt;

&lt;p&gt;As a beginner to a subject, it’s really frustrating to have an exchange like this:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;New person: “hey how do you do X?”&lt;&#x2F;li&gt;
&lt;li&gt;More Experienced Person: “I did it, it is done.”&lt;&#x2F;li&gt;
&lt;li&gt;New person: ….. but what did you DO?!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;If the person asking you is trying to learn how things work, it’s helpful to:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Walk them through how to accomplish a task instead of doing it yourself&lt;&#x2F;li&gt;
&lt;li&gt;Tell them the steps for how you got the answer you gave them!&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;This might take longer than doing it yourself, but it’s a learning opportunity
for the person who asked, so that they’ll be better equipped to solve such
problems in the future.&lt;&#x2F;p&gt;

&lt;p&gt;Then you can have WAY better exchanges, like this:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;New person: “I’m seeing errors on the site, what’s happening?”&lt;&#x2F;li&gt;
&lt;li&gt;More Experienced Person: (2 minutes later) “oh that’s because there’s a database failover happening”&lt;&#x2F;li&gt;
&lt;li&gt;New person: how did you know that??!?!?&lt;&#x2F;li&gt;
&lt;li&gt;More Experienced Person: “Here’s what I did!”:

&lt;ol&gt;
&lt;li&gt;Often these errors are due to Service Y being down. I looked at $PLACE and it said Service Y was up. So that wasn’t it.&lt;&#x2F;li&gt;
&lt;li&gt;Then I looked at dashboard X, and this part of that dashboard showed there was a database failover happening.&lt;&#x2F;li&gt;
&lt;li&gt;Then I looked in the logs for the service and it showed errors connecting to the database, here’s what those errors look like.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;If you’re explaining how you debugged a problem, it’s useful both to explain how you found out what the problem was, and how you found out what the problem wasn’t. While it might feel good to look like you knew the answer right off the top of your head, it feels even better to help someone improve at learning and diagnosis, and understand the resources available.&lt;&#x2F;p&gt;

&lt;h3&gt;Solve the underlying problem&lt;&#x2F;h3&gt;

&lt;p&gt;This one is a bit tricky. Sometimes people think they’ve got the right path to
a solution, and they just need one more piece of information to implement that
solution. But they might not be quite on the right path! For example:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;George: I’m doing X, and I got this error, how do I fix it&lt;&#x2F;li&gt;
&lt;li&gt;Jasminda: Are you actually trying to do Y? If so, you shouldn’t do X, you should do Z instead&lt;&#x2F;li&gt;
&lt;li&gt;George: Oh, you’re right!!! Thank you! I will do Z instead.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Jasminda didn’t answer George’s question at all! Instead she guessed that George didn’t actually want to be doing X, and she was right. That is helpful!&lt;&#x2F;p&gt;

&lt;p&gt;It’s possible to come off as condescending here though, like&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;George: I’m doing X, and I got this error, how do I fix it?&lt;&#x2F;li&gt;
&lt;li&gt;Jasminda: Don’t do that, you’re trying to do Y and you should do Z to accomplish that instead.&lt;&#x2F;li&gt;
&lt;li&gt;George: Well, I am not trying to do Y, I actually want to do X because REASONS. How do I do X?&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;So don’t be condescending, and keep in mind that some questioners might be attached to the steps they’ve taken so far! It might be appropriate to answer both the question they asked and the one they should have asked: “Well, if you want to do X then you might try this, but if you’re trying to solve problem Y with that, you might have better luck doing this other thing, and here’s why that’ll work better”.&lt;&#x2F;p&gt;

&lt;h3&gt;Ask “Did that answer your question?”&lt;&#x2F;h3&gt;

&lt;p&gt;I always like to check in after I &lt;em&gt;think&lt;&#x2F;em&gt; I’ve answered the question and ask
“did that answer your question? Do you have more questions?”.&lt;&#x2F;p&gt;

&lt;p&gt;It’s good to pause and wait after asking this because often people need a
minute or two to know whether or not they’ve figured out the answer. I
especially find this extra “did this answer your questions?” step helpful after
writing documentation! Often when writing documentation about something I know
well I’ll leave out something very important without realizing it.&lt;&#x2F;p&gt;

&lt;h3&gt;Offer to pair program&#x2F;chat in real life&lt;&#x2F;h3&gt;

&lt;p&gt;I work remote, so many of my conversations at work are text-based. I think of
that as the default mode of communication.&lt;&#x2F;p&gt;

&lt;p&gt;Today, we live in a world of easy video conferencing &amp;amp; screensharing! At work I
can at any time click a button and immediately be in a video call&#x2F;screensharing
session with someone. Some problems are easier to talk about using your
voices!&lt;&#x2F;p&gt;

&lt;p&gt;For example, recently someone was asking about capacity planning&#x2F;autoscaling
for their service. I could tell there were a few things we needed to clear up
but I wasn’t exactly sure what they were yet. We got on a quick video call and
5 minutes later we’d answered all their questions.&lt;&#x2F;p&gt;

&lt;p&gt;I think especially if someone is really stuck on how to get started on a task,
pair programming for a few minutes can really help, and it can be a lot more
efficient than email&#x2F;instant messaging.&lt;&#x2F;p&gt;

&lt;h3&gt;Don’t act surprised&lt;&#x2F;h3&gt;

&lt;p&gt;This one’s a rule from the Recurse Center: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jvns.ca&#x2F;blog&#x2F;2017&#x2F;04&#x2F;27&#x2F;no-feigning-surprise&#x2F;&quot;&gt;no feigning surprise&lt;&#x2F;a&gt;. Here’s a
relatively common scenario&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Human 1: “what’s the Linux kernel?”&lt;&#x2F;li&gt;
&lt;li&gt;Human 2: “you don’t know what the LINUX KERNEL is?!!!!?!!!???”&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Human 2’s reaction (regardless of whether they’re &lt;em&gt;actually&lt;&#x2F;em&gt; surprised or not)
is not very helpful. It mostly just serves to make Human 1 feel bad that they
don’t know what the Linux kernel is.&lt;&#x2F;p&gt;

&lt;p&gt;I’ve worked on actually pretending not to be surprised even when I actually am
a bit surprised the person doesn’t know the thing and it’s awesome.&lt;&#x2F;p&gt;

&lt;h3&gt;Answering questions well is awesome&lt;&#x2F;h3&gt;

&lt;p&gt;Obviously not all these strategies are appropriate all the time, but hopefully
you will find some of them helpful! I find taking the time to answer questions
and teach people can be really rewarding.&lt;&#x2F;p&gt;

&lt;p&gt;
Special thanks to Josh Triplett for suggesting this post and making many helpful additions, and to Harold Treen, Vaibhav Sagar, Peter Bhat Harkins, Wesley Aptekar-Cassels, and Paul Gowder for reading&#x2F;commenting.
&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/answer-questions-well/"/>
    <published>2017-09-21T01:37:48.000Z</published>
  </entry>
  <entry>
    <title>Absolute must-read | Preston Byrne</title>
    <content type="html">Ray Dillinger, early Bitcoin code auditor, writes in LinkedIn about his view of the ICO phenomenon: …the Trustless nature of Bitcoin was the main thing that convinced me Satoshi wasn’t scamming. He built a highway with no toll bridge. People could use Bitcoin without creating any obligation to pay him anything ever. He wasn’t selling coins, he was giving them away for solving hashes. He reserved nothing for himself.   He wasn’t trying to line his own pockets at the expense of others. In fact I don’t think I’ve ever encountered someone so completely uninterested in personal wealth. You know...</content>
    <link rel="alternate" href="https://prestonbyrne.com/2017/09/20/absolute-must-read/"/>
    <published>2017-09-20T15:43:19.000Z</published>
  </entry>
  <entry>
    <title>How I Make Explorable Explanations | Nicky Case</title>
    <content type="html">&lt;p&gt;You want to share a powerful idea – an idea that could really enrich the lives of whoever you gift it to! But communication is hard. So how do you share an idea, in such a way that makes sure the message is received?&lt;&#x2F;p&gt;

&lt;p&gt;Well, that&#39;s easy. Do it like this:&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Nah, I&#39;m kidding. The actual process is a lot more painful.&lt;&#x2F;p&gt;

&lt;p&gt;In this post, I&#39;m going to share how I make &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;explorabl.es&#x2F;&quot;&gt;explorable explanations&lt;&#x2F;a&gt;: interactive things that help you &lt;em&gt;learn by playing&lt;&#x2F;em&gt;! Although my creative process involves a lot of backtracking and wrong turns and general flailing about, I &lt;em&gt;have&lt;&#x2F;em&gt; found a nice &amp;quot;pattern&amp;quot; for teaching things. There are no plug-and-chug formulas, but hopefully this post can help you help others learn something new – whether that&#39;s through reading, through watching, or through &lt;em&gt;playing&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;And the first thing to do is start with...&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

1) Start With 🤔?

&lt;p&gt;&lt;em&gt;“What makes [traditional teaching] so ineffective is that it answers questions the student hasn’t thought to ask. [...] You have to help them love the questions.”&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;em&gt;~ Steven Strogatz, &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.ams.org&#x2F;notices&#x2F;201403&#x2F;rnoti-p286.pdf&quot;&gt;&amp;quot;Writing about Math for the Perplexed &amp;amp; the Traumatized&amp;quot;&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Practicing what I preach: this very blog post starts with an important question that everyone cares about – &lt;em&gt;&amp;quot;how do you share an idea?&amp;quot;&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;p&gt;But you don&#39;t have to make the question so blatantly in-your-face. In &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;ncase.me&#x2F;trust&#x2F;&quot;&gt;The Evolution of Trust&lt;&#x2F;a&gt;, I posed the question in the form of a &lt;em&gt;story:&lt;&#x2F;em&gt; why &amp;amp; how did WWI soldiers create peace in the trenches? And in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;ncase.me&#x2F;polygons&#x2F;&quot;&gt;Parable of the Polygons&lt;&#x2F;a&gt;, I posed the question in the form of a &lt;em&gt;game:&lt;&#x2F;em&gt; why &amp;amp; how does a small individual bias result in large collective segregation?&lt;&#x2F;p&gt;

&lt;p&gt;However you choose to do it, you&#39;ve &lt;em&gt;got&lt;&#x2F;em&gt; to make your reader &#x2F; viewer &#x2F; player curious – &lt;strong&gt;you&#39;ve got to make them love your question.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Only then, will they be motivated to make the long, hard climb up the...&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

2) Up The Ladder of Abstraction

&lt;p&gt;Yeah I&#39;m mixing my metaphors a bit here with hills and ladders but WHATEVER, the point is you&#39;ve got to start grounded, then move your way up, step by step, &lt;em&gt;slowly&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;You may think that&#39;s obvious. But, seeing how many lecturers spew abstract jargon – talking in the clouds while their audience is still on the ground – yeah, no. Apparently it&#39;s &lt;em&gt;not&lt;&#x2F;em&gt; obvious. (Alternatively, some people try to &amp;quot;dumb it down&amp;quot; for the public. But the goal shouldn&#39;t be to &lt;em&gt;dumb the ideas down&lt;&#x2F;em&gt;, it should be to &lt;em&gt;smart the people up&lt;&#x2F;em&gt;.)&lt;&#x2F;p&gt;

&lt;p&gt;So: &lt;strong&gt;start on the ground&lt;&#x2F;strong&gt;. The very first thing you should do is give the reader a &lt;em&gt;concrete experience&lt;&#x2F;em&gt;. In &lt;em&gt;Parable of the Polygons&lt;&#x2F;em&gt;, you start by directly dragging &amp;amp; dropping a neighborhood of shapes. In &lt;em&gt;The Evolution of Trust&lt;&#x2F;em&gt;, you start by directly playing against a bunch of opponents. The trick is to pick an experience that will be a good foundation for &lt;em&gt;everything else&lt;&#x2F;em&gt; you&#39;ll be building on top of it.&lt;&#x2F;p&gt;

&lt;p&gt;Then, &lt;strong&gt;move up, step by step.&lt;&#x2F;strong&gt; I think a good logical argument is like a good story: it shouldn&#39;t be &amp;quot;one damn thing after another&amp;quot;. Matt Stone &amp;amp; Trey Parker once said that instead of making stories like this: &lt;em&gt;&amp;quot;this happens, and then that happens, and then that happens, etc&amp;quot;&lt;&#x2F;em&gt;... you should make stories like this: &lt;em&gt;&amp;quot;this happens, THEREFORE that happens, BUT that happens, THEREFORE this happens, etc&amp;quot;&lt;&#x2F;em&gt;. &lt;br &#x2F;&gt;
(for more on this idea, watch Tony Zhou&#39;s brilliant &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;vimeo.com&#x2F;123759973&quot;&gt;video essay on structuring video essays&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;

&lt;p&gt;The same is true of any good explanation. In &lt;em&gt;The Evolution of Trust&lt;&#x2F;em&gt;, I tried to connect as many points as I could with BUT: &amp;quot;You can both win if you both cooperate BUT in a single game you&#39;ll both cheat BUT in a repeated game cooperation can succeed BUT in this scenario cheaters take over in the short term BUT in the long term the cooperators succeed again BUT...&amp;quot; and so on, and so on.&lt;&#x2F;p&gt;

&lt;p&gt;I like these big BUTs, and I cannot lie: it means I can show off a new counter-intuitive idea every few minutes! That&#39;s a story that&#39;s &lt;em&gt;packed&lt;&#x2F;em&gt; with plot twists. &lt;br &#x2F;&gt;
(note: you may also sometimes want to step back &lt;em&gt;down&lt;&#x2F;em&gt; from the abstract to the concrete. check out Bret Victor&#39;s &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;worrydream.com&#x2F;LadderOfAbstraction&#x2F;&quot;&gt;Up &amp;amp; Down The Ladder of Abstraction&lt;&#x2F;a&gt;, which has inspired, like, 90% of my work.)&lt;&#x2F;p&gt;

&lt;p&gt;Anyway, once you&#39;ve helped your reader reach the top of the hill &#x2F; ladder &#x2F; whatever metaphor we&#39;re using here, it&#39;s best to end with...&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

3) End With 🤔?

&lt;p&gt;You want to share a powerful idea – &lt;em&gt;why&#39;s&lt;&#x2F;em&gt; it powerful? How does your idea let people &lt;em&gt;see further?&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;p&gt;At the end of most of my explorables, I have a &amp;quot;Sandbox Mode&amp;quot;. There&#39;s a sandbox at the end of &lt;em&gt;Polygons&lt;&#x2F;em&gt;, &lt;em&gt;Trust&lt;&#x2F;em&gt;, &lt;em&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;ncase.me&#x2F;ballot&#x2F;&quot;&gt;Ballot&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;, &lt;em&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;ncase.me&#x2F;fireflies&#x2F;&quot;&gt;Fireflies&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;, &lt;em&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;ncase.me&#x2F;simulating&#x2F;&quot;&gt;Emoji Simulator&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;... yeah to be honest, it&#39;s a bit of a cliché for me at this point, but here&#39;s the reason why I have those sandboxes:&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;In the beginning, I start by giving the player &lt;em&gt;my&lt;&#x2F;em&gt; question. And at the end, I want them to explore their &lt;em&gt;own&lt;&#x2F;em&gt; questions.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Once you&#39;ve helped someone get to the top of a hill, your student can now see not just other hills that &lt;em&gt;they&lt;&#x2F;em&gt; didn&#39;t see before, but other hills that even &lt;em&gt;you&lt;&#x2F;em&gt; didn&#39;t see before. That&#39;s the true value of ending on an open-ended question: &lt;em&gt;it allows the student to go beyond the teacher&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;. . .&lt;&#x2F;p&gt;

&lt;p&gt;I feel like I&#39;ve finally made it to the top of a tiny hill. I made my first explorable explanation 3½ years ago: &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;ncase.me&#x2F;sight-and-light&#x2F;&quot;&gt;a tutorial on making a cool visual effect for 2D games&lt;&#x2F;a&gt;. And I&#39;ve learnt a heck of a lot since then!&lt;&#x2F;p&gt;

&lt;p&gt;But the more I learn, the more I realize how much I&#39;ve &lt;em&gt;yet&lt;&#x2F;em&gt; to learn. There&#39;s so much I want to try out. Heck, here&#39;s a list:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Explorables that aren&#39;t just single-player&lt;&#x2F;li&gt;
&lt;li&gt;Explorables that use real-world data&lt;&#x2F;li&gt;
&lt;li&gt;Explorables where you actually &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;w1_zmx-wU0U&quot;&gt;solve problems, not just puzzles&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Explorables that don&#39;t follow a set linear story: it can change its lesson based on the reader&#39;s interests &amp;amp; prior knowledge.&lt;&#x2F;li&gt;
&lt;li&gt;Explorables that are partially user-generated&lt;&#x2F;li&gt;
&lt;li&gt;Explorables that allow dialogue between peer learners&lt;&#x2F;li&gt;
&lt;li&gt;Explorables that aren&#39;t standalone experiences, but something you can come back to again and again over time.&lt;&#x2F;li&gt;
&lt;li&gt;Explorables in VR, or AR, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;vimeo.com&#x2F;71278954&quot;&gt;or just... R.&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;Explorables where you can actually make your own projects... such as &lt;em&gt;making an explorable!&lt;&#x2F;em&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Trying out all of that seems pretty daunting, but 1) &amp;quot;How do you eat an elephant? One bite at a time.&amp;quot; And 2) a lot of other people are also interested in making explorables! It&#39;s impossible for any one person to climb all these hills, but collectively, we can explore this wild, weird terrain – and &lt;em&gt;together&lt;&#x2F;em&gt;, we can bite a &lt;em&gt;lot&lt;&#x2F;em&gt; of elephants! okay my metaphors are getting really mixed here&lt;&#x2F;p&gt;

&lt;p&gt;But the point is this: &lt;strong&gt;TRUE learning is a never-ending process.&lt;&#x2F;strong&gt; You start with a 🤔, you end with more 🤔. Like Sisyphus, every time we get to the top of a hill, we&#39;ll just have to go back down, to perform the climb again.&lt;&#x2F;p&gt;

&lt;p&gt;And I wouldn&#39;t have it any other way.&lt;&#x2F;p&gt;

&lt;p&gt;  
&lt;br &#x2F;&gt;  
&lt;em&gt;“Tiger got to hunt, bird got to fly;&lt;br &#x2F;&gt;  
Man got to sit and wonder &#39;why, why, why?&#39;&lt;br &#x2F;&gt;  
Tiger got to sleep, bird got to land;&lt;br &#x2F;&gt;  
Man got to tell himself he understand.”&lt;&#x2F;em&gt;  
&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;  
~ Kurt Vonnegut
&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://blog.ncase.me/how-i-make-an-explorable-explanation/"/>
    <published>2017-09-20T15:40:42.000Z</published>
  </entry>
  <entry>
    <title>Transactionally Staged Job Drains in Postgres | Brandur Leach</title>
    <content type="html">&lt;p&gt;Background jobs are one of the most common patterns in web
programming, and for good reason. Slow API calls and other
heavy lifting is deferred to out-of-band workers so that a
user’s request is executed as quickly as possible. In web
services, fast is a feature.&lt;&#x2F;p&gt;

&lt;p&gt;But when it comes to working with background jobs in
conjunction with ACID transactions of the likes you’d find
in Postgres, MySQL, or SQL Server, there are a few sharp
edges that aren’t immediately obvious. To demonstrate,
let’s take a simple workflow that starts a transaction,
executes a few DB operations, and queues a job somewhere in
the middle:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;DB.transaction do |t|
  db_op1(t)
  queue_job()
  db_op2(t)
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;It’s not easy to spot, but if your queue is fast, the job
enqueued by &lt;code&gt;queue_job()&lt;&#x2F;code&gt; is likely to fail. A worker
starts running it before its enclosing transaction is
committed, and it fails to access data that it expected to
be available.&lt;&#x2F;p&gt;

&lt;p&gt;As an easy example, imagine &lt;code&gt;db_op1()&lt;&#x2F;code&gt; inserts a user
record. &lt;code&gt;queue_job()&lt;&#x2F;code&gt; puts a job in the queue to retrieve
that record, and add that user’s email address (along with
a unique internal ID) to an email whitelist managed by
another service. A background worker dequeues the job, but
finds that the user record it’s looking for is nowhere to
be found in the database.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;job-drain&#x2F;job-failure.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  A job failing because the data it relies on is not yet committed.


&lt;p&gt;A related problem are transaction rollbacks. In these cases
data is discarded completely, and jobs inserted into the
queue will &lt;em&gt;never&lt;&#x2F;em&gt; succeed no matter how many times they’re
retried.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#complex-problem&quot;&gt;For every complex problem ...&lt;&#x2F;a&gt;

&lt;p&gt;Sidekiq has &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mperham&#x2F;sidekiq&#x2F;wiki&#x2F;FAQ#why-am-i-seeing-a-lot-of-cant-find-modelname-with-id12345-errors-with-sidekiq&quot;&gt;a FAQ on this exact subject&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Why am I seeing a lot of “Can’t find ModelName with
ID&#x3D;12345” errors with Sidekiq?&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Your client is creating the Model instance within a
transaction and pushing a job to Sidekiq. Sidekiq is
trying to execute your job before the transaction has
actually committed. Use Rails’s &lt;code&gt;after_commit :on &#x3D;&amp;gt;
:create&lt;&#x2F;code&gt; hook or move the job creation outside of the
transaction block.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;Not to pick on Sidekiq in particular (you can find similar
answers and implementations all over the web), but this
solution solves one problem only to introduce another.&lt;&#x2F;p&gt;

&lt;p&gt;If you queue a job &lt;em&gt;after&lt;&#x2F;em&gt; a transaction is committed, you
run the risk of your program crashing after the commit, but
before the job makes it to the queue. Data is persisted, but
the background work doesn’t get done. It’s a problem that’s
less common than the one Sidekiq is addressing, but one
that’s far more nefarious; you almost certainly won’t
notice when it happens.&lt;&#x2F;p&gt;

&lt;p&gt;Other common solutions are equally as bad. For example,
another well-worn pattern is to allow the job’s first few
tries to fail, and rely on the queue’s retry scheme to
eventually push the work through at some point after the
transaction has committed. The downsides of this
implementation is that it thrashes needlessly (lots of
wasted work is done) and throws a lot of unnecessary
errors.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#transactions-as-gates&quot;&gt;Transactions as gates&lt;&#x2F;a&gt;

&lt;p&gt;We can dequeue jobs gracefully by using a
&lt;em&gt;transactionally-staged job drain&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;With this pattern, jobs aren’t immediately sent to the job
queue. Instead, they’re staged in a table within the
relational database itself, and the ACID properties of the
running transaction keep them invisible until they’re ready
to be worked. A secondary &lt;strong&gt;&lt;em&gt;enqueuer&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt; process reads the
table and sends any jobs it finds to the job queue before
removing their rows.&lt;&#x2F;p&gt;

&lt;p&gt;Here’s some sample DDL for what a &lt;code&gt;staged_jobs&lt;&#x2F;code&gt; table might
look like:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;CREATE TABLE staged_jobs (
    id       BIGSERIAL PRIMARY KEY,
    job_name TEXT      NOT NULL,
    job_args JSONB     NOT NULL
);
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;And here’s what a simple enqueuer implementation that sends
jobs through to Sidekiq:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;# Only one enqueuer should be running at any given time.
acquire_lock(:enqueuer) do

  loop do
    DB.transaction(isolation: :repeatable_read) do
      # For best efficiency, pull jobs in large batches.
      job_batch &#x3D; StagedJobs.order(&#39;id&#39;).limit(1000)

      if job_batch.count &amp;gt; 0
        # Insert each job into the real queue.
        job_batch.each do |job|
          Sidekiq.enqueue(job.job_name, *job.job_args)
        end

        # And finally, in the same transaction remove the
        # records that made it to the queue.
        StagedJobs.where(&#39;id &amp;lt;&#x3D; ?&#39;, job_batch.last).delete
      end
    end

    # If &#x60;staged_jobs&#x60; was empty, sleep for some time so
    # we&#39;re not continuously hammering the database with
    # no-ops.
    sleep_with_exponential_backoff
  end

end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Transactional isolation means that the enqueuer is unable
to see jobs that aren’t yet commmitted (even if they’ve
been inserted into &lt;code&gt;staged_jobs&lt;&#x2F;code&gt; by an uncommitted
transaction), so jobs are never worked too early.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;job-drain&#x2F;transaction-isolation.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Jobs are invisible to the enqueuer until their transaction is committed.


&lt;p&gt;It’s similarly protected against rollbacks. If a job is
inserted within a transaction that’s subsequently
discarded, the job is discarded with it.&lt;&#x2F;p&gt;

&lt;p&gt;The enqueuer is also totally resistant to job loss. Jobs
are only removed &lt;em&gt;after&lt;&#x2F;em&gt; they’re successfully transmitted
to the queue, so even if the worker dies partway through,
it will pick back up again and send along any jobs that it
missed. &lt;em&gt;At least once&lt;&#x2F;em&gt; delivery semantics are guaranteed.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;job-drain&#x2F;job-drain.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Jobs being sequestered in a staging table and enqueued when they&#39;re ready to be worked.


&lt;a href&#x3D;&quot;#in-database-queues&quot;&gt;Advantages over in-database queues&lt;&#x2F;a&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;collectiveidea&#x2F;delayed_job&quot;&gt;Delayed_job&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;chanks&#x2F;que&quot;&gt;que&lt;&#x2F;a&gt;, and
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;QueueClassic&#x2F;queue_classic&quot;&gt;queue_classic&lt;&#x2F;a&gt; use a similar transactional
mechanic to keep jobs hidden, and take it even a step
further by having workers dequeue jobs directly from within
the database.&lt;&#x2F;p&gt;

&lt;p&gt;This is workable at modest to medium scale, but the frantic
pace at which workers try to lock jobs doesn’t scale very
well for a database that’s experiencing considerable load.
For Postgres in particular, &lt;a href&#x3D;&quot;&#x2F;postgres-queues&quot;&gt;long-running
transactions&lt;&#x2F;a&gt; greatly increase the amount
of time it takes for workers to find a job that they can
lock, and this can lead to the job queue spiraling out of
control.&lt;&#x2F;p&gt;

&lt;p&gt;The transactionally-staged job drain avoids this problem by
selecting primed jobs in bulk and feeding them into another
store like Redis that’s better-suited for distributing jobs
to competing workers.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://brandur.org/job-drain"/>
    <published>2017-09-20T14:58:14.000Z</published>
  </entry>
  <entry>
    <title>Framework Seams | 8th Light Blog</title>
    <content type="html">&lt;p&gt;I recently created an open source plugin for &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jekyllrb.com&#x2F;&quot;&gt;Jekyll&lt;&#x2F;a&gt;, the Ruby static site generator.
&lt;em&gt;Jekyll LilyPond Converter&lt;&#x2F;em&gt; (henceforth JLC; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mikeknep&#x2F;jekyll-lilypond-converter&quot;&gt;source&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;rubygems.org&#x2F;gems&#x2F;jekyll-lilypond-converter&quot;&gt;RubyGems&lt;&#x2F;a&gt;) converts specified code snippets in Markdown blog posts to music images using &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;lilypond.org&#x2F;&quot;&gt;LilyPond&lt;&#x2F;a&gt;.
(A small demo exists on my &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;mikeknep.com&#x2F;2017&#x2F;08&#x2F;19&#x2F;demoing-jlc.html&quot;&gt;personal blog&lt;&#x2F;a&gt;.)
The project was just complex enough to warrant using a pattern I often use on larger projects, as well as bite me with a sneaky, related &amp;quot;gotcha&amp;quot;, both of which are worth reviewing and sharing.
This pattern relates to a concept I call a &amp;quot;seam&amp;quot; that I find myself carefully considering more and more in all the software I write.&lt;&#x2F;p&gt;

&lt;h3&gt;Seams! What are they (good for)?&lt;&#x2F;h3&gt;

&lt;p&gt;First and foremost, this concept is completely separate from Michael Feathers&#39;s idea of seams from &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.informit.com&#x2F;articles&#x2F;article.aspx?p&#x3D;359417&amp;amp;seqNum&#x3D;3&quot;&gt;Working Effectively With Legacy Code&lt;&#x2F;a&gt;.
Instead, I offer this definition:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;Seams are locations in a codebase where ownership transitions from a third-party library to the application developer.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;For example, controllers form the primary seams within a Rails application.
Provided you follow its API and conventions, the framework takes care of accepting HTTP requests, representing them as Ruby objects, and routing them to specified classes and methods.
Once there, Rails hands control over to the application developer, who can execute whatever domain logic they please.
The developer eventually returns some value from that controller method, and upon doing so implicitly passes ownership back to Rails for it to transform the value into an HTTP response and send it back over the wire.&lt;&#x2F;p&gt;

&lt;p&gt;On my past several projects, I&#39;ve worked harder and harder to keep my controller methods as minimal as possible—ideally they know nothing more than which &amp;quot;Handler&amp;quot; and &amp;quot;Presenter&amp;quot; to use:&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;class WidgetsController &amp;lt; ApplicationController
  def index
    result &#x3D; WidgCo::GetWidgetsHandler.new(params).execute
    presenter &#x3D; WidgCo::GetWidgetsPresenter.new(result)
    render json: presenter.json, status: presenter.status
  end

  def create
    result &#x3D; WidgCo::CreateWidgetHandler.new(params).execute
    presenter &#x3D; WidgCo::CreateWidgetPresenter.new(result)
    render json: presenter.json, status: presenter.status
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;The controller methods above are quite stark, featuring abrupt transitions from Rails to my own namespce (&lt;code&gt;WidgCo&lt;&#x2F;code&gt;) that has no external dependencies.
This pattern helps decouple business logic from the framework, which makes the application both easier to test and less prone to updates to the framework introducing bugs.&lt;&#x2F;p&gt;

&lt;p&gt;Switching context to JLC, Jekyll&#39;s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jekyllrb.com&#x2F;docs&#x2F;plugins&#x2F;&quot;&gt;plugin documentation&lt;&#x2F;a&gt; outlines the different classes from which the developer can inherit in order to hook into Jekyll&#39;s build process.
In the case of JLC, I needed to create a custom &lt;code&gt;Converter&lt;&#x2F;code&gt; in order to alter the content of individual posts.
The simplest example available of a custom &lt;code&gt;Converter&lt;&#x2F;code&gt; is one that capitalizes the entire blog post:&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;class ScreamingConverter &amp;lt; Jekyll::Converter

  # given the extension (&#x60;ext&#x60;) of the file Jekyll is building,
  # return a boolean indicating whether the converter should operate on that file
  def matches(ext)
    &#x2F;md|markdown&#x2F;.match?(ext)
  end

  # return the output extension of the file
  def output_ext(ext)
    &amp;quot;.html&amp;quot;
  end

  def convert(content)
    content.upcase
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;The &lt;code&gt;convert&lt;&#x2F;code&gt; method is where the magic happens—Jekyll provides the content of the current file being built as a &lt;code&gt;String&lt;&#x2F;code&gt;, and Ruby&#39;s wonderful standard library is at the developer&#39;s disposal.
But just as I don&#39;t want to couple Widget creation rules to Rails by defining those rules in a controller, I don&#39;t want to couple LilyPond snippet conversion logic to Jekyll by defining it in a converter.
Instead, JLC forms an explicit seam inside &lt;code&gt;convert&lt;&#x2F;code&gt; by &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mikeknep&#x2F;jekyll-lilypond-converter&#x2F;blob&#x2F;26543e9d59250156b70489cb57595a9eb6d9cf53&#x2F;lib&#x2F;jekyll_ext&#x2F;converter.rb#L23-L31&quot;&gt;immediately delegating&lt;&#x2F;a&gt; to a separate class with no direct dependencies on Jekyll.&lt;&#x2F;p&gt;

&lt;h3&gt;The Seam Test &amp;quot;Gotcha&amp;quot;, and Some Alternatives&lt;&#x2F;h3&gt;

&lt;p&gt;I mentioned above that making seams direct and abrupt can simplify testing.
This is because the code added within the framework context does nothing but map from the entrypoint that framework exposes to some custom object, class, or function.
Simply assert that the right thing is called and you&#39;re set.&lt;&#x2F;p&gt;

&lt;p&gt;However, these tests become more difficult as additional dependencies are introduced.
In JLC, the &lt;code&gt;Handler&lt;&#x2F;code&gt; domain object is &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mikeknep&#x2F;jekyll-lilypond-converter&#x2F;blob&#x2F;26543e9d59250156b70489cb57595a9eb6d9cf53&#x2F;lib&#x2F;jekyll_lilypond_converter&#x2F;handler.rb#L3&quot;&gt;constructed&lt;&#x2F;a&gt; with several other dependencies in addition to the content Jekyll provides.
I decided to use some of RSpec&#39;s stubbing functionality in my &lt;code&gt;Converter&lt;&#x2F;code&gt; test (simplified in this post for concision, but you can &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mikeknep&#x2F;jekyll-lilypond-converter&#x2F;blob&#x2F;26543e9d59250156b70489cb57595a9eb6d9cf53&#x2F;spec&#x2F;jekyll_ext&#x2F;converter_spec.rb&quot;&gt;view the source&lt;&#x2F;a&gt;):&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;describe Converter do
  it &amp;quot;delegates to a Handler&amp;quot; do
    content &#x3D; &amp;quot;abc&amp;quot;
    handler_spy &#x3D; HandlerSpy.new

    allow(Handler).to receive(:new).with({
      content: content,
      naming_policy: instance_of(NamingPolicy),
      image_format: &amp;quot;svg&amp;quot;,
      site_manager: SiteManager.instance,
      file_builder: StaticFileBuilder
    }).and_return(handler_spy)

    converter.convert(content)

    expect(handler_spy.execute_was_called).to eq(true)
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;This test ensures that the &lt;code&gt;Converter&lt;&#x2F;code&gt; delegates to the specified class, with the specified dependencies, and calls the specified method.
If for some reason we change that in the &lt;code&gt;Converter&lt;&#x2F;code&gt;, our test will catch the error.
However, we&#39;ve introduced something far more subtle and dangerous: the potential for a false-positive in our test suite.&lt;&#x2F;p&gt;

&lt;p&gt;During the course of development, I realized the &lt;code&gt;Handler&lt;&#x2F;code&gt; required different dependencies.
I was test-driving this code as much as possible, so I started by updating the &lt;code&gt;Handler&lt;&#x2F;code&gt; unit tests to pass different values to &lt;code&gt;Handler#initialize&lt;&#x2F;code&gt;.
These tests of course failed, requiring me to change &lt;code&gt;Handler#initialize&lt;&#x2F;code&gt; and some other private methods.
Once finished, my test suite was passing... but I had introduced a bug!
The &lt;code&gt;Converter&lt;&#x2F;code&gt; was still constructing the &lt;code&gt;Handler&lt;&#x2F;code&gt; with the old set of dependencies.
However, the &lt;code&gt;Converter&lt;&#x2F;code&gt; spec above didn&#39;t fail, because all it does is assert that the &lt;code&gt;Converter&lt;&#x2F;code&gt; instantiates a &lt;code&gt;Handler&lt;&#x2F;code&gt; a certain way (or at least attempts to).
Sure enough, of course, the &lt;code&gt;Converter&lt;&#x2F;code&gt; was still instantiating it that same, but now out-of-date way.
The unit tests for each of the two classes were in sync with their respective production code, but the &lt;em&gt;relationship between&lt;&#x2F;em&gt; those two classes was not tested, and thus I had a green test suite with a runtime exception.&lt;&#x2F;p&gt;

&lt;p&gt;A statically typed language would catch this problem earlier, because the code wouldn&#39;t even compile.
Alas, we are not all so fortunate, and when working in a dynamic language like Ruby this is a trickier situation.
I don&#39;t have a perfect solution, but I have considered a few options.&lt;&#x2F;p&gt;

&lt;h4&gt;The Registry Option&lt;&#x2F;h4&gt;

&lt;p&gt;One idea is to have the &lt;code&gt;Converter&lt;&#x2F;code&gt; access the &lt;code&gt;Handler&lt;&#x2F;code&gt; through a &lt;code&gt;Registry&lt;&#x2F;code&gt;.
The &lt;code&gt;Registry&lt;&#x2F;code&gt; can be a static class that by default returns the regular &lt;code&gt;Handler&lt;&#x2F;code&gt; through a simple lookup, but in the test environment could be configured to return a subclass of &lt;code&gt;Handler&lt;&#x2F;code&gt;.
The subclassing spy overrides &lt;code&gt;#execute&lt;&#x2F;code&gt; to prevent running code we test elsewhere, but inherits the production &lt;code&gt;Handler&lt;&#x2F;code&gt;&#39;s constructor so that they change in lockstep.
Meanwhile, passing through the &lt;code&gt;Registry&lt;&#x2F;code&gt; relieves the test of having to stub the &lt;code&gt;Handler#new&lt;&#x2F;code&gt; call.
The code could look like this (several details elided):&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;class Registry
  def self.register(key, klass)
    registry[key] &#x3D; klass
  end

  def self.for(key)
    registry[key]
  end

  def registry
    @registry ||&#x3D; { lilypond_conversion: Handler }
  end
end


class MyConverter &amp;lt; Jekyll::Converter
  def convert(content)
    handler &#x3D; Registry.for(:lilypond_conversion).new({
      content: content,
      naming_policy: NamingPolicy.new,
      image_format: &amp;quot;svg&amp;quot;,
      site_manager: SiteManager.instance,
      file_builder: StaticFileBuilder
    }).execute
  end
end


class HandlerSpy &amp;lt; Handler
  def execute
    @@execute_was_called &#x3D; true
  end

  def execute_was_called?
    @@execute_was_called
  end
end


describe MyConverter do
  before { Registry.register(:lilypond_conversion, HandlerSpy) }

  it &amp;quot;delegates to a Handler&amp;quot; do
    converter.convert(&amp;quot;abc&amp;quot;)
    expect(Registry.for(:conversion).execute_was_called?).to eq(true)
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;I did not implement this in JLC, for a few reasons.
First, it felt like more boilerplate and indirection than was ultimately necessary or worthwhile given the size of the project.
Second, Jekyll doesn&#39;t expose a particularly useful place to configure the &lt;code&gt;Registry&lt;&#x2F;code&gt; in production,
so &lt;code&gt;Registry.register&lt;&#x2F;code&gt; is production code that exists solely for the tests, which is definitely a smell.
Finally, because the &lt;code&gt;Converter&lt;&#x2F;code&gt; calls &lt;code&gt;#new&lt;&#x2F;code&gt; on the handler class retrieved from the &lt;code&gt;Registry&lt;&#x2F;code&gt;, we can&#39;t use Ruby&#39;s &lt;code&gt;Singleton&lt;&#x2F;code&gt; module (which privatizes &lt;code&gt;#new&lt;&#x2F;code&gt;);
instead we&#39;re forced to use a class variable (&lt;code&gt;@@execute_was_called&lt;&#x2F;code&gt;), and in my experience once you start using class variables you&#39;re just asking for trouble.&lt;&#x2F;p&gt;

&lt;p&gt;Having said all that, in a Rails app, the &lt;code&gt;Registry&lt;&#x2F;code&gt; may make much more sense:
there are more handlers to register, better justifying the &amp;quot;added weight&amp;quot;;
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;guides.rubyonrails.org&#x2F;configuring.html#using-initializer-files&quot;&gt;initializers&lt;&#x2F;a&gt; provide another seam at application start time where production classes can be registered;
and if the &lt;code&gt;Registry&lt;&#x2F;code&gt; were to hold pre-constructed instances (perhaps created in earlier initializers) instead of classes to be instantiated, the awkward and dangerous pseudo-singleton technique could be avoided.&lt;&#x2F;p&gt;

&lt;p&gt;Ultimately, this approach has pros and cons, and, like so many things in software development, needs to be evaluated on a case-by-case basis.&lt;&#x2F;p&gt;

&lt;h4&gt;The KISS Option&lt;&#x2F;h4&gt;

&lt;p&gt;The &lt;code&gt;Registry&lt;&#x2F;code&gt; concept seemed too heavyweight for JLC, so after evaluating it I considered an opposite approach—what if I made &lt;em&gt;fewer&lt;&#x2F;em&gt; classes?
I mentioned above that aggressive seams simplify testing and help decouple business logic from a framework.
However, unlike some libraries I&#39;ve seen in which objects require quite a bit of global state to set up properly, instantiating a &lt;code&gt;Jekyll::Converter&lt;&#x2F;code&gt; in a test is not particularly unwieldy.
Furthermore, it&#39;s pretty unlikely I&#39;ll want to port the core logic of JLC to integrate with other static site generators.
The simplest option, then, is to just lift the &lt;code&gt;Handler&lt;&#x2F;code&gt; tests up into the &lt;code&gt;Converter&lt;&#x2F;code&gt; and test the entire system through that outer third-party shell.&lt;&#x2F;p&gt;

&lt;p&gt;This analysis ultimately suggests I&#39;ve over-engineered the project, which in a vacuum may be true.
However, the tool is primarily for my own personal use and has helped me continue to develop my thoughts and opinions about this concept and approach to integrating with third-party frameworks,
so some over-engineering here does not bother me.
There is definitely a takeaway for client work here, though.
Designing a system to be flexible and easy to change makes several implicit assumptions about what kinds of changes may happen.
A healthy dose of pragmatism must be kept in mind.&lt;&#x2F;p&gt;

&lt;h4&gt;The Impossible-In-Ruby Option&lt;&#x2F;h4&gt;

&lt;p&gt;The last and most interesting approach I considered is a theoretical one inspired by Elm.
In Elm, effectful (i.e. &amp;quot;having side effects&amp;quot;) actions like HTTP requests are represented by value objects describing the &lt;em&gt;intent&lt;&#x2F;em&gt; of what to do,
but the actual &lt;em&gt;execution&lt;&#x2F;em&gt; of those values is handled entirely by the Elm Runtime.
If such a system existed in Ruby, theoretically I would not &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mikeknep&#x2F;jekyll-lilypond-converter&#x2F;blob&#x2F;26543e9d59250156b70489cb57595a9eb6d9cf53&#x2F;lib&#x2F;jekyll_lilypond_converter&#x2F;handler.rb#L39-L41&quot;&gt;shell out&lt;&#x2F;a&gt; to LilyPond directly in the &lt;code&gt;Handler&lt;&#x2F;code&gt;, but instead create and return a value representing that action.
My unit tests could then simply make assertions about that value, and the Fantasy-Elmlike-Ruby Runtime would understand how to interpret that value as a command to execute certain instructions on the filesystem.
If you&#39;re curious about this idea and want to learn more, I highly recommend reading the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;guide.elm-lang.org&#x2F;architecture&#x2F;effects&#x2F;&quot;&gt;official guide&lt;&#x2F;a&gt;, and in particular the section on &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;guide.elm-lang.org&#x2F;&quot;&gt;Effects&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;h3&gt;Liberate Your Code&lt;&#x2F;h3&gt;

&lt;p&gt;Despite the lack of a perfect, one-size-fits-all testing strategy, I find it valuable to be conscious of the seams in a codebase.
Being aware of seams affords freedom to application developers.
Typically, READMEs and other example resources provide the absolute simplest demonstration of how to integrate with a framework without any comment on how that style of integration scales.
It is easy to start learning about a new tool or platform and believe that your code needs to live inside a foreign class of unknown complexity.
Of course there are certain rules to follow, but when a code example includes some trivial stand-in for your domain logic,
I recommend thinking carefully about whether you want your code to stay in that framework-defined location, or if you&#39;d rather treat the seam as the entrypoint to an entirely separate world of your own.
The decision is yours!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://8thlight.com/blog/mike-knepper/2017/09/20/framework-seams.html"/>
    <published>2017-09-20T05:00:00.000Z</published>
  </entry>
  <entry>
    <title>UNUM Updated to Unicode 10, HTML5 | Fourmilog - Fourmilab Change Log</title>
    <content type="html">I have just posted version 2.1 of &lt;a href&#x3D;&quot;&#x2F;webtools&#x2F;unum&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;UNUM&lt;&#x2F;a&gt;.  This update, the first since 2006, updates the database of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Unicode&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Unicode&lt;&#x2F;a&gt; characters to Unicode version 10.0.0 (June 2017) and adds, for the first time, full support for the entire set of Chinese, Japanese, and Korean (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;CJK_Unified_Ideographs&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;CJK&lt;&#x2F;a&gt;) ideographic characters, for a total of 136,755 characters in all.  CJK characters are identified by their nomenclature in commonly used lexicons, and, where specified in the Unicode database, English definitions.

&lt;p&gt;

The table of HTML named character references (the sequences like “&amp;amp;lt;” you use in HTML source code when you need to represent a character which has a syntactic meaning in HTML or which can&#39;t be directly included in a file with the character encoding you&#39;re using to write it) has been updated to the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html5&#x2F;syntax.html#named-character-references&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;list published&lt;&#x2F;a&gt; by the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;World Wide Web Consortium&lt;&#x2F;a&gt; (W3C) for &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;HTML5&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;HTML5&lt;&#x2F;a&gt;.

&lt;&#x2F;p&gt;&lt;p&gt;

It used to be that HTML named character references were a convenient text-based shorthand so that, for example, if your keyboard or content management system didn&#39;t have a direct way to specify the Unicode character for a right single quote, you could write “&amp;amp;rsquo;” instead of “&amp;amp;#8217;”, the numeric code for the character.  This was handy, made the HTML easier to understand, and made perfect sense and so, of course, it had to be “improved”.  Now, you can specify the same character as either “&amp;amp;rsquo;”, “&amp;amp;CloseCurlyQuote;”, or “&amp;amp;rsquor;” as well.  “Close Curly Quote”—are there also Larry and Moe quotes?  Now, apparently to accommodate dim people who can&#39;t remember or be bothered to look up the standard character references which have been in use for more than a decade (and how many of them are writing HTML, anyway?), we have lost the ability to provide a unique HTML character reference for Unicode code points which have them.  In other words, the mapping from code points to named character references has gone from one-to-one to one-to-many.

&lt;&#x2F;p&gt;&lt;p&gt;

Further, named character references have been extended from a symbolic nomenclature for Unicode code points to specify logical character definitions which are composed of multiple (all the current ones specify only two) code points which are combined to generate the character.  For example, the character reference “&amp;amp;nGtv;”, which stands for the mathematical symbol “not much greater than”, is actually composed of code points U+226B (MUCH GREATER-THAN) and U+0338 (COMBINING LONG SOLIDUS OVERLAY).

&lt;&#x2F;p&gt;&lt;p&gt;

Previously, UNUM could assume a one-to-one mapping between HTML character references and Unicode code points, but thanks to these innovations this is no longer the case.  Now, when a character is displayed, if it has more than one HTML name, they are all displayed in the HTML column, separated by commas.  If the user looks up a composite character reference, all of the Unicode code points which make it up are displayed, one per line, in the order specified in the W3C specification.

&lt;&#x2F;p&gt;&lt;p&gt;

The addition of the CJK characters makes the code point definition table, which was already large, simply colossal.  The Perl code for UNUM including this table is now almost eight megabytes.  To cope with this, there is now a compressed version of UNUM in which the table is compressed with the &lt;b&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Bzip2&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;bzip2&lt;&#x2F;a&gt;&lt;&#x2F;b&gt; utility, which reduces the size of the program to less than a megabyte.  This requires a modern version of Perl and a Unix-like system on which &lt;b&gt;bzip2&lt;&#x2F;b&gt; is installed.  Users who lack these prerequisites may download an uncompressed version of UNUM, which will work in almost any environment which can run Perl.

&lt;&#x2F;p&gt;&lt;p&gt;

&lt;b&gt;&lt;a href&#x3D;&quot;&#x2F;webtools&#x2F;unum&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;UNUM Documentation and Download Page&lt;&#x2F;a&gt;&lt;&#x2F;b&gt;

&lt;&#x2F;p&gt;&lt;p&gt;

&lt;b&gt;Update:&lt;&#x2F;b&gt; Version 2.2 improves compatibility of the compressed version of the utility by automatically falling back to Perl&#39;s core IO::Uncompress::Bunzip2 module if the host system does not have &lt;b&gt;bunzip2&lt;&#x2F;b&gt; installed.  (2017-09-19 18:47 UTC)&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-09/001711.html"/>
    <published>2017-09-19T18:49:06.000Z</published>
  </entry>
  <entry>
    <title>Myths about Unit Tests | 8th Light Blog</title>
    <content type="html">&lt;p&gt;Most modern languages that we use today provide tools and documentation for unit
tests, which make it simpler to test our code. If unit testing is possible with
any language, we can witness the simplicity to unit test languages like Rust,
Elixir, or Ruby as compared to C, C++, or Assembly.&lt;&#x2F;p&gt;

&lt;p&gt;During my apprenticeship at 8th Light, all my code had unit tests. This has
allowed me to increase my experience with unit tests and improve my knowledge
surrounding them. I can say that I understand how they are beneficial, and where
those benefits run into a limit. In this article, I want to quash three myths
about unit tests that I once believed.&lt;&#x2F;p&gt;

Myth 1: Tests &#x3D;&#x3D; Quality

&lt;p&gt;I used to believe that one of the benefits of unit tests was to improve the
quality of the software. Although it is true that they encourage us to
modularise our code and document it, unit tests do not check the quality of our
code.&lt;&#x2F;p&gt;

&lt;p&gt;Unit tests cannot guarantee that our code is of high quality even with software
that has 100% test coverage. Our tests do not check the consistency of our code.
For example, they won&#39;t check if we have followed a guideline or left extra spaces.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;  class MathHelper
    def calculFactorial(x)
      return 1 if x &#x3D;&#x3D; 0
        
        x*self.calculFactorial(x - 1)

    end
  end

    RSpec.describe do
      it &amp;quot;test&amp;quot; do
        expect(MathHelper.new().calculFactorial(3)).to eq(6)
    end
    end&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;pre&gt;&lt;code&gt;  class Factorial
    def self.for(number)
      return 1 if number &#x3D;&#x3D; 0

      number * self.for(number - 1)
    end
  end

  RSpec.describe do
    it &amp;quot;returns 6 when factorial of 3&amp;quot; do
      expect(Factorial.for(3)).to eq(6)
    end
  end&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;In both of the above code samples the test will be green, indicating that both
code samples are correct, but we will not have any feedback telling us which
one is better.&lt;&#x2F;p&gt;

&lt;p&gt;If our tests do not check our adherence to the style of our code, it also cannot
check the following:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;If your colleague can understand your code.&lt;&#x2F;li&gt;
&lt;li&gt;If you have coded with intention.&lt;&#x2F;li&gt;
&lt;li&gt;If you have used appropriate names.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Of course, these factors remain important for the quality of our software even if
they cannot be checked by unit tests. Our tests and code reviews actively work
together to ensure we produce software of high quality. Without these two
important elements working together, we increase the risk of technical debt in
our software.&lt;&#x2F;p&gt;

2: Tested Software Is Bug-Free

&lt;p&gt;Every programmer is different, but we all want software without incorrect or
unexpected results. It doesn&#39;t matter if the effect of the bug slows down or
crashes our software, they are never welcome. One way to check the correctness
of our software is to write unit tests. The role of our unit tests will be to
validate the expectations of the methods.&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;Program testing can be a very effective way to show the presence of bugs, but it
is hopelessly inadequate for showing their absence.&lt;&#x2F;p&gt;

&lt;p&gt;Edsger W. Dijkstra, &amp;quot;The Humble Programmer&amp;quot; (1972)&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;This led me to believe that my unit tests were helping me to build bug-free
software. But, these unit tests could be replaced by manual tests and they
would catch the same amount of bugs.&lt;&#x2F;p&gt;

&lt;p&gt;What unit tests provide over manual testing is speed and thus, this saves us
time. This speed will give you the opportunity to run your test whenever you
modify your software, without wasting time and ensure to not create regression.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

3: Tests Are Optional

&lt;p&gt;We could believe that implementation and testing are two different tasks. After
all, unit tests do not make a new feature work, no matter how beneficial they are.
This made me feel that the unit tests were the cherry on the cake, not something
integral to the taste.&lt;&#x2F;p&gt;

&lt;p&gt;If the implementation is needed to make the feature work, then its tests will be
responsible for the correctness of the application, which is expected from a
software. The unit tests have the same advantages and flaws as any code; they
are fast-executing, repetitive tasks, but they can be difficult to maintain. We
risk not putting as much effort into the tests and the implementation of a
feature if we consider our unit tests as an optional extra. Underestimating the importance of quality tests over your production code will create a quality gap in both, where the cost of maintaining your tests will overtake its benefits. Quality tests should enable you to work faster, while also serving as good documentation for others to understand.&lt;&#x2F;p&gt;

&lt;p&gt;The test is part of feature, therefore should be considered upfront during the
estimation of any new tasks.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://8thlight.com/blog/fabien-townsend/2017/09/19/myths-about-unit-tests.html"/>
    <published>2017-09-19T05:00:00.000Z</published>
  </entry>
  <entry>
    <title>DRM will unravel the Web | DustyCloud</title>
    <content type="html">&lt;p&gt;I&#39;m a web standards author and I participate in the W3C.
I am co-editor of the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;activitypub&#x2F;&quot;&gt;ActivityPub&lt;&#x2F;a&gt;
protocol, participate in a few other community groups and working
groups, and I consider it an honor to have been able to participate in
the W3C process.
What I am going to write here though represents me and my feelings
alone.
In a sense though, that makes this even more painful.
This is a blogpost I don&#39;t have time to write, but here I am writing it;
I am emotionally forced to push forward on this topic.
The W3C has
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.networkworld.com&#x2F;article&#x2F;3225456&#x2F;internet&#x2F;w3c-drm-appeal-fails-votes-kept-secret.html&quot;&gt;allowed DRM to move forward on the web&lt;&#x2F;a&gt;
through the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;encrypted-media&#x2F;&quot;&gt;EME specification&lt;&#x2F;a&gt;
(which is,
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;dustycloud.org&#x2F;blog&#x2F;memories-of-a-march-against-drm&#x2F;&quot;&gt;to paraphrase Danny O&#39;Brien from the EFF&lt;&#x2F;a&gt;,
a &amp;quot;DRM shaped hole where nothing else but DRM fits&amp;quot;).
This threatens to unravel the web as we know it.
How could this happen?  How did we get here?&lt;&#x2F;p&gt;
&lt;p&gt;Like many of my generation, I grew up on the web, both as a citizen of
this world and as a developer.
&amp;quot;Web development&amp;quot;, in one way or another, has principally been my work
for my adult life, and how I have learned to be a programmer.
The web is an enormous, astounding effort of many, many participants.
Of course, Tim Berners-Lee is credited for much of it, and deserves much
of this credit.
I&#39;ve had the pleasure of meeting Tim on a couple of occasions;
when you meet Tim it&#39;s clear how deeply he cares about the web.
Tim speaks quickly, as though he can&#39;t wait to get out the ideas that
are so important to him, to try to help you understand how wonderful
and exciting this system it is that we can build together.
Then, as soon as he&#39;s done talking, he returns to his computer and gets
to hacking on whatever software he&#39;s building to advance the web.
You don&#39;t see this dedication to &amp;quot;keep your hands dirty&amp;quot; in the gears
of the system very often, and it&#39;s a trait I admire.
So it&#39;s very hard to reconcile that vision of Tim with someone who
would intentionally unravel their own work... yet by allowing the
W3C to approve DRM&#x2F;EME, I believe that&#39;s what has happened.&lt;&#x2F;p&gt;
&lt;p&gt;I had an opportunity to tell Tim what I think about DRM and EME on the
web, and unfortunately I blew it.
At TPAC (W3C&#39;s big conference&#x2F;gathering of the standards minds) last
year, there was a protest against DRM outside.
I was too busy to take part, but I did talk to a friend who is close
to Tim and was frustrated about the protests happening outside.
After I expressed that I sympathized with the protestors (and that
I had even indeed
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;dustycloud.org&#x2F;blog&#x2F;memories-of-a-march-against-drm&#x2F;&quot;&gt;protested myself in Boston&lt;&#x2F;a&gt;),
I explained my position to my friend.
Apparently I was convincing enough where they encouraged me to talk to
Tim and offer my perspective; they offered to flag them down for a
chat.
In fact Tim and I did speak over lunch, but -- although we had met
in person before -- it was my first time talking to Tim one-on-one, and
I was embarassed for that first interaction would me to be talking about
DRM and what I was afraid was a sore subject for him.
Instead we had a very pleasant conversation about the work I was doing
on ActivityPub and some related friends&#39; work on other standards (such
as Linked Data Notifications, etc).
It was a good conversation, but when it was over I had an enormous
feeling of regret that has been on the back of my mind since.&lt;&#x2F;p&gt;
&lt;p&gt;Here then, is what I wish I had said.&lt;&#x2F;p&gt;
&lt;p&gt;Tim, I have
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;blog&#x2F;2017&#x2F;02&#x2F;on-eme-in-html5&#x2F;&quot;&gt;read your article on why the W3C is supporting EME&lt;&#x2F;a&gt;,
and that I know you have thought about it a great deal.
I think you believe what you are doing what is right for the web,
but I believe you are making an enormous miscalculation.
You have fought long and hard to build the web into the system it
is... unfortunately, I think DRM threatens to undo all that work
so thoroughly that allowing the W3C to effectively green-light
DRM for the web will be, looking back on your life, your greatest
regret.&lt;&#x2F;p&gt;
&lt;p&gt;You and I both know the dangers of DRM: it creates content that is
illegal to operate on using any of the tooling you or I will ever be
able to write.
The power of DRM is not in its technology but in the surrounding laws;
in the United States through the DMCA it is a criminal offense to
inspect how DRM systems work or to talk about these vulnerabilities.
DRM is also something that clearly cannot itself be implemented as a
standard; it relies on proprietary secrecy in order to be able to
function.
Instead, EME defines a DRM-shaped hole, but we all know what goes into
that hole... unfortunately, there&#39;s no way for you or I to build an
open and interoperable system that can fit in that EME hole, because
DRM is antithetical to an interoperable, open web.&lt;&#x2F;p&gt;
&lt;p&gt;I think, from reading your article, that you believe that DRM will be
safely contained to just &amp;quot;premium movies&amp;quot;, and so on.
Perhaps if this were true, DRM would still be serious but not as
enormous of a threat as I believe it is.
In fact, we already know that
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.wired.com&#x2F;2015&#x2F;04&#x2F;dmca-ownership-john-deere&#x2F;&quot;&gt;DRM is being used by companies like John Deere&lt;&#x2F;a&gt;
to say that you don&#39;t even own your own tractor, car, etc.
If DRM can apply to tractors, surely it will apply to more than just
movies.&lt;&#x2F;p&gt;
&lt;p&gt;Indeed, there&#39;s good reason to believe that some companies will want
to apply DRM to every layer of the web.
Since the web has become a full-on &amp;quot;application delivery system&amp;quot;, of
course the same companies that apply DRM to software will want to
apply DRM to their web software.
The web has traditionally been a book which encourages being opened;
I learned much of how to program on the web through that venerable
&amp;quot;view source&amp;quot; right-click menu item of web browsers.
However I fully expect with EME that we will see application authors
begin to lock down HTML, CSS, Javascript, and every other bit of their
web applications down with DRM.
(I suppose in a sense this is already happening with javascript
obfuscation and etc, but the web itself was at least a system of open
standards where anyone could build an implementation and anyone could
copy around files... with EME, this is no longer the case.)
Look at the prevelance of DRM in proprietary applications
elsewhere... once the option of a W3C-endorsed DRM-route exists,
do you think these same application developers will not reach for it?
But I think if you develop the web with the vision of it being
humanity&#39;s greatest and most empowering knowledge system, you must
be against this, because if enough of the web moves over to this model
the assumptions and properties of the web as we&#39;ve known it, as an
open graph to free the world, cannot be upheld.
I also know the true direction you&#39;d like the web to go, one of
linked data systems (of which ActivityPub is somewhat quietly one).
Do you think such a world will be possible to build with DRM?
I for one do not see how it is possible, but I&#39;m afraid that&#39;s the
path down which we are headed.&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;m sure you&#39;ve thought of these things too, so what could be your
reason for deciding to go ahead with supporting DRM anyway?
My suspicion is it&#39;s two things contributing to this:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Fear that the big players will pick up their ball and leave.
I suspect there&#39;s fear of another WHATWG, that the big players
will simply pick up their ball and leave.&lt;&#x2F;li&gt;
&lt;li&gt;Most especially, and related to the above, I suspect the funding
and membership structure of the W3C is having a large impact on
this.
Funding structures tend to have a large impact on decision making,
as a kind of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Conway%27s_law&quot;&gt;Conway&#39;s Law&lt;&#x2F;a&gt;
effect.
W3C is reliant on its &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;manu.sporny.org&#x2F;2016&#x2F;rebalancing&#x2F;&quot;&gt;&amp;quot;thin gruel&amp;quot;&lt;&#x2F;a&gt;
of funding from member organizations (which means that large
players tend to have a larger say in how the web is built today).&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;I suspect this is most of all what&#39;s driving the support for DRM
within the W3C.
However, I know a few W3C staff members who are clearly not excited
about DRM, and two who have quit the organization over it, so it&#39;s not
that EME is internally a technology that brings excitement to the
organziation.&lt;&#x2F;p&gt;
&lt;p&gt;I suppose at this point, this is where I diverge with the things I
could have said in the past and did not say as an appeal to not
allow the W3C to endorse EME.
Unfortunately, today
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arstechnica.com&#x2F;gadgets&#x2F;2017&#x2F;09&#x2F;drm-for-html5-published-as-a-w3c-recommendation-after-58-4-approval&#x2F;&quot;&gt;EME made it to Recommendation&lt;&#x2F;a&gt;.
At the very least, I think the W3C could have gone forward with the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.eff.org&#x2F;pages&#x2F;objection-rechartering-w3c-eme-group#covenant&quot;&gt;Contributor Covenant proposed by the EFF&lt;&#x2F;a&gt;,
but did not.
This is an enormous disappointment.&lt;&#x2F;p&gt;
&lt;p&gt;What do we do now?
I think the best we can do at this point, as individual developers and
users, is speak out against DRM and refuse to participate in it.&lt;&#x2F;p&gt;
&lt;p&gt;And Tim, if you&#39;re listening, perhaps there&#39;s no chance now to stop
EME from becoming a Recommendation.
But your voice can still carry weight.
I encourage you to join in speaking out against the threat DRM brings
to unravel the web.&lt;&#x2F;p&gt;
&lt;p&gt;Perhaps if we speak loud enough, and push hard enough, we can still
save the web we love.
But today is a sad say, and from here I&#39;m afraid it is going to be
an uphill battle.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;EDIT:&lt;&#x2F;strong&gt; If you haven&#39;t yet read Cory Doctorow &#x2F; the EFF&#39;s
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.eff.org&#x2F;deeplinks&#x2F;2017&#x2F;09&#x2F;open-letter-w3c-director-ceo-team-and-membership&quot;&gt;open letter to the W3C&lt;&#x2F;a&gt;, you should.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://dustycloud.org/blog/drm-will-unravel-the-web/"/>
    <published>2017-09-18T19:30:00.000Z</published>
  </entry>
  <entry>
    <title>The Super-Aggregators and the Russians | Stratechery</title>
    <content type="html">&lt;p&gt;In August 2011, just a day or two into my career at Microsoft, I sat in on a monthly review meeting for Hotmail (now known as Outlook.com); the product manager running the meeting was going through the various geographies and their relevant metrics — new users, churn, revenue, etc. — and it was, well, pretty boring. It was only later that I realized just how astounding “boring” was; a small group of people in a conference room going over numbers that represented hundreds of millions of people and dollars in revenue, and most of us cared far more about what was on the menu for lunch.&lt;&#x2F;p&gt;
&lt;p&gt;I’ve &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;benthompson&#x2F;status&#x2F;854381355026702336&quot;&gt;reflected on that meeting often&lt;&#x2F;a&gt; over the years, particularly when it comes to Facebook and controversies like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;facebook-versus-the-media&#x2F;&quot;&gt;censoring too much&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;facebook-content-guidelines-facebook-video-amazon-prime-video-on-apple-tv&#x2F;&quot;&gt;censoring too little&lt;&#x2F;a&gt;, or &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;fake-news&#x2F;&quot;&gt;“fake news”&lt;&#x2F;a&gt;, and I was reminded of it again with &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;markwarner&#x2F;status&#x2F;908431496737935361&quot;&gt;this tweet&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;div&gt;
&lt;blockquote&gt;
&lt;p&gt;And they paid in RUBLES. Seriously. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;D35tvhUEcj&quot;&gt;https:&#x2F;&#x2F;t.co&#x2F;D35tvhUEcj&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;— Mark Warner (@MarkWarner) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;MarkWarner&#x2F;status&#x2F;908431496737935361&quot;&gt;September 14, 2017&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt; &lt;&#x2F;p&gt;&lt;&#x2F;div&gt;
&lt;p&gt;Mark Warner, the senior Senator from Virginia, is referring to a Russian company, thought to be linked to the Kremlin’s propaganda efforts, having bought $100,000 worth of political ads on Facebook, some number of which directly mentioned 2016 presidential candidates Donald Trump and Hillary Clinton. Facebook has &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;newsroom.fb.com&#x2F;news&#x2F;2017&#x2F;09&#x2F;information-operations-update&#x2F;&quot;&gt;released limited details about the ads&lt;&#x2F;a&gt;, likely due to its &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.ftc.gov&#x2F;sites&#x2F;default&#x2F;files&#x2F;documents&#x2F;cases&#x2F;2012&#x2F;08&#x2F;120810facebookdo.pdf&quot;&gt;2012 consent decree with the FTC&lt;&#x2F;a&gt;, which bars the company from unilaterally making private information public, as well as the problematic precedent of releasing information without a clear order compelling said release. To that end, it was reported over the weekend that special counsel Robert Mueller received &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.wsj.com&#x2F;articles&#x2F;facebook-gave-special-counsel-robert-mueller-more-details-on-russian-ad-buys-than-congress-1505514552?mg&#x3D;prod&#x2F;accounts-wsj&quot;&gt;a much more comprehensive set of data&lt;&#x2F;a&gt; from Facebook &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;money.cnn.com&#x2F;2017&#x2F;09&#x2F;15&#x2F;media&#x2F;facebook-mueller-ads&#x2F;index.html&quot;&gt;after obtaining a search warrant&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Even with all that context, though, I found Senator Warner’s tweet puzzling: how else would the propaganda group have paid? Facebook’s self-service ad portal lets you buy ads in 55 different currencies, including the Russian Ruble:&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-super-aggregators-and-the-russians&#x2F;#footnote_0_2742&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;09&#x2F;Screen-Shot-2017-09-18-at-5.09.22-PM-1.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;That, though, brought me back to that Hotmail meeting: that I, and probably many more in the tech industry, find the idea of Facebook selling ads in rubles to strangers to be utterly unremarkable, even as thousands find it equally outrageous and damning, is a reminder of just how unprecedented and misunderstood aggregators like Facebook continue to be, and what a challenge it will be to regulate them.&lt;&#x2F;p&gt;
&lt;h4&gt;The Cellular Network Company&lt;&#x2F;h4&gt;
&lt;p&gt;Senator Warner, it should be noted, is considered one of the most technologically literate people in the entire Senate — and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_current_members_of_the_United_States_Congress_by_wealth&quot;&gt;the richest&lt;&#x2F;a&gt;. Warner originally made his fortune by &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.theatlantic.com&#x2F;magazine&#x2F;archive&#x2F;2006&#x2F;05&#x2F;the-man-with-the-golden-phone&#x2F;304777&#x2F;&quot;&gt;facilitating the sale of cellular phone licenses&lt;&#x2F;a&gt;; he then co-founded &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.crunchbase.com&#x2F;organization&#x2F;columbia-capital&quot;&gt;Columbia Capital&lt;&#x2F;a&gt;, a venture capital firm which specialized in cellular businesses: the firm’s early investments included Nextel, BroadSoft, and MetroPCS.&lt;&#x2F;p&gt;
&lt;p&gt;A cellular network company is certainly a new kind of business that is similar to today’s tech giants in many respects:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;At a fundamental level, cellular network companies are about the movement of information — voice and text, in Warner’s era — not physical goods. Moreover, because this information is digital, there are no marginal distribution costs in its transfer. This is the same characteristic of companies like Google and Facebook.&lt;&#x2F;li&gt;
&lt;li&gt;A cellular network company has massive fixed costs and minimal marginal costs; one more minute of talk time costs practically nothing to provide, unless the network is saturated, at which point significant capital investment is necessary. Today’s internet services are similar: marginal usage is effectively free, although significant capital investments in data centers are necessary (as well as significant ongoing bandwidth costs, which are effectively zero to serve any one individual but huge in aggregate).&lt;&#x2F;li&gt;
&lt;li&gt;A cellular network company is, quite obviously, a network. That means the value of the service increases as the number of customers increases. This produces a powerful virtuous cycle in which new customers increase the value of the network such that it becomes attractive to new marginal customers, further increasing the value of the network for the next set of marginal customers; this “network effect” is the most common driver of the sort of “scalable advantage in customer acquisition costs” that I discussed &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;ubers-new-ceo&#x2F;&quot;&gt;in the case of Uber&lt;&#x2F;a&gt;, and is a hallmark of Facebook in particular (but also Google and all of the aggregators).&lt;&#x2F;li&gt;
&lt;li&gt;Cellular network companies have direct relationships with their customers.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;These four characteristics may seem familiar: they are all parts of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;aggregation-theory&#x2F;&quot;&gt;Aggregation Theory&lt;&#x2F;a&gt;, and I’ve written about each of those components in the two years since I first wrote about the theory.&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-super-aggregators-and-the-russians&#x2F;#footnote_1_2742&quot;&gt;2&lt;&#x2F;a&gt; There is one more piece, though, that I have only mentioned in passing: zero transaction costs. This is the piece that apparently sets Facebook beyond Senator Warner’s understanding,&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-super-aggregators-and-the-russians&#x2F;#footnote_2_2742&quot;&gt;3&lt;&#x2F;a&gt; and it is perhaps the key reason why Facebook and other aggregators are unlike any other company we have seen before; oh, and it explains this Russian ad buy.&lt;&#x2F;p&gt;
&lt;h4&gt;Transaction Costs&lt;&#x2F;h4&gt;
&lt;p&gt;Go back to the generic cellular network company I discussed above, and think about what is entailed in adding a new customer (and leaving aside the marketing expenditure to make them aware of and desirous of the service in the first place):&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Talk with the customer on the phone or in person&lt;&#x2F;li&gt;
&lt;li&gt;Collect identifying details and run a credit check&lt;&#x2F;li&gt;
&lt;li&gt;Provision a SIM card and&#x2F;or a phone&lt;&#x2F;li&gt;
&lt;li&gt;Receive payment&lt;&#x2F;li&gt;
&lt;li&gt;Manage contract renewals and cancellations and other customer service&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;While some of these activities could be automated, the reality is that the cost of customer management had a linear curve: more customers meant more costs. Moreover, these costs accumulated, limiting the natural size of any company; at some point the complexity of managing some finite number of customers across some finite number of geographic areas cost more than the marginal profit of adding one more customer, and that limited how big a company could grow (which, to be clear, could be very large indeed!).&lt;&#x2F;p&gt;
&lt;p&gt;What makes aggregators unique, though, is that thanks to the Internet they have zero transaction costs: for Google, or Airbnb, or Uber, or Netflix, or Amazon, or the online travel agents, adding one more customer is as simple as adding one more row in a database. Everything else is automated, from sign-up to billing to the delivery of the service in question. This is why all of these companies are global, often from day one, and, as I explained in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;beyond-disruption&#x2F;&quot;&gt;Beyond Disruption&lt;&#x2F;a&gt;, why they start at the high end of a market and work their way down.&lt;&#x2F;p&gt;
&lt;p&gt;Note that aggregators can deal with the physical world and still have zero transaction costs, at least on the consumer side: Airbnb deals with rooms, but bears no transaction costs when it comes to signing up new customers; Amazon and Uber are similar with regards to e-commerce and transportation, respectively. Netflix doesn’t deal in physical goods (beyond its old DVD business), although it does bear significant transaction costs when it comes to sourcing content (in addition to actually paying for the content), but when it comes to customers there are no marginal costs at all.&lt;&#x2F;p&gt;
&lt;p&gt;Facebook and Google, though are a special case: they are (and yes, I know this is the least imaginative term ever) super-aggregators.&lt;&#x2F;p&gt;
&lt;h4&gt;Super-Aggregators&lt;&#x2F;h4&gt;
&lt;p&gt;What makes Facebook and Google unique is that not only do they have zero transaction costs when it comes to serving end users, they also have zero transaction costs when it comes to both suppliers and advertisers.&lt;&#x2F;p&gt;
&lt;p&gt;Start with supply: not only is the vast majority of online content accessible to Google’s search engine (unsurprisingly, the biggest exception is Facebook), but in fact that content &lt;em&gt;wants&lt;&#x2F;em&gt; to be discovered by Google. Nearly every site on the web has a sitemap that is intended not for humans but for web crawlers, Google’s in particularly, and there is an entire industry dedicated to search engine optimization (SEO). Netflix is on the opposite side of the spectrum here (unlike YouTube, it should be noted): the company has to actively source content and pay for it. Uber and Airbnb and Amazon are in the middle: theoretically there is an open platform for suppliers but there are costs involved in bringing them online.&lt;&#x2F;p&gt;
&lt;p&gt;Facebook takes this to another level: its users are its most important content providers, and they do it for free. Professional content providers aren’t far behind, not only linking to all of their content but increasingly putting said content on Facebook directly (to the extent Facebook is paying for content it is to juice this cycle of self-interested content production on Facebook).&lt;&#x2F;p&gt;
&lt;p&gt;That said, there are a few more companies that have a similar content model: Twitter, Snapchat, LinkedIn, Yelp, etc. All run on user-generated content augmented by professional content placing links or original material on their services. However, there is still one more thing that separates Facebook and Google from the rest: advertisers.&lt;&#x2F;p&gt;
&lt;p&gt;Super-aggregators not only have zero transaction costs when it comes to users and content, but also when it comes to making money. This is at the very core of why Google and Facebook are so much more powerful than any of the other purely information-centric networks. The vast majority of advertisers on both networks never deal with a human (and if they do, it’s in customer support functionality, not sales and account management): they simply use the self-serve ad products like the one pictured above (or a more comprehensive tool built on the companies’ self-serve API).&lt;&#x2F;p&gt;
&lt;p&gt;This is the level that the other social networks have not reached: Twitter grew revenue, but primarily through its sales team, which meant that &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;googles-earnings-the-problem-with-alphabet-twitter-earnings-layoffs-vine&#x2F;&quot;&gt;costs increased inline with revenue&lt;&#x2F;a&gt;; the company never gained the leverage that comes from having a self-serve ad platform (specifically, the self-serve platform costs are fixed but the revenue is marginal).&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;googles-earnings-the-problem-with-alphabet-twitter-earnings-layoffs-vine&#x2F;&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Snap is following in Twitter’s footsteps: to date the vast majority of the company’s revenue has come from its sales team; the company has a perfunctory API for self-serve ads, but most of the volume springs from the aforementioned deals made by its sales team. Similar stories can be told about &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;the-reality-of-missing-out&#x2F;&quot;&gt;LinkedIn, Yelp, and other advertising-based businesses&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;This, then, is a super-aggregator: zero transaction costs not just in terms of user acquisition, but also supply acquisition, and most importantly, revenue acquisition, and Google and Facebook are the ultimate examples.&lt;&#x2F;p&gt;
&lt;h4&gt;Facebook and the Russians&lt;&#x2F;h4&gt;
&lt;p&gt;This is why I was confused that Senator Warner made a big deal out of the fact Facebook was paid in Russian Rubles: the entire premise of the company’s revenue model is that anyone can run an ad without having to talk to another human, and obviously a key component of such a model is supporting multiple currencies.&lt;&#x2F;p&gt;
&lt;p&gt;Again, though, this is the first such model in economic history: it seems I am the one who was blinded by my having experienced the meaning of scale. In that Hotmail meeting everyone and everything was reduced to a number on a spreadsheet: the United States, Japan, Brazil, Russia, all were simply another row. So I naturally assume it is in the case of Facebook ads: that some advertisers buy in dollars, some in Yen, some in Real, others in Rubles is unremarkable to me, and, I suspect, many of the folks working at these companies.&lt;&#x2F;p&gt;
&lt;p&gt;And yet, it is not at all unrealistic that this be very remarkable to everyone else, even someone with the technical and business background of Senator Warner. It would immediately be eyebrow-raising should any of the companies he managed or was invested in suddenly started transacting in Russian Rubles! For a super-aggregator, though, it is not only unremarkable, it is the system working as designed.&lt;&#x2F;p&gt;
&lt;p&gt;This applies to the content of those ads, too: last week, when &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.propublica.org&#x2F;article&#x2F;facebook-enabled-advertisers-to-reach-jew-haters&quot;&gt;ProPublica reported that Facebook enabled anti-Semitic targeting&lt;&#x2F;a&gt;, I told a friend that a similar story would come out about Google within a week; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.buzzfeed.com&#x2F;alexkantrowitz&#x2F;google-allowed-advertisers-to-target-jewish-parasite-black&quot;&gt;it only took one day&lt;&#x2F;a&gt;. When you makes something &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2013&#x2F;friction&#x2F;&quot;&gt;frictionless&lt;&#x2F;a&gt; — which is another way of describing zero transaction costs — it becomes easier to do &lt;em&gt;everything&lt;&#x2F;em&gt;, both good and evil.&lt;&#x2F;p&gt;
&lt;h4&gt;Regulating the Super-Aggregators&lt;&#x2F;h4&gt;
&lt;p&gt;This should probably be another article — indeed, it’s an article I’ve been working towards for a long time now — but this appreciation of what Super-Aggreagators are, and how it is a Russian propaganda outfit could buy Facebook ads that likely &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.law.cornell.edu&#x2F;uscode&#x2F;text&#x2F;52&#x2F;30121&quot;&gt;broke the law&lt;&#x2F;a&gt;, gives insight into a number of principles that should guide people like Senator Warner as they consider potential regulation:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Don’t Force the Super-Aggregators to Make Editorial Decisions:&lt;&#x2F;strong&gt; It has been distressing to see how quickly some folks have resorted to insisting that Google and Facebook start having a point-of-view on content on their platforms. The problem is not that they might be effective, but rather that it is inevitable that they will be. I wrote in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;manifestos-and-monopolies&#x2F;&quot;&gt;Manifestos and Monopolies&lt;&#x2F;a&gt;:&lt;br &#x2F;&gt;
&lt;blockquote&gt;&lt;p&gt;
  My deep-rooted suspicion of Zuckerberg’s manifesto has nothing to do with Facebook or Zuckerberg; I suspect that we agree on more political goals than not. Rather, my discomfort arises from my strong belief that centralized power is both inefficient and dangerous: no one person, or company, can figure out optimal solutions for everyone on their own, and history is riddled with examples of central planners ostensibly acting with the best of intentions — at least in their own minds — resulting in the most horrific of consequences; those consequences sometimes take the form of overt costs, both economic and humanitarian, and sometimes those costs are foregone opportunities and innovations. Usually it’s both.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;The best solution in my estimation is enforced neutrality; to the extent limitations are put in place they should be enforced by another entity with far more accountability to the people than either of these Super-Aggregators. That probably means the government (with the obvious caveat that authoritarian governments would certainly prefer to use Facebook for their own ends).&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Focus on Transparency:&lt;&#x2F;strong&gt; The personalization afforded by Super-Aggregators means their advertising is simply not comparable to anything that has come before: television commercials, radio jingles, newspaper ads, all are publicly disseminated and thus can be tracked (the one possible exception is direct mail, which, unsurprisingly, has been the home of the foulest sort of political advertising in particular). Digital ads, on the other hand, can be shown to a designated audience without anyone else knowing. It is worth debating whether this level of secrecy should be allowed in general; it seems without question, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;amazons-second-headquarters-amazons-internal-primitives-facebook-and-political-ads&#x2F;&quot;&gt;in my mind&lt;&#x2F;a&gt;, that it should not be allowed for political ads. Of course, that begs the question of what is a political ad, which again points towards regulation (which, per point one, is preferable to the unaccountable Google and Facebook deciding).&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Remember the Benefits of Zero Transaction Costs:&lt;&#x2F;strong&gt; The biggest beneficiaries of zero transaction costs on the super-aggregators are not traditional advertisers, whether that be companies like CPG conglomerates or presidential campaigns. Both have the resources to advertise anywhere and everywhere, and indeed, often find that the fine-tooth targeting on super-aggregators isn’t worth the effort required. The folks that do benefit, though, are those that wouldn’t have a voice otherwise: startups and niche offerings, both in terms of business and politics. Google and Facebook have opened the field to far more entrants, and while that means there are more folks with bad intentions, there are also a whole lot more folks with ideas that were shut out by the significant transaction costs inherent in pre-Internet platforms.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;There’s one final consideration that should apply to regulation, broadly: given that Google and Facebook are already well-established with businesses that serve users, suppliers, and advertisers in a virtuous cycle, it is unlikely that regulation of any kind will have meaningful effects on their bottom lines. Indeed, I expect Google and Facebook to be mostly cooperative with whatever regulation comes from these recent revelations.&lt;&#x2F;p&gt;
&lt;p&gt;Rather, the companies that will be hurt are those seeking to knock Google and Facebook off their perch; given that they are not yet super-aggregators, they will not have the feedback loops in place to overcome overly prescriptive regulation such that they can seriously challenge Google and Facebook.&lt;&#x2F;p&gt;
&lt;p&gt;For example, consider the much-touted &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.opentext.com&#x2F;campaigns&#x2F;99challenges&#x2F;comply-with-regulations-wp?utm_source&#x3D;google&amp;amp;utm_medium&#x3D;ppc&amp;amp;utm_campaign&#x3D;99-gdpr&amp;amp;utm_content&#x3D;ppc-99-gdpr-text&amp;amp;elqcampaignid&#x3D;27115&amp;amp;gclid&#x3D;EAIaIQobChMIrrbT892u1gIVSgoqCh3zTweKEAAYASAAEgLaifD_BwE&quot;&gt;General Data Protection Regulation (GDPR)&lt;&#x2F;a&gt; set to take effect in the European Union next year. There is lot of excitement about how this regulation will limit Google and Facebook in particular, by, for example, limiting the use of personal data and enforcing data portability (and not just a PDF of your data — services will be required to build API access for easy export).&lt;&#x2F;p&gt;
&lt;p&gt;The reality, though, is that given that Google and Facebook make most of their money on their own sites, they will be hurt far less than competitive ad networks that work across multiple sites; that means that even more digital advertising money — which will continue to grow, regardless of regulation — will flow to Google and Facebook. Similarly, given that the data portability provisions explicitly exclude your social network — exporting your friends requires explicit approval from your friends — it will be that much harder to bootstrap a competitor.&lt;&#x2F;p&gt;
&lt;p&gt;This is the reality of regulation: as much as the largest incumbents may moan and groan, they are, in nearly all cases, the biggest beneficiaries. To be sure, that doesn’t mean regulation isn’t appropriate — it should be far more obvious to everyone that Russians were purchasing election-related ads on Facebook — but rather that it be expressly designed to limit the worst abuses and enable meaningful competitors, even if they accept payment in Russian Rubles.&lt;&#x2F;p&gt;
&lt;ol&gt;&lt;li&gt;For what it’s worth, Stratechery has never actually taken out a Facebook ad, or any ad for that matter&lt;&#x2F;li&gt;&lt;li&gt;Yes, I’m writing about Aggregation Theory again; I explain why I do so often &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-platform-paradox-voice-assistants-vulnerable-facebook-and-russian-ads&#x2F;&quot;&gt;here&lt;&#x2F;a&gt; &lt;&#x2F;li&gt;&lt;li&gt;Presuming his tweet was not as cynical as it very well might have been&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt;</content>
    <link rel="alternate" href="https://stratechery.com/2017/the-super-aggregators-and-the-russians/"/>
    <published>2017-09-18T12:56:58.000Z</published>
  </entry>
  <entry>
    <title>Join our startup, we&#39;ll cut your pay by 40%! | Code Without Rules</title>
    <content type="html">&lt;p&gt;Have you ever thought to yourself, “I need to get paid far far less than I’m worth?”
Me neither.
And yet some companies not only pay less, they’re proud of it.
Allow me to explain—&lt;&#x2F;p&gt;



&lt;p&gt;I recently encountered a job posting from one such startup.
My usual response would be to roll my eyeballs and move on, but this particular posting was so egregious that had I done so I would’ve ended up looking at the back of my skull.&lt;&#x2F;p&gt;

&lt;p&gt;So in an effort to avoid the pain of over-rolled eyeballs, and more importantly to help &lt;em&gt;you&lt;&#x2F;em&gt; avoid the pain of working for this kind of company, let me share the key sentence from the job posting:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;“It’s not unusual to see some team members in the office late into the evening; many of us routinely work and study 70+ hours a week.”&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;In this post I will work through the implications of that sentence.
I made sure not to drink anything while writing it, because if I had I’d be spitting my drink out every time I reread that sentence.
The short version is that should you join such a company, you’d be working for people who are:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Exploiting you by massively underpaying you.&lt;&#x2F;li&gt;
&lt;li&gt;Destroying your productivity.&lt;&#x2F;li&gt;
&lt;li&gt;Awful at project management.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

Cutting your salary by 40%

&lt;p&gt;Let’s start with your salary.
The standard workweek in the US is 40 hours a week.
If you’re going to be working 70 hours a week that means you’re working 75% more hours than usual.
&lt;strong&gt;Or, to put it another way, the company is offering to pay you 40% less than market rate for your time.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Instead of hiring more engineers, they’re trying to get their engineers to do far more for the same amount of money.
This is exploitation, and there’s no reason you should put up with it.&lt;&#x2F;p&gt;

&lt;p&gt;It’s not that hard to find companies where you can work a normal 40 hour workweek.
I’ve done so at the past five companies I’ve worked at, ranging from tiny startups to Google.
Sometimes you need to push back, it’s true, but it’s certainly possible.
And even if you can’t find such a job, there are many more companies where you can work 45 hours, or 50 hours.
Even an awful workweek of 60 hours is better than 70.&lt;&#x2F;p&gt;

&lt;h3&gt;When programming is your hobby&lt;&#x2F;h3&gt;

&lt;p&gt;Now, it may be that you love programming so much that you’re thinking, “I’d be coding 70 hours a week anyway, why not do it at work?”
As I’ll mention below, I don’t think working 70 hours a week is going to produce much, but even if it did you still shouldn’t do it on your employer’s behalf.&lt;&#x2F;p&gt;

&lt;p&gt;Let’s imagine you’re coding 70 hours a week.
You could work 70 hours for your employer, getting paid nothing extra for your time, or you could stick to 40 hours and use those remaining 30 hours to:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Work on a personal project, just for fun: you could learn new skills that &lt;em&gt;you&lt;&#x2F;em&gt; choose, or build something frivolous because &lt;em&gt;you&lt;&#x2F;em&gt; enjoy it.&lt;&#x2F;li&gt;
&lt;li&gt;Work on an open source project, helping others as well.&lt;&#x2F;li&gt;
&lt;li&gt;Take on consulting work, getting paid more.&lt;&#x2F;li&gt;
&lt;li&gt;Start your own startup, so you get a more significant upside from success.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;And you’d also have some optional slack time, which is useful when life gets in the way of programming.&lt;&#x2F;p&gt;

“Work not just smart, but also hard”

&lt;p&gt;Encouraging 70 hour workweeks is an extraordinary level of exploitation, but sadly it’s also a rather common form of stupidity.
The problem is encapsulated in another statement from the job posting:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;“[We] work not just smart, but also hard.”&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;If your starting point is exploitation, if you’re setting out to extract as much work as possible from your employees, you lose sight of the &lt;em&gt;purpose&lt;&#x2F;em&gt; of work.
Work has no inherent value: what matters is the results.
The problems solved, the value created, this is what you’re trying to maximize.&lt;&#x2F;p&gt;

&lt;p&gt;And is turns out there’s &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.igda.org&#x2F;?page&#x3D;crunchsixlessons&quot;&gt;decades of research&lt;&#x2F;a&gt; showing that consistently working more than 40 hours a week results in &lt;em&gt;less output&lt;&#x2F;em&gt;.
But presumably the people running this startup don’t believe that, or they wouldn’t be pushing for it.
And maybe you don’t believe that either.
But even if we assume 70 hours of work produce 75% more output than 40 hours of work, it’s still a fundamentally bad idea for the company.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;When an organization tries to maximize inputs, rather than outputs, the result is a whole series of bad judgments.&lt;&#x2F;strong&gt;
Hiring, for example, as you can see from this job ad.
A junior programmer working 70 hours a week will produce far less valuable output than an experienced programmer working 40 hours a week.
But a company that wants to maximize exploitation, to maximize work, will write job ads that ensure the latter will never apply.&lt;&#x2F;p&gt;

&lt;h3&gt;Emergencies: when long hours &lt;em&gt;are&lt;&#x2F;em&gt; necessary.&lt;&#x2F;h3&gt;

&lt;p&gt;Beyond reduced output, and beyond a confused hiring policy, encouraging long hours also implies a lack of project management skills.
Long work hours are both a cause and a symptom of this particular failure.&lt;&#x2F;p&gt;

&lt;p&gt;70 hours a week means 7 days a week, from 9AM to 7PM.
That doesn’t leave much slack time for life, and it also leaves no slack time for the project.
Sooner or later every project has an emergency.
If a production server crashes, someone is going to have to bring it back up.
And more broadly, extra work comes up: a customer asks for more features, or a seemingly simple task turns out to be far more difficult than expected.&lt;&#x2F;p&gt;

&lt;p&gt;To help deal with these situations you need some advance planning.
Scheduling everything down to the minute won’t help, and pushing everyone to work at the absolute limit won’t help.
The problem is &lt;em&gt;unexpected&lt;&#x2F;em&gt; work, after all.
What you need is planned slack time, time that hasn’t been budgeted, that’s available for all the inevitable unexpected problems.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;But a manager that is pushing you to work 70 hours a week isn’t a manager who plans ahead for unexpected work.&lt;&#x2F;strong&gt;
No, this is a manager who solves problem by telling you to work harder and longer.
So when the unexpected happens, when an emergency happens, your manager will be saying “who coulda knowed? ¯\_(ツ)_&#x2F;¯” and before you know it you’re working 80 hours a week.&lt;&#x2F;p&gt;

&lt;p&gt;Maybe that will fix things.
But I doubt it.
More plausibly you’ll eventually burn out and quit, taking your business knowledge with you.&lt;&#x2F;p&gt;

“Strong willingness to help junior engineers”

&lt;p&gt;The job posting that led to this post also suggested that a “strong willingness to help junior engineers” would be helpful, though not required.
So here’s my advice to all you junior engineers out there: avoid companies that want you to work crazy hours.&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;It’s bad for you.&lt;&#x2F;li&gt;
&lt;li&gt;It’s bad for the company.&lt;&#x2F;li&gt;
&lt;li&gt;And you don’t want to work for a manager who isn’t competent enough to realize what’s bad for the company.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;And if you are stuck working for such a company, you might want to read my book, &lt;em&gt;&lt;a href&#x3D;&quot;&#x2F;saneworkweek&#x2F;&quot;&gt;The Programmer’s Guide to a Sane Workweek&lt;&#x2F;a&gt;&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://codewithoutrules.com/2017/09/18/when-startups-pay-less/"/>
    <published>2017-09-18T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>Resurrecting the SRAM Automatix | Evan Klitzke</title>
    <content type="html">Two years ago I wrote about my &lt;a href&#x3D;&quot;&#x2F;mission-bicycles-automatix&quot;&gt;SRAM Automatix hub
bicycle&lt;&#x2F;a&gt;. I’ve owned a lot of bikes, but this
particular bike has a special place in my heart. It’s the bike I’ve had the most
fun riding, and the ...</content>
    <link rel="alternate" href="https://eklitzke.org/resurrecting-the-sram-automatix"/>
    <published>2017-09-18T00:00:00.000Z</published>
  </entry>
  <entry>
    <title>From Research Goals to Usability-Testing Scenarios: A 7-Step Method | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; Developing goals for a usability study, deciding what to test, and crafting user scenarios can be challenging. This method makes the process straightforward.&lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; For some usability studies, there may be an obvious and limited set of interface elements that should be tested. In many cases, however, the system is complex, new to the researcher, or the list of candidate features for testing is long. This article shows a 7-step method that helps everyone focus on the most important elements to test first, while also prioritizing everything of concern for later research.&lt;&#x2F;p&gt; The 7 Steps&lt;p&gt; Our &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;usability-test-checklist&#x2F;&quot;&gt;  checklist for planning usability studies &lt;&#x2F;a&gt; describes the larger process.&lt;&#x2F;p&gt;&lt;p&gt; It’s important to involve stakeholders in these planning steps. After conducting user studies, researchers can sometimes encounter resistance to the findings: someone says the researcher &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;recruiting-test-participants-for-usability-studies&#x2F;&quot;&gt;  recruited the wrong participants &lt;&#x2F;a&gt; or tested the wrong elements. Going through part of the test-planning process as a team ensures that everyone understands and supports the research goals, priorities, and methods.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;ux-research-goals-to-scenarios&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/ux-research-goals-to-scenarios/"/>
    <published>2017-09-17T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>Mobile Tables: Comparisons and Other Data Tables | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; Locking headers and allowing users to select a subset of data according to their needs make large data tables usable on mobile devices. &lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; Displaying big data on a small screen is a daunting challenge. How do we make a large amount of data fit on a small screen? Other than limiting the number of rows or columns of data, what other options are available to display tables on small screens? What does a usable table look like on mobile?&lt;&#x2F;p&gt;&lt;p&gt; (The general problem of having more data than fits on the screen is not specific to mobile: information-visualization researchers have struggled for years with the topic of showing data that has more columns (or rows) that can fit on the user’s screen — be it a large monitor, an array of monitors, or a small mobile display. However, &lt;strong&gt;  the smaller the screen, the more likely that we’ll get into trouble &lt;&#x2F;strong&gt; with any given dataset and will need to design carefully to minimize usability problems.)&lt;&#x2F;p&gt;&lt;p&gt; In our article on &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;comparison-tables&#x2F;&quot;&gt;  comparison tables &lt;&#x2F;a&gt; , we covered key elements in presenting data, such as the need for &lt;strong&gt;  consistency of content &lt;&#x2F;strong&gt; and &lt;strong&gt;  presenting meaningful attributes &lt;&#x2F;strong&gt; to users. Both are equally, if not even more important for mobile tables, due to the small amount of data visible at one time. You must &lt;strong&gt;  first create a usable table for a large screen &lt;&#x2F;strong&gt; before translating it to a small one. The need to make a table work on a smaller screen may be a good reason, excuse, or impetus to reevaluate the content and attributes in your table, regardless of screen size, and to improve content for all users.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;mobile-tables&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/mobile-tables/"/>
    <published>2017-09-17T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>How I spent my time at the Recurse Center | Julia Evans</title>
    <content type="html">&lt;p&gt;I went to the Recurse Center a while ago now (4 years ago) but I’m interested in the topic of “how
do I accomplish a lot in a short amount of time” again so I wanted to revisit how I spent my time
there because I learned a lot. I don’t know if this will be interesting to anyone but me but I often
think about things by blogging, so here you go :)&lt;&#x2F;p&gt;

&lt;p&gt;The &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.recurse.com&#x2F;&quot;&gt;Recurse Center&lt;&#x2F;a&gt; is a place where you go for 12 weeks and spend all
your time working on getting better at programming. To learn more about it I recommend the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.recurse.com&#x2F;manual&quot;&gt;user’s manual&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;The days are numbered 1-46 because when I was there Monday-Thursday were the only “mandatory” days.
So 12 weeks is 48 days, minus 2 for some reason.&lt;&#x2F;p&gt;

&lt;p&gt;Here’s how I spent those 46 days (in order). (I know this because I &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jvns.ca&#x2F;categories&#x2F;hackerschool&#x2F;&quot;&gt;wrote a blog post every day I was there&lt;&#x2F;a&gt;). Some of this is probably &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Retroactive_continuity&quot;&gt;retconned&lt;&#x2F;a&gt; at least a little bit :)&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Day 1-3&lt;&#x2F;strong&gt;: Work on a tiny shell in bash (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;_dash&#x2F;blob&#x2F;master&#x2F;dash.c&quot;&gt;here’s the source&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;meanwhile: Learn what a shell does. Learn some basics of the Linux kernel does. Tom teaches me about netcat.
Netcat is awesome, wow.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 4-6&lt;&#x2F;strong&gt;: Learn what a Linux kernel module is. Write a couple of beginner kernel modules.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 7&lt;&#x2F;strong&gt;: Consider learning Clojure &#x2F; writing a bittorrent client in Clojure. Write a clojure echo
server &amp;amp; decide against continuing down that path&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 8-10&lt;&#x2F;strong&gt;: Pair with Allison on her bytecode interpreter, go to a talk on Julia &amp;amp; open source, feel
confused about what I’m going to do next&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 11-16&lt;&#x2F;strong&gt;: Implement gunzip in Julia and demo it (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jvns.ca&#x2F;blog&#x2F;2013&#x2F;10&#x2F;24&#x2F;day-16-gzip-plus-poetry-equals-awesome&#x2F;&quot;&gt;gzip + poetry &#x3D; awesome&lt;&#x2F;a&gt;). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;gzip.jl&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;gzip.jl&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 17-18&lt;&#x2F;strong&gt;: Read some of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nostarch.com&#x2F;hacking2.htm&quot;&gt;Hacking : The Art of Exploitation&lt;&#x2F;a&gt;. (which is a GREAT BOOK). Do some experimentation with buffer overflows &amp;amp; ARP cache poisoning.&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 19-20&lt;&#x2F;strong&gt;: Get interested in networking. Talk to Jari &amp;amp; Brian about networking. Implement
traceroute in Python&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 21-27&lt;&#x2F;strong&gt;: Work on a TCP stack in Python. (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;teeceepee&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;teeceepee&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 28-29&lt;&#x2F;strong&gt;: Philip Guo is a resident. Inspired to make &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;visualize-your-git.herokuapp.com&#x2F;&quot;&gt;https:&#x2F;&#x2F;visualize-your-git.herokuapp.com&#x2F;&lt;&#x2F;a&gt;.
(web projects were against my personal rules for being at the recurse center but I did it anyway)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 30-33&lt;&#x2F;strong&gt;: Have fun with making music with Clojure. Write a webserver with Lyndsey that lets
a crowd of people play music on your computer (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;magical-orchestra&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;magical-orchestra&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;strong&gt;Day 34-46&lt;&#x2F;strong&gt;: Work on writing a tiny operating system in Rust (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;puddle&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;puddle&lt;&#x2F;a&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Overall:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;13 days on writing a mini Rust OS (500 lines of Rust). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;puddle&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;puddle&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;9 days on learning about networking &amp;amp; writing a TCP stack in Python (200 lines of Python + tests). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;teeceepee&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;teeceepee&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;6 days on gzip in Julia (360 lines of Julia). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;gzip.jl&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;gzip.jl&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;3 days on writing a shell in C (250 lines of C, with Daphne). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;_dash&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;_dash&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;3 days writing fun kernel modules (200 lines of C). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;kernel-module-fun&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;kernel-module-fun&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;2 days on a git workflow visualization tool (150 lines of Python). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;git-workflow&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;git-workflow&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;5 days on Clojure &amp;amp; having fun making music in Clojure (250 lines of Clojure, with Lyndsey). &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;magical-orchestra&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;magical-orchestra&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;2 days reading a hacking book and experimenting with buffer overflows &#x2F; ARP cache poisoning. (no code)&lt;&#x2F;li&gt;
&lt;li&gt;3 days not working on any specific project&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;adds up to a Recurse Center batch!&lt;&#x2F;p&gt;

&lt;p&gt;To be clear I don’t think that it’s &lt;strong&gt;necessary&lt;&#x2F;strong&gt; to spend all your time working on a
Specific Project. My partner went to RC and spent most of his time not working on any specific
project and still got a lot of out of it. People spend their time at RC in totally different ways
and that’s okay!&lt;&#x2F;p&gt;

&lt;p&gt;some observations:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;I wrote maybe 50-100 lines of code a day on average.&lt;&#x2F;li&gt;
&lt;li&gt;I didn’t like it when I wasn’t working on a “project”.&lt;&#x2F;li&gt;
&lt;li&gt;I was pretty comfortable with web development &#x2F; machine learning basics before RC, so I completely
avoided working on those things. I focused on stuff I thought seemed hard&#x2F;scary (networking&#x2F;security&#x2F;operating
systems&#x2F;writing a shell&#x2F;compression). Clojure &#x2F; the git visualization tool were exceptions to this, those I just thought were fun.&lt;&#x2F;li&gt;
&lt;li&gt;The stuff I learned about at RC 4 years ago is still a lot of the same stuff I’m excited about
today.&lt;&#x2F;li&gt;
&lt;li&gt;There were a lot of things I worked on for only 2-3 days (like “write kernel modules”). Some of
those things I learned a LOT from.&lt;&#x2F;li&gt;
&lt;li&gt;I spent almost all of my time (all except 5 days) working on projects I could demo and talk about
easily. But nothing I made was really that polished or anything.&lt;&#x2F;li&gt;
&lt;li&gt;I was pretty concerned with getting a job after, a big part of why I
blogged about what I was learning was that I wanted to get a cool job after the Recurse Center and
so my blog was my “media strategy”. I spent 1-2 hours a day writing (which was a lot) but I did
get a cool job after.&lt;&#x2F;li&gt;
&lt;li&gt;on the other hand I was lucky that I didn’t really &lt;em&gt;need&lt;&#x2F;em&gt; to get a job immediately after RC, I
could have easily afforded to spend a few months job hunting. So I had space to focus on
learning&#x2F;programming.&lt;&#x2F;li&gt;
&lt;li&gt;all the people at RC were really amazing (other recursers &#x2F; residents &#x2F; facilitators). For example
Lindsey encouraged me to work on writing an OS in Rust and that turned out to be a great idea. And
the facilitators were always extremely enthusiastic&#x2F;positive  about helping me debug weird problems I had.&lt;&#x2F;li&gt;
&lt;li&gt;Today I have a really positive attitude about debugging (what are we going to learn TODAY?!). I
think I learned that from the RC facilitators &amp;lt;3 (like I’d ask Allison “hi can you help me debug
this weird thing” and she would be SO HELPFUL)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;I think this media strategy approach (“everything I do has to be a cool thing I can demo and write
about”) thing is pretty weird and I don’t know that I recommend it. It worked for me though, I think
it maybe helped keep me focused&#x2F;motivated. I think “blog every day” isn’t actually an approach that
works for most people though :).&lt;&#x2F;p&gt;

&lt;h3&gt;RC is awesome&lt;&#x2F;h3&gt;

&lt;p&gt;looking back I think some of the most important things I learned at RC were:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;debugging is fun and interesting&lt;&#x2F;li&gt;
&lt;li&gt;systems&#x2F;networking&#x2F;linux are extremely cool and not really that hard to get started with even if
you only know a little bit of C. Like Tom told me about netcat on Day 2 and I am still VERY
EXCITED about networking :)&lt;&#x2F;li&gt;
&lt;li&gt;I learned some about unknown-unknowns – things that I didn’t know existed and wouldn’t really
have thought to ask about (strace! netcat! system calls!)&lt;&#x2F;li&gt;
&lt;li&gt;writing about what I’m learning is really fun&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/17/how-i-spent-my-time-at-the-recurse-center/"/>
    <published>2017-09-17T12:43:22.000Z</published>
  </entry>
  <entry>
    <title>Announcing Point-Free | Few, but ripe...</title>
    <content type="html">&lt;blockquote&gt;
  &lt;p&gt;A soon-to-be launching &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.pointfree.co&#x2F;&quot;&gt;weekly video series&lt;&#x2F;a&gt; exploring Swift and functional programming!&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;For the past 3 years, since Swift’s early days, I have been a strong proponent of adopting the techniques of functional programming to improve the understandability and maintainability of Swift code. I co-organize the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.funswiftconf.com&#x2F;&quot;&gt;Functional Swift Conference&lt;&#x2F;a&gt;, I write extensively on my &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;&quot;&gt;site&lt;&#x2F;a&gt;, give &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;talks&#x2F;&quot;&gt;talks&lt;&#x2F;a&gt; whenever I can, and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;kickstarter.engineering&#x2F;open-sourcing-our-android-and-ios-apps-6891be909fcd&quot;&gt;open-sourced&lt;&#x2F;a&gt; the iOS and Android code bases at Kickstarter to show how these techniques can be used in a real-life code base. However, functional programming often comes across as foreign and intimidating, and so there’s always more work that can be done to make it approachable!&lt;&#x2F;p&gt;

&lt;p&gt;So, with my former colleague from Kickstarter &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.stephencelis.com&#x2F;&quot;&gt;Stephen Celis&lt;&#x2F;a&gt;, we are launching &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.pointfree.co&#x2F;&quot;&gt;Point-Free&lt;&#x2F;a&gt;, a weekly video series exploring Swift and functional programming.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;We learned quite a bit while making this site! From the beginning we knew we wanted to make the site using server-side Swift, and we wanted to approach it in a functional way. We wanted the server to just be a pure function that takes a request and outputs a response. We wanted all the side-effects to be pushed to the boundaries of the application, and then be interpreted in an understandable and testable manner. And we wanted to embrace views as &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;swift&#x2F;html&#x2F;dsl&#x2F;2017&#x2F;06&#x2F;29&#x2F;composable-html-views-in-swift.html&quot;&gt;composable, stateless functions&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Turns out, if you accomplish all of the above, all types of fun stuff starts popping out. First, you get to easily write tests that traverse the full stack of the application and make assertions on every little thing that happened along the way. Then, because the server is just a pure function, you can easily load it up in a Swift Playground and pipe requests through, including &lt;code&gt;POST&lt;&#x2F;code&gt; requests!&lt;&#x2F;p&gt;

&lt;p&gt;&lt;&#x2F;p&gt;

&lt;p&gt;And finally, we developed an all-purpose &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.github.com&#x2F;pointfreeco&#x2F;swift-snapshot-testing&quot;&gt;snapshot testing library&lt;&#x2F;a&gt; so that we could take full snapshots of HTML text &lt;em&gt;and&lt;&#x2F;em&gt; screenshots of pages at different browser sizes.&lt;&#x2F;p&gt;

&lt;p&gt;We are so excited with our findings that we decided to open-source the whole collection of libraries we made that aid in developing server-side Swift. We are also open-sourcing the full source code of the site itself! You can find all of the repositories on the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pointfreeco&quot;&gt;Point-Free GitHub organization&lt;&#x2F;a&gt;, but here are some of the interesting things you will find:&lt;&#x2F;p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pointfreeco&#x2F;pointfreeco&quot;&gt;github&#x2F;pointfreeco&lt;&#x2F;a&gt;: The source to the full www.pointfree.co site! It includes all of the routing and server middleware, HTML views, CSS styling and business logic.&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pointfreeco&#x2F;pointfreeco-server&quot;&gt;github&#x2F;pointfreeco-server&lt;&#x2F;a&gt;: A barebones Kitura application that delegates all of the request-to-response lifecycle responsibilities to pointfreeco.&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pointfreeco&#x2F;swift-web&quot;&gt;github&#x2F;swift-web&lt;&#x2F;a&gt;: A collection of types and functions that aid in server-side developing, including HTML&#x2F;CSS creation and rendering, request routing and server middleware.&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pointfreeco&#x2F;swift-prelude&quot;&gt;github&#x2F;swift-prelude&lt;&#x2F;a&gt;: Offers a standard library for experimental functional programming in Swift.&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pointfreeco&#x2F;swift-snapshot-testing&quot;&gt;github&#x2F;swift-snapshot-testing&lt;&#x2F;a&gt;: A full-featured snapshot testing library to capture a data structure as text, image or anything, and make assertions against reference data.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;
&lt;p&gt;&lt;br &#x2F;&gt;&lt;&#x2F;p&gt;

&lt;p&gt;So, this is what I’ve been up to since &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;mbrandonw&#x2F;status&#x2F;874683027464622081&quot;&gt;leaving Kickstarter&lt;&#x2F;a&gt; a few months ago! We hope to have our first episodes live by the end of this year. Please consider &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.pointfree.co&#x2F;&quot;&gt;signing up&lt;&#x2F;a&gt; to show us how much interest is out there for such a thing, and to be notified when we launch!&lt;&#x2F;p&gt;

&lt;p&gt;Also, if any of this interests you and you want to collaborate on some work together, I’m available &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;fewbutripe.com&#x2F;hire-me&#x2F;&quot;&gt;for hire&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fewbutripe.com/swift/functional/programming/2017/09/17/announcing-point-free.html"/>
    <published>2017-09-17T00:00:00.000Z</published>
  </entry>
  <entry>
    <title>A Tiny Story about Systems Complexity | Pony Foo</title>
    <content type="html">&lt;div&gt;&lt;p&gt;A human decides to open a new tab in their favorite web browser and they then google for &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.google.com&#x2F;search?q&#x3D;cat+in+a+pickle+gifs&amp;amp;tbm&#x3D;isch&quot; target&#x3D;&quot;_blank&quot;&gt;&lt;em&gt;“cat in a pickle gifs”&lt;&#x2F;em&gt;&lt;&#x2F;a&gt;. What happens next will shock you!&lt;&#x2F;p&gt;&lt;p&gt;The browser allocates a new process through a system call to the operating system, which shifts some bits around on the physical hardware that lies inside the human’s computer. Before the HTTP request hits the network, we need to hit DNS servers, engaging in the elaborate process of casting &lt;code&gt;google.com&lt;&#x2F;code&gt; into an IP address. The browser then checks whether there’s a ServiceWorker installed, and assuming there isn’t one the request finally takes the default route of querying Google’s servers for the phrase &lt;em&gt;“cat in a pickle gifs”&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt; &lt;p&gt;Naturally, Google receives this request at one of the front-end edges of its public network, in charge of balancing the load and routing requests to healthy back-end services. The query goes through a variety of analyzers that attempt to break it down to its semantic roots, stripping the query down to its essential keywords in an attempt to better match relevant results.&lt;&#x2F;p&gt; &lt;p&gt;The search engine figures out the 10 most relevant results for &lt;em&gt;“cat pickle gif”&lt;&#x2F;em&gt; out of billions of pages in its index – which was of course primed by a different system that’s also part of the whole – and at the same time, Google pulls down a highly targeted piece of relevant advertisement about &lt;em&gt;cat gifs&lt;&#x2F;em&gt; that matches what they believe is the demographic the human making the query belongs to, thanks to a sophisticated ad network, figures out whether the user is authenticated with Google through an HTTP header session cookie and the search results page starts being constructed and streamed to the human, who now appears impatient and fidgety.&lt;&#x2F;p&gt;&lt;p&gt;As the first few bits of HTML being streaming down the wire, the search engine produces its results and hands them back to the front-end servers, which includes it in the HTML stream that’s sent back to the human. The web browser has been working hard at this too, parsing the incomplete pieces of HTML that have been streaming down the wire as best it could, even daring to launch other admirably and equally-mind-boggling requests for HTTP resources presumed to be JavaScript, CSS, font, and image files as the HTML continues to stream down the wire. The first few chunks of HTML are converted into a DOM tree, and the browser would finally be able to begin rendering bits and pieces of the page on the screen, if it weren’t because it’s still waiting on those equally-mind-boggling CSS and font requests.&lt;&#x2F;p&gt; &lt;p&gt;As the CSS stylesheets and fonts are transmitted, the browser begins modeling the CSSOM and getting a more complete picture of how to turn the HTML and CSS plain text chunks provided by Google servers into a graphical representation that the human finds pleasant. Browser extensions get a chance to meddle with the content, removing the highly targeted piece of relevant advertisement about cat gifs before I even realize Google hoped I wouldn’t block ads this time around.&lt;&#x2F;p&gt; &lt;p&gt;A few seconds have passed by since I first decided to search for &lt;em&gt;cat in a pickle gifs&lt;&#x2F;em&gt;. Needless to say, thousands of others brought similarly inane requests. To the same systems. During this time.&lt;&#x2F;p&gt; &lt;p&gt;Not only does this example demonstrate the marvelous machinery and infrastructure that fuels even our most flippant daily computing experiences, but it also illustrates how abundantly hopeless it is to make sense of a system as a whole, let alone its comprehensive state at any given point in time. After all, where do we draw the boundaries? Within the code we wrote? The code that powers our customer’s computers? Their hardware? The code that powers our servers? Its hardware? The internet as a whole? The power grid?&lt;&#x2F;p&gt; &lt;p&gt;The overall state of a system has little to do with our ability to comprehend parts of that same system. Our focus in reducing state-based entropy must then lie in the individual aspects of the system. It’s for this reason that breaking apart large pieces of code is so effective. We’re reducing the amount of state local to each given aspect of the system, and that’s the kind of state that’s worth taking care of, since it’s what we can keep in our heads and make sense of.&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="https://ponyfoo.com/articles/tiny-story-about-complexity"/>
    <published>2017-09-16T23:10:01.000Z</published>
  </entry>
  <entry>
    <title>Tom Swift and His Electric Runabout updated, EPUB added | Fourmilog - Fourmilab Change Log</title>
    <content type="html">All 25 of the public domain Tom Swift novels have been posted in the &lt;a href&#x3D;&quot;&#x2F;etexts&#x2F;www&#x2F;appleton&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Tom Swift and His Pocket Library&lt;&#x2F;a&gt; collection. I am now returning to the earlier novels, upgrading them to use the more modern typography of those I&#39;ve done in recent years. The fifth novel in the series, Tom Swift and His Electric Runabout, has now been updated. Several typographical errors in the original edition have been corrected, Unicode text entities are used for special characters such as single and double quotes and dashes, and the HTML version is now XHTML 1.0 Strict.

&lt;p&gt;

An &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;EPUB&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;EPUB&lt;&#x2F;a&gt; edition of this novel is now available which may be downloaded to compatible reader devices; the details of how to do this differ from device to device—please consult the documentation for your reader for details.

&lt;&#x2F;p&gt;&lt;p&gt;

Tom Swift&#39;s electric car, described in this 1910 novel, compares quite favourably with those on the market more than a century later.  Top speed was one hundred miles an hour, and in chapter four Tom says of range on a battery charge, “Well, if I can make it do three hundred miles I&#39;ll be satisfied, but I&#39;m going to try for four hundred.”  But in case the battery runs down and there&#39;s no charging station nearby, Tom has a trick up his sleeve even Elon Musk can&#39;t exploit.  Asked by his father, “Suppose you&#39;re not near a charging station?”, Tom replies, “…I&#39;m going to have it fixed so I can take current from any trolley line, as well as from a regular charging station.  My battery will be capable of being recharged very quickly, or, in case of need, I can take out the old cells and put in new ones.”

&lt;&#x2F;p&gt;&lt;p&gt;

In 1910, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Interurban&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;interurban trolley&lt;&#x2F;a&gt; lines were ubiquitous in the eastern United States, so the intrepid motorist, seeing the charge gauge creeping down toward zero, need only divert to the nearest trolley line, hook up to the rail and overhead wire or third rail, and before long everything would be just tickey-boo.  No thief, the young Swift remarks, “ ‘I&#39;m going to pay for the current I use,’ explained the young inventor.  ‘I have a meter which tells how much I take.’ ”&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-09/001712.html"/>
    <published>2017-09-15T23:34:41.000Z</published>
  </entry>
  <entry>
    <title>Wes Chow on Off-the-Record Communication, or, Why Not To Use PGP | Papers We Love</title>
    <content type="html">

&lt;p&gt;&lt;&#x2F;p&gt;

New York - July 19, 2017

&lt;hr &#x2F;&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Meetup:&lt;&#x2F;strong&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;papers-we-love&#x2F;events&#x2F;241525902&#x2F;&quot;&gt;https:&#x2F;&#x2F;www.meetup.com&#x2F;papers-we-love&#x2F;events&#x2F;241525902&#x2F;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;strong&gt;Paper:&lt;&#x2F;strong&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;otr.cypherpunks.ca&#x2F;otr-wpes.pdf&quot;&gt;Off-the-Record Communication, or, Why Not To Use PGP&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;strong&gt;Slides:&lt;&#x2F;strong&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;speakerdeck.com&#x2F;paperswelove&#x2F;wes-chow-on-off-the-record-communication-or-why-not-to-use-pgp&quot;&gt;Wes Chow on Off-the-Record Communication, or, Why Not To Use PGP&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;strong&gt;Audio:&lt;&#x2F;strong&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.mixcloud.com&#x2F;paperswelove&#x2F;wes-chow-on-off-the-record-communication-or-why-not-to-use-pgp&#x2F;&quot;&gt;Wes Chow on Off-the-Record Communication, or, Why Not To Use PGP&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;&lt;strong&gt;Description&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Your intrepid reporter goes to a private location and meets with a key source who wishes to remain anonymous and off the record. The reporter understands that all information she learns from the source must be validated elsewhere and not directly quoted (private), that the source is who he says he is (authenticated), and that should their conversation become public they could both plausibly deny having said any of the recorded words (repudiable). How do we construct a digital version of an IRL meeting?&lt;&#x2F;p&gt;

&lt;p&gt;Nikita Borisov, Ian Goldberg, and Eric Brewer devise a communication protocol in Off-the-Record Communication, or Why Not To Use PGP that provides all of the above mentioned properties, as well as forward-secrecy (breaking the encryption on one message doesn’t give an attacker keys to past or future messages). Wes will review the OTR protocol and its clever collection of strong and purposefully weak cryptographic techniques that form the basis of the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;whispersystems.org&#x2F;&quot;&gt;Signal&lt;&#x2F;a&gt; private messaging app.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Bio&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Wes Chow (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;weschow&quot;&gt;@weschow&lt;&#x2F;a&gt;) has a B.S. in Electrical Engineering &amp;amp; Computer Science from UC Berkeley. He spent eight years building technical infrastructure for high frequency trading shops. One day, he stared into his dark soul and realized he needed to move into the startup light. Thus S7 Labs sprang into being, and he led teams that built Storybox, a Seedcamp NY finalist, and Songza Radio, subsumed by Google Music. He&#39;s now at Chartbeat serving out his term as CTO.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Audio&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;



&lt;p&gt;&lt;strong&gt;Slides&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;



&lt;hr &#x2F;&gt;

&lt;p&gt;
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.twosigma.com&#x2F;&quot;&gt;&lt;&#x2F;a&gt; The &lt;strong&gt;New York Chapter&lt;&#x2F;strong&gt; would like to thank &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.twosigma.com&quot;&gt;TwoSigma&lt;&#x2F;a&gt; for helping to make this meetup possible.
&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;</content>
    <link rel="alternate" href="http://papers-we-love.github.io/2017/video/wes-chow-off-the-record-communication/"/>
    <published>2017-09-15T17:00:09.000Z</published>
  </entry>
  <entry>
    <title>Weekly update 52 | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;Hey, it&#39;s weekly update 52! That&#39;s &lt;em&gt;almost&lt;&#x2F;em&gt; a year&#39;s worth of weekly videos, next week will actually be that anniversary (ok, it&#39;s a day short, but close) and by that time I&#39;ll be over in Utah doing the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.pluralsight.com&#x2F;event-details&#x2F;2017&#x2F;live-2017&quot;&gt;Pluralsight Live&lt;&#x2F;a&gt; thing. I&#39;m especially looking forward to this event, there&#39;s a huge amount of organisation gone into it and I think it&#39;ll be a really slick show.&lt;&#x2F;p&gt;
&lt;p&gt;This week - Equifax. Wow. It&#39;s such a mess on so many levels and as I say in the Security Sense column, trust is now a massive problem not just because of the breach itself, but because of how they&#39;ve subsequently handled it. Apple&#39;s new toys and Face ID is another really interesting topic this week, primarily because of the security implications of biometrics in general and their new implementation in particular. Enjoy this week, next week will be something new altogether I&#39;m sure.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;itunes.apple.com&#x2F;au&#x2F;podcast&#x2F;troy-hunts-weekly-update-podcast&#x2F;id1176454699&quot;&gt;iTunes podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;goo.gl&#x2F;app&#x2F;playmusic?ibi&#x3D;com.google.PlayMusic&amp;amp;isi&#x3D;691797987&amp;amp;ius&#x3D;googleplaymusic&amp;amp;link&#x3D;https:&#x2F;&#x2F;play.google.com&#x2F;music&#x2F;m&#x2F;If3tw7npymckucxq4q76762ncny?t%3DTroy_Hunt%27s_Weekly_Update_Podcast&quot;&gt;Google Play Music podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.omnycontent.com&#x2F;d&#x2F;playlist&#x2F;1439345f-6152-486d-a9c2-a6bf0067f2b7&#x2F;3ba9af7f-3bfb-48fd-aae7-a6bf00689c10&#x2F;fde26e49-9fb8-457d-8f16-a6bf00696676&#x2F;podcast.rss&quot;&gt;RSS podcast&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

References
&lt;ol&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;windowsitpro.com&#x2F;security&#x2F;security-sense-trust-problem-equifax&quot;&gt;Equifax has some serious problems...&lt;&#x2F;a&gt; (yeah, I know you know, but the trust angle is really important beyond just the technology itself)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;face-id-touch-id-pins-no-id-and-pragmatic-security&#x2F;&quot;&gt;Face ID is coming and it will change the world!&lt;&#x2F;a&gt; (ok, maybe not, but it&#39;s really interesting to look at how it compares to Touch ID, PINs and no ID as it relates to security)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;terbiumlabs.com&#x2F;matchlight.html&quot;&gt;Matchlight by Terbium Labs is sponsoring me this week&lt;&#x2F;a&gt; (another repeat sponsor, thanks guys!)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/J7KGW08UEPY/"/>
    <published>2017-09-15T07:44:40.000Z</published>
  </entry>
  <entry>
    <title>AWS Do&#39;s and Don&#39;ts | 8th Light Blog</title>
    <content type="html">&lt;p&gt;So.&lt;&#x2F;p&gt;

&lt;p&gt;You’re &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;8thlight.com&#x2F;solutions&#x2F;cloud-migration-aws&#x2F;&quot;&gt;migrating to the cloud&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Simple, right? Everything is basically the same. You&#39;ve got a server with an operating system of your choice. Nothing’s really different. Just launch an EC2 instance on AWS, do everything you’ve always done, and &lt;strong&gt;boom&lt;&#x2F;strong&gt;. Done. You’re certifiably &lt;em&gt;in the cloud&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Yeah. No. That’s not how it works.&lt;&#x2F;p&gt;

&lt;p&gt;Using EC2 for everything—database, load balancers, Redis, and so on—isn’t using AWS or the cloud effectively. You’re just paying for servers that happen to be hosted by Amazon. By using the most basic AWS cloud offering, you’re limiting your potential and neglecting the power of AWS and the cloud.&lt;&#x2F;p&gt;

&lt;p&gt;By all means, you can work it like that. But it’s not necessarily going to be cost-effective, nor is it the most efficient way of using AWS.&lt;&#x2F;p&gt;

&lt;p&gt;So you may ask, how should I be using AWS, if not in the way described above?&lt;&#x2F;p&gt;

&lt;p&gt;Well, it’s very simple.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Actually use AWS for all it&#39;s worth.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Some concrete examples:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Use RDS instead of putting a database on an EC2 instance. Amazon tells you to do that themselves!
&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DON&#39;T:&lt;&#x2F;strong&gt; Make your security groups open to the world.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Open only certain ports to certain groups or IP addresses in your security groups.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DON&#39;T:&lt;&#x2F;strong&gt; Use a programmatic load balancer when you could use an Elastic Load Balancer.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Use &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;aws.amazon.com&#x2F;certificate-manager&#x2F;&quot;&gt;Amazon Certificate Manager&lt;&#x2F;a&gt; to make websites and applications more secure over HTTPS. It’s free! Just put in the domain(s) you want a cert for and Amazon will send a verification email. Click the link and then associate the cert with the Elastic Load Balancer or Elastic Beanstalk stack, among other available AWS services, of your choice, and then you’re good to go.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Enable &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonCloudWatch&#x2F;latest&#x2F;monitoring&#x2F;AlarmThatSendsEmail.html&quot;&gt;CloudWatch alarms&lt;&#x2F;a&gt; for your resources.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DON&#39;T:&lt;&#x2F;strong&gt; Assume AWS will tell you when things break.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Make backups! (In general). There are a variety of ways to take backups of your resources in AWS. For example, RDS can automatically create snapshots for you, you can manually create EBS snapshots on the web console, and you can schedule EBS snapshots &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AmazonCloudWatch&#x2F;latest&#x2F;events&#x2F;TakeScheduledSnapshot.html&quot;&gt;using Cloudwatch&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Use names for resources! Can you imagine how hard it would be finding something if it isn’t named properly? Don’t imagine it. &lt;strong&gt;Avoid naming things vaguely or not naming them at all&lt;&#x2F;strong&gt;!&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DON&#39;T:&lt;&#x2F;strong&gt; Rely on IP addresses on servers. If you need a static IP address for a server, assign an &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.aws.amazon.com&#x2F;AWSEC2&#x2F;latest&#x2F;UserGuide&#x2F;elastic-ip-addresses-eip.html&quot;&gt;Elastic IP&lt;&#x2F;a&gt; to it. Otherwise, if you stop and start the server, the IP address will change.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Look into Amazon’s own AMIs for your servers. They aren’t as costly as some other AMIs provided by third parties, and they also come bundled with basic software.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DON&#39;T:&lt;&#x2F;strong&gt; Be complacent. AMIs can be taken off the marketplace, and if you want to spin up a copy server, you may have to try another AMI, which might be problematic. Make sure that your AMIs are all still available.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO&lt;&#x2F;strong&gt;: Alternatively, research if making your own AMI is right for your software stack. Instead of installing software to be used by your app every time you spin up an instance, bake it into a custom AMI to save deploy time and to not run into issues with AMIs being taken off the marketplace.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DON&#39;T:&lt;&#x2F;strong&gt; Spend time developing deployment scripts for simple applications when you could just use &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;aws.amazon.com&#x2F;elasticbeanstalk&#x2F;&quot;&gt;Elastic Beanstalk&lt;&#x2F;a&gt; instead.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; If you can&#39;t use ElasticBeanstalk, still invest in some form of deployment scripts and configuration management! Yes, you can just copy a server’s data and make a new one, but if you want to scale or be nimble in dealing with outages or whatnot, having a deployment framework in place is essential.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;DO:&lt;&#x2F;strong&gt; Make your servers disposable. You should be able to spin up new ones and replace old ones within a short period of time. If a server has hardware maintenance at a period of time, and you can’t handle that time frame, you need to be able to adapt and put something else in place.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;The list can go on and on and on.&lt;&#x2F;p&gt;

&lt;p&gt;Some of it is just good DevOps practice, which Amazon doesn’t do for you (excluding some aspects of Elastic Beanstalk). Put Continuous Integration in place, document, enable logging and alarms, and have secure applications. That&#39;s what you should be doing anyway. AWS doesn&#39;t change that.&lt;&#x2F;p&gt;

&lt;p&gt;The rest of it is just being savvy about AWS resources. Comparing cost and choosing which options are best for your business and application. Basically, being a smart consumer. AWS is one super store of options, and not all of them are created equal. Be a discerning buyer. Look at a wide selection of options instead of going to what feels familiar. Different can be an improvement and, importantly, cheaper.&lt;&#x2F;p&gt;

&lt;p&gt;AWS has so much potential to change a business. But it doesn&#39;t just come on a silver platter named Elastic Compute Cloud. You have to &lt;em&gt;work&lt;&#x2F;em&gt; to integrate it into your app ecosphere. Only then can you really be in the cloud.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://8thlight.com/blog/sarah-sunday/2017/09/15/aws-dos-and-donts.html"/>
    <published>2017-09-15T05:00:00.000Z</published>
  </entry>
  <entry>
    <title>Prog Rock Friday | Preston Byrne</title>
    <content type="html">There is an inexpressibly sad story re: the prog rock mega-group Yes in the news this week. I won’t go into here, save to say it prompted me to look back at Steve Howe’s guitar work for adolescent Yes in the 1970s. Please find below a track from Yessongs, Yes’ first live album, released in 1973 (although recorded in 1972). The song is Yours is No Disgrace (from the Yes Album). I also include a video recording of the group performing the same song for your viewing enjoyment. What we hear and see is Howe just beginning to wield the full might...</content>
    <link rel="alternate" href="https://prestonbyrne.com/2017/09/14/prog-rock-friday/"/>
    <published>2017-09-15T04:16:33.000Z</published>
  </entry>
  <entry>
    <title>Is there any value in people who cannot write JavaScript? | Brad Frost</title>
    <content type="html">&lt;p&gt;This is a great post from Mandy Michael, and touches on some of the things I talked about in my post about &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;full-stack-developers&#x2F;&quot;&gt;full-stack developers&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;What I am very concerned about is that many still don’t see value in being skilled in CSS &amp;amp; HTML. This attitude is something I just don’t understand. All of us working together provide value in our industry. HTML &amp;amp; CSS are very important pieces of this puzzle, and I (perhaps naively) thought we had evolved to a point where we were starting to appreciate the challenges each of us face in our different areas of expertise. I guess I was wrong because this attitude is still clearly still prevalent.&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/link/is-there-any-value-in-people-who-cannot-write-javascript/"/>
    <published>2017-09-14T21:02:09.000Z</published>
  </entry>
  <entry>
    <title>My Big Numbers talk at Festivaletteratura | Shtetl-Optimized</title>
    <content type="html">&lt;p&gt;Last weekend, I gave a talk on big numbers, as well as a Q&amp;amp;A about quantum computing, at &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.festivaletteratura.it&#x2F;en&quot;&gt;Festivaletteratura&lt;&#x2F;a&gt;: one of the main European literary festivals, held every year in beautiful and historic &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Mantua&quot;&gt;Mantua&lt;&#x2F;a&gt;, Italy.  (For those who didn’t know, as I didn’t: this is the city where Virgil was born, and where Romeo gets banished in &lt;em&gt;Romeo and Juliet&lt;&#x2F;em&gt;.  Its layout hasn’t substantially changed since the Middle Ages.)&lt;&#x2F;p&gt;
&lt;p&gt;I don’t know how much big numbers or quantum computing have to do with literature, but I relished the challenge of explaining these things to an audience that was not merely “popular” but humanisitically rather than scientifically inclined.  In this case, there was not only a math barrier, but &lt;em&gt;also&lt;&#x2F;em&gt; a language barrier, as the festival was mostly in Italian and only some of the attendees knew English, to varying degrees.  The quantum computing session was live-translated into Italian (the challenge faced by the translator in not mangling this material provided a lot of free humor), but the big numbers talk wasn’t.  What’s more, the talk was held outdoors, on the steps of a cathedral, with tons of background noise, including a bell that loudly chimed halfway through the talk.  So if my own words weren’t simple and clear, forget it.&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, in the rest of this post, I’ll share a writeup of my big numbers talk.  The talk has substantial overlap with my “classic” &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.scottaaronson.com&#x2F;writings&#x2F;bignumbers.html&quot;&gt;Who Can Name The Bigger Number?&lt;&#x2F;a&gt; essay from 1999.  While I don’t mean to supersede or displace that essay, the truth is that I think and write somewhat differently than I did as a teenager (whuda thunk?), and I wanted to give Scott2017 a crack at material that Scott1999 has been over already.  If nothing else, the new version is more up-to-date and less self-indulgent, and it includes points (for example, the relation between ordinal generalizations of the Busy Beaver function and the axioms of set theory) that I didn’t understand back in 1999.&lt;&#x2F;p&gt;
&lt;p&gt;For regular readers of this blog, I don’t know how much will be new here.  But if you’re one of those people who keeps introducing themselves at social events by saying “I really love your blog, Scott, even though I don’t understand anything that’s in it”—something that’s always a bit awkward for me, because, uh, thanks, I guess, but what am I supposed to say next?—then &lt;strong&gt;this lecture is for you&lt;&#x2F;strong&gt;.  I hope you’ll read it and understand it.&lt;&#x2F;p&gt;
&lt;p&gt;Thanks so much to Festivaletteratura organizer Matteo Polettini for inviting me, and to Fabrizio Illuminati for moderating the Q&amp;amp;A.  I had a wonderful time in Mantua, although I confess there’s something about being Italian that I don’t understand.  Namely: how do you derive any pleasure from international travel, if anywhere you go, the pizza, pasta, bread, cheese, ice cream, coffee, architecture, scenery, historical sights, and &lt;em&gt;pretty much everything else&lt;&#x2F;em&gt; all fall short of what you’re used to?&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;&lt;strong&gt;Big Numbers&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;by Scott Aaronson&lt;br &#x2F;&gt;
Sept. 9, 2017&lt;&#x2F;p&gt;
&lt;p&gt;My four-year-old daughter sometimes comes to me and says something like: “daddy, I think I &lt;em&gt;finally&lt;&#x2F;em&gt; figured out what the biggest number is!  Is it a million million million million million million million million thousand thousand thousand hundred hundred hundred hundred twenty eighty ninety eighty thirty a million?”&lt;&#x2F;p&gt;
&lt;p&gt;So I reply, “I’m not even sure exactly what number you named—but whatever it is, why not that number plus one?”&lt;&#x2F;p&gt;
&lt;p&gt;“Oh yeah,” she says.  “So is &lt;em&gt;that&lt;&#x2F;em&gt; the biggest number?”&lt;&#x2F;p&gt;
&lt;p&gt;Of course there’s no biggest number, but it’s natural to wonder what are the biggest numbers we can name in a reasonable amount of time.  Can I have two volunteers from the audience—ideally, two kids who like math?&lt;&#x2F;p&gt;
&lt;p&gt;[Two kids eventually come up.  I draw a line down the middle of the blackboard, and place one kid on each side of it, each with a piece of chalk.]&lt;&#x2F;p&gt;
&lt;p&gt;So the game is, you each have ten seconds to write down the biggest number you can.  You can’t write anything like “the other person’s number plus 1,” and you also can’t write infinity—it has to be finite.  But other than that, you can write basically anything you want, as long as I’m able to understand exactly what number you’ve named.  [These instructions are translated into Italian for the kids.]&lt;&#x2F;p&gt;
&lt;p&gt;Are you ready?  On your mark, get set, GO!&lt;&#x2F;p&gt;
&lt;p&gt;[The kid on the left writes something like: 999999999&lt;&#x2F;p&gt;
&lt;p&gt;While the kid on the right writes something like: 11111111111111111&lt;&#x2F;p&gt;
&lt;p&gt;Looking at these, I comment:]&lt;&#x2F;p&gt;
&lt;p&gt;9 is bigger than 1, but 1 is a bit faster to write, and as you can see that makes the difference here!  OK, let’s give our volunteers a round of applause.&lt;&#x2F;p&gt;
&lt;p&gt;[I didn’t plant the kids, but if I had, I couldn’t have designed a better jumping-off point.]&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;I’ve been fascinated by how to name huge numbers since I was a kid myself.  When I was a teenager, I even wrote an essay on the subject, called &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.scottaaronson.com&#x2F;writings&#x2F;bignumbers.html&quot;&gt;Who Can Name the Bigger Number?&lt;&#x2F;a&gt;  That essay might &lt;em&gt;still&lt;&#x2F;em&gt; get more views than any of the research I’ve done in all the years since!  I don’t know whether to be happy or sad about that.&lt;&#x2F;p&gt;
&lt;p&gt;I think the reason the essay remains so popular, is that it shows up on Google whenever someone types something like “what is the biggest number?”  Some of you might know that Google itself was named after the huge number called a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Googol&quot;&gt;googol&lt;&#x2F;a&gt;: 10100, or 1 followed by a hundred zeroes.&lt;&#x2F;p&gt;
&lt;p&gt;Of course, a googol isn’t even close to the biggest number we can name.  For starters, there’s a googolplex, which is 1 followed by a googol zeroes.  Then there’s a googolplexplex, which is 1 followed by a googolplex zeroes, and a googolplexplexplex, and so on.  But one of the most basic lessons you’ll learn in this talk is that, when it comes to naming big numbers, whenever you find yourself just repeating the same operation over and over and over, it’s time to step back, and look for something new to do that transcends everything you were doing previously.  (Applications to everyday life left as exercises for the listener.)&lt;&#x2F;p&gt;
&lt;p&gt;One of the first people to think about systems for naming huge numbers was Archimedes, who was Greek but lived in what’s now Italy (specifically Syracuse, Sicily) in the 200s BC.  Archimedes wrote a sort of pop-science article—possibly history’s &lt;em&gt;first&lt;&#x2F;em&gt; pop-science article—called &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;euclid.trentu.ca&#x2F;math&#x2F;sb&#x2F;3810H&#x2F;Fall-2009&#x2F;The-Sand-Reckoner.pdf&quot;&gt;The Sand-Reckoner&lt;&#x2F;a&gt;.  In this remarkable piece, which was addressed to the King of Syracuse, Archimedes sets out to calculate an upper bound on the number of grains of sand needed to fill the entire universe, or at least the universe as known in antiquity.  He thereby seeks to refute people who use “the number of sand grains” as a shorthand for uncountability and unknowability.&lt;&#x2F;p&gt;
&lt;p&gt;Of course, Archimedes was just guessing about the size of the universe, though he &lt;em&gt;did&lt;&#x2F;em&gt; use the best astronomy available in his time—namely, the work of Aristarchus, who anticipated Copernicus.  Besides estimates for the size of the universe and of a sand grain, the other thing Archimedes needed was a way to name arbitrarily large numbers.  Since he didn’t have Arabic numerals or scientific notation, his system was basically just to compose the word “myriad” (which means 10,000) into bigger and bigger chunks: a “myriad myriad” gets its own name, a “myriad myriad myriad” gets another, and so on.  Using this system, Archimedes estimated that ~1063 sand grains would suffice to fill the universe.  Ancient Hindu mathematicians were able to name similarly large numbers using similar notations.  In some sense, the next really fundamental advances in naming big numbers wouldn’t occur until the 20th century.&lt;&#x2F;p&gt;
&lt;p&gt;We’ll come to those advances, but before we do, I’d like to discuss another question that motivated Archimedes’ essay: namely, what are the biggest numbers &lt;em&gt;relevant to the physical world&lt;&#x2F;em&gt;?&lt;&#x2F;p&gt;
&lt;p&gt;For starters, how many atoms are in a human body?  Anyone have a guess?  About 1028.  (If you remember from high-school chemistry that a “mole” is 6×1023, this is not hard to ballpark.)&lt;&#x2F;p&gt;
&lt;p&gt;How many stars are in our galaxy?  Estimates vary, but let’s say a few hundred billion.&lt;&#x2F;p&gt;
&lt;p&gt;How many stars are in the entire observable universe?  Something like 1023.&lt;&#x2F;p&gt;
&lt;p&gt;How many &lt;em&gt;subatomic particles&lt;&#x2F;em&gt; are in the observable universe?  No one knows for sure—for one thing, because we don’t know what the dark matter is made of—but 1090 is a reasonable estimate.&lt;&#x2F;p&gt;
&lt;p&gt;Some of you might be wondering: but for all anyone knows, couldn’t the universe be infinite?  Couldn’t it have &lt;em&gt;infinitely&lt;&#x2F;em&gt; many stars and particles?  The answer to that is interesting: indeed, no one knows whether space goes on forever or curves back on itself, like the surface of the earth.  But because of the dark energy, discovered in 1998, it seems likely that even if space is infinite, we can only ever see a finite part of it.  The dark energy is a force that pushes the galaxies apart.  The further away they are from us, the faster they’re receding—with galaxies far enough away from us receding &lt;em&gt;faster than light&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Right now, we can see the light from galaxies that are up to about 45 billion light-years away.  (Why 45 billion light-years, you ask, if the universe itself is “only” 13.6 billion years old?  Well, when the galaxies emitted the light, they were a lot closer to us than they are now!  The universe expanded in the meantime.)  If, as seems likely, the dark energy has the form of a cosmological constant, then there’s a somewhat further horizon, such that it’s not just that the galaxies beyond that can’t be seen by us right now—it’s that they can &lt;em&gt;never&lt;&#x2F;em&gt; be seen.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;In practice, many big numbers come from the phenomenon of exponential growth.  Here’s a graph showing the three functions n, n2, and 2n:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.scottaaronson.com&#x2F;expgrowth.gif&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The difference is, n and even n2 grow in a more-or-less manageable way, but 2n just shoots up off the screen.  The shooting-up has real-life consequences—indeed, more important consequences than just about any other mathematical fact one can think of.&lt;&#x2F;p&gt;
&lt;p&gt;The current human population is about 7.5 billion (when I was a kid, it was more like 5 billion).  Right now, the population is doubling about once every 64 years.  If it continues to double at that rate, and humans don’t colonize other worlds, then you can calculate that, less than 3000 years from now, the entire earth, all the way down to the core, will be made of human flesh.  I hope the people use deodorant!&lt;&#x2F;p&gt;
&lt;p&gt;Nuclear chain reactions are a second example of exponential growth: one uranium or plutonium nucleus fissions and emits neutrons that cause, let’s say, two other nuclei to fission, which then cause &lt;em&gt;four&lt;&#x2F;em&gt; nuclei to fission, then 8, 16, 32, and so on, until boom, you’ve got your nuclear weapon (or your nuclear reactor, if you do something to slow the process down).  A third example is compound interest, as with your bank account, or for that matter an entire country’s GDP.  A fourth example is Moore’s Law, which is the thing that said that the number of components in a microprocessor doubled every 18 months (with other metrics, like memory, processing speed, etc., on similar exponential trajectories).  Here at Festivaletteratura, there’s a “Hack Space,” where you can see state-of-the-art Olivetti personal computers from around 1980: huge desk-sized machines with maybe 16K of usable RAM.  Moore’s Law is the thing that took us from those (and the even bigger, weaker computers before them) to the smartphone that’s in your pocket.&lt;&#x2F;p&gt;
&lt;p&gt;However, a general rule is that &lt;em&gt;any time we encounter exponential growth in our observed universe, it can’t last for long&lt;&#x2F;em&gt;.  It &lt;em&gt;will&lt;&#x2F;em&gt; stop, if not before then when it runs out of whatever resource it needs to continue: for example, food or land in the case of people, fuel in the case of a nuclear reaction.  OK, but what about Moore’s Law: what physical constraint will stop &lt;em&gt;it&lt;&#x2F;em&gt;?&lt;&#x2F;p&gt;
&lt;p&gt;By some definitions, Moore’s Law has &lt;em&gt;already&lt;&#x2F;em&gt; stopped: computers aren’t getting that much faster in terms of clock speed; they’re mostly just getting more and more parallel, with more and more cores on a chip.  And it’s easy to see why: the speed of light is finite, which means the speed of a computer will always be limited by the size of its components.  And transistors are now just 15 nanometers across; a couple orders of magnitude smaller and you’ll be dealing with individual atoms.  And unless we leap really far into science fiction, it’s hard to imagine building a transistor smaller than one atom across!&lt;&#x2F;p&gt;
&lt;p&gt;OK, but what if we &lt;em&gt;do&lt;&#x2F;em&gt; leap really far into science fiction?  Forget about engineering difficulties: is there any fundamental principle of &lt;em&gt;physics&lt;&#x2F;em&gt; that prevents us from making components smaller and smaller, and thereby making our computers faster and faster, without limit?&lt;&#x2F;p&gt;
&lt;p&gt;While no one has tested this directly, it appears from current physics that there &lt;em&gt;is&lt;&#x2F;em&gt; a fundamental limit to speed, and that it’s about 1043 operations per second, or one operation per Planck time.  Likewise, it appears that there’s a fundamental limit to the density with which information can be stored, and that it’s about 1069 bits per square meter, or one bit per Planck area. (Surprisingly, the latter limit scales only with the surface area of a region, not with its volume.)&lt;&#x2F;p&gt;
&lt;p&gt;What would happen if you tried to build a faster computer than that, or a denser hard drive?  The answer is: cycling through that many different states per second, or storing that many bits, would involve concentrating so much &lt;em&gt;energy&lt;&#x2F;em&gt; in so small a region, that the region would exceed what’s called its Schwarzschild radius.  If you don’t know what that means, it’s just a fancy way of saying that your computer would collapse to a black hole.  I’ve always liked that as Nature’s way of telling you not to do something!&lt;&#x2F;p&gt;
&lt;p&gt;Note that, on the modern view, a black hole &lt;em&gt;itself&lt;&#x2F;em&gt; is not only the densest possible object allowed by physics, but also the most efficient possible hard drive, storing ~1069 bits per square meter of its event horizon—though the bits are not so easy to retrieve! It’s also, in a certain sense, the fastest possible computer, since it really &lt;i&gt;does&lt;&#x2F;i&gt; cycle through 1043 states per second—though it might not be computing anything that anyone would care about.&lt;&#x2F;p&gt;
&lt;p&gt;We can also combine these fundamental limits on computer speed and storage capacity, with the limits that I mentioned earlier on the size of the observable universe, which come from the cosmological constant.  If we do so, we get an upper bound of ~10122 on the number of bits that can ever be involved in &lt;em&gt;any&lt;&#x2F;em&gt; computation in our world, no matter how large: if we tried to do a bigger computation than that, the far parts of it would be receding away from us faster than the speed of light.  In some sense, this 10122 is the most fundamental number that sets the scale of our universe: on the current conception of physics, everything you’ve ever seen or done, or will see or will do, can be represented by a sequence of at most 10122 ones and zeroes.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;Having said that, in math, computer science, and many other fields (including physics itself), many of us meet bigger numbers than 10122 dozens of times before breakfast! How so? Mostly because we choose to ask, not about the number of &lt;i&gt;things that are&lt;&#x2F;i&gt;, but about the number of possible &lt;i&gt;ways they could be&lt;&#x2F;i&gt;—not about the size of ordinary 3-dimensional space, but the sizes of abstract spaces of possible configurations. And the latter are subject to exponential growth, continuing way beyond 10122.&lt;&#x2F;p&gt;
&lt;p&gt;As an example, let’s ask: how many different novels could possibly be written (say, at most 400 pages long, with a normal-size font, yadda yadda)? Well, we could get a lower bound on the number just by walking around here at Festivaletteratura, but the number that &lt;i&gt;could&lt;&#x2F;i&gt; be written certainly far exceeds the number that have been written or ever will be. This was the subject of Jorge Luis Borges’ famous story &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.arts.ucsb.edu&#x2F;faculty&#x2F;reese&#x2F;classes&#x2F;artistsbooks&#x2F;The%20Library%20of%20Babel.pdf&quot;&gt;The Library of Babel&lt;&#x2F;a&gt;, which imagined an immense library containing every book that could possibly be written up to a certain length. Of course, the vast majority of the books are filled with meaningless nonsense, but among their number one can find all the great works of literature, books predicting the future of humanity in perfect detail, books predicting the future except with a single error, etc. etc. etc.&lt;&#x2F;p&gt;
&lt;p&gt;To get more quantitative, let’s simply ask: how many different ways are there to fill the &lt;em&gt;first page&lt;&#x2F;em&gt; of a novel?  Let’s go ahead and assume that the page is filled with intelligible (or at least grammatical) English text, rather than arbitrary sequences of symbols, at a standard font size and page size.  In that case, using standard estimates for the entropy (i.e., compressibility) of English, I estimated this morning that there are maybe ~10700 possibilities.  So, forget about the rest of the novel: there are astronomically more possible &lt;em&gt;first pages&lt;&#x2F;em&gt; than could fit in the observable universe!&lt;&#x2F;p&gt;
&lt;p&gt;We could likewise ask: how many chess games could be played?  I’ve seen estimates from 1040 up to 10120, depending on whether we count only “sensible” games or also “absurd” ones (though in all cases, with a limit on the length of the game as might occur in a real competition). For Go, by contrast, which is played on a larger board (19×19 rather than 8×8) the estimates for the number of possible games seem to start at 10800 and only increase from there. This difference in magnitudes has &lt;i&gt;something&lt;&#x2F;i&gt; to do with why Go is a “harder” game than chess, why computers were able to beat the world chess champion already in 1997, but the world Go champion not until last year.&lt;&#x2F;p&gt;
&lt;p&gt;Or we could ask: given a thousand cities, how many routes are there for a salesman that visit each city exactly once? We write the answer as 1000!, pronounced “1000 factorial,” which just means 1000×999×998×…×2×1: there are 1000 choices for the first city, then 999 for the second city, 998 for the third, and so on.  This number is about 4×102567.  So again, more possible routes than atoms in the visible universe, yadda yadda.&lt;&#x2F;p&gt;
&lt;p&gt;But suppose the salesman is interested only in the &lt;em&gt;shortest&lt;&#x2F;em&gt; route that visits each city, given the distance between every city and every other.  We could then ask: to find that shortest route, would a computer need to search exhaustively through all 1000! possibilities—or, maybe not all 1000!, maybe it could be a bit more clever than that, but at any rate, a number that grew exponentially with the number of cities n?  Or could there be an algorithm that zeroed in on the shortest route dramatically faster: say, using a number of steps that grew only linearly or quadratically with the number of cities?&lt;&#x2F;p&gt;
&lt;p&gt;This, modulo a few details, is one of the most famous unsolved problems in all of math and science.  You may have heard of it; it’s called P versus NP.  P (Polynomial-Time) is the class of problems that an ordinary digital computer can solve in a “reasonable” amount of time, where we define “reasonable” to mean, growing at most like the size of the problem (for example, the number of cities) raised to some fixed power.  NP (Nondeterministic Polynomial-Time) is the class for which a computer can at least &lt;em&gt;recognize&lt;&#x2F;em&gt; a solution in polynomial-time.  If P&#x3D;NP, it would mean that for every combinatorial problem of this sort, for which a computer could recognize a valid solution—Sudoku puzzles, scheduling airline flights, fitting boxes into the trunk of a car, etc. etc.—there would be an algorithm that cut through the combinatorial explosion of possible solutions, and zeroed in on the best one.  If P≠NP, it would mean that at least some problems of this kind required astronomical time, regardless of how cleverly we programmed our computers.&lt;&#x2F;p&gt;
&lt;p&gt;Most of us believe that P≠NP—indeed, I like to say that if we were physicists, we would’ve simply declared P≠NP a “law of nature,” and given ourselves Nobel Prizes for the discovery of the law!  And if it turned out that P&#x3D;NP, we’d just give ourselves more Nobel Prizes for the law’s overthrow.  But because we’re mathematicians and computer scientists, we call it a “conjecture.”&lt;&#x2F;p&gt;
&lt;p&gt;Another famous example of an NP problem is: I give you (say) a 2000-digit number, and I ask you to find its prime factors.  Multiplying two thousand-digit numbers is easy, at least for a computer, but factoring the product back into primes &lt;em&gt;seems&lt;&#x2F;em&gt; astronomically hard—at least, with our present-day computers running any known algorithm.  Why does anyone care?  Well, you might know that, any time you order something online—in fact, every time you see a little padlock icon in your web browser—your personal information, like (say) your credit card number, is being protected by a cryptographic code that depends on the belief that factoring huge numbers is hard, or a few closely-related beliefs.  If P&#x3D;NP, then those beliefs would be false, and indeed &lt;em&gt;all&lt;&#x2F;em&gt; cryptography that depends on hard math problems would be breakable in “reasonable” amounts of time.&lt;&#x2F;p&gt;
&lt;p&gt;In the special case of factoring, though—and of the other number theory problems that underlie modern cryptography—it wouldn’t even take anything as shocking as P&#x3D;NP for them to fall.  Actually, that provides a good segue into another case where exponentials, and numbers vastly larger than 10122, regularly arise in the real world: quantum mechanics.&lt;&#x2F;p&gt;
&lt;p&gt;Some of you might have heard that quantum mechanics is complicated or hard.  But I can let you in on a secret, which is that it’s incredibly simple once you take the physics out of it!  Indeed, I think of quantum mechanics as not exactly even “physics,” but more like an operating system that the rest of physics runs on as application programs.  It’s a certain generalization of the rules of probability.  In one sentence, the central thing quantum mechanics says is that, to fully describe a physical system, you have to assign a number called an “amplitude” to every &lt;em&gt;possible&lt;&#x2F;em&gt; configuration that the system could be found in.  These amplitudes are used to calculate the probabilities that the system will be found in one configuration or another if you look at it.  But the amplitudes aren’t themselves probabilities: rather than just going from 0 to 1, they can be positive or negative or even complex numbers.&lt;&#x2F;p&gt;
&lt;p&gt;For us, the key point is that, if we have a system with (say) a thousand interacting particles, then the rules of quantum mechanics say we need at least 21000 amplitudes to describe it—which is way more than we could write down on pieces of paper filling the entire observable universe!  In some sense, chemists and physicists knew about this immensity since 1926.  But they knew it mainly as a practical problem: if you’re trying to simulate quantum mechanics on a conventional computer, then as far as we know, the resources needed to do so increase exponentially with the number of particles being simulated.  Only in the 1980s did a few physicists, such as Richard Feynman and David Deutsch, suggest “turning the lemon into lemonade,” and building computers that &lt;em&gt;themselves&lt;&#x2F;em&gt; would exploit the exponential growth of amplitudes.  Supposing we built such a computer, what would it be good for?  At the time, the only obvious application was simulating quantum mechanics itself!  And that’s probably &lt;em&gt;still&lt;&#x2F;em&gt; the most important application today.&lt;&#x2F;p&gt;
&lt;p&gt;In 1994, though, a guy named Peter Shor made a discovery that dramatically increased the level of interest in quantum computers.  That discovery was that a quantum computer, if built, could factor an n-digit number using a number of steps that grows only like about n2, rather than exponentially with n.  The upshot is that, if and when practical quantum computers are built, they’ll be able to break almost all the cryptography that’s currently used to secure the Internet.&lt;&#x2F;p&gt;
&lt;p&gt;(Right now, only small quantum computers have been built; the record for using Shor’s algorithm is still to factor 21 into 3×7 with high statistical confidence!  But Google is planning within the next year or so to build a chip with 49 quantum bits, or qubits, and other groups around the world are pursuing parallel efforts.  Almost certainly, 49 qubits still won’t be enough to do anything &lt;em&gt;useful&lt;&#x2F;em&gt;, including codebreaking, but it might be enough to do something &lt;em&gt;classically hard&lt;&#x2F;em&gt;, in the sense of taking at least ~249 or 563 trillion steps to simulate classically.)&lt;&#x2F;p&gt;
&lt;p&gt;I should stress, though, that for &lt;em&gt;other&lt;&#x2F;em&gt; NP problems—including breaking various other cryptographic codes, and solving the Traveling Salesman Problem, Sudoku, and the other combinatorial problems mentioned earlier—we don’t know any quantum algorithm analogous to Shor’s factoring algorithm.  For these problems, we generally think that a quantum computer could solve them in roughly the &lt;em&gt;square root&lt;&#x2F;em&gt; of the number of steps that would be needed classically, because of another famous quantum algorithm called Grover’s algorithm.  But getting an &lt;em&gt;exponential&lt;&#x2F;em&gt; quantum speedup for these problems would, at the least, require an additional breakthrough.  No one has proved that such a breakthrough in quantum algorithms is impossible: indeed, no one has proved that it’s impossible even for &lt;em&gt;classical&lt;&#x2F;em&gt; algorithms; that’s the P vs. NP question!  But most of us regard it as unlikely.&lt;&#x2F;p&gt;
&lt;p&gt;If we’re right, then the upshot is that quantum computers are not magic bullets: they might yield dramatic speedups for certain special problems (like factoring), but they won’t tame the curse of exponentiality, cut through to the optimal solution, every time we encounter a Library-of-Babel-like profusion of possibilities.  For (say) the Traveling Salesman Problem with a thousand cities, even a quantum computer—which is the most powerful kind of computer rooted in known laws of physics—might, for all we know, take longer than the age of the universe to find the shortest route.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;The truth is, though, the biggest numbers that show up in math are &lt;em&gt;way&lt;&#x2F;em&gt; bigger than anything we’ve discussed until now: bigger than 10122, or even&lt;&#x2F;p&gt;
&lt;p&gt;$$ 2^{10^{122}}, $$&lt;&#x2F;p&gt;
&lt;p&gt;which is a rough estimate for the number of quantum-mechanical amplitudes needed to describe our observable universe.&lt;&#x2F;p&gt;
&lt;p&gt;For starters, there’s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Skewes%27_number&quot;&gt;Skewes’ number&lt;&#x2F;a&gt;, which the mathematician G. H. Hardy once called “the largest number which has ever served any definite purpose in mathematics.”  Let π(x) be the number of prime numbers up to x: for example, π(10)&#x3D;4, since we have 2, 3, 5, and 7.  Then there’s a certain estimate for π(x) called li(x).  It’s known that li(x) overestimates π(x) for an enormous range of x’s (up to trillions and beyond)—but then at some point, it crosses over and starts underestimating π(x) (then overestimates again, then underestimates, and so on).  Skewes’ number is an upper bound on the location of the first such crossover point.  In 1955, Skewes proved that the first crossover must happen before&lt;&#x2F;p&gt;
&lt;p&gt;$$ x &#x3D; 10^{10^{10^{964}}}. $$&lt;&#x2F;p&gt;
&lt;p&gt;Note that this bound has since been substantially improved, to 1.4×10316.  But no matter: there are numbers vastly bigger even than Skewes’ original estimate, which have since shown up in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Ramsey_theory&quot;&gt;Ramsey theory&lt;&#x2F;a&gt; and other parts of logic and combinatorics to take Skewes’ number’s place.&lt;&#x2F;p&gt;
&lt;p&gt;Alas, I won’t have time here to delve into specific (beautiful) examples of such numbers, such as &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Graham%27s_number&quot;&gt;Graham’s number&lt;&#x2F;a&gt;.  So in lieu of that, let me just tell you about the sorts of processes, going far beyond exponentiation, that tend to yield such numbers.&lt;&#x2F;p&gt;
&lt;p&gt;The starting point is to remember a sequence of operations we all learn about in elementary school, and then ask why the sequence suddenly and inexplicably stops.&lt;&#x2F;p&gt;
&lt;p&gt;As long as we’re only talking about positive integers, “multiplication” just means “repeated addition.”  For example, 5×3 means 5 added to itself 3 times, or 5+5+5.&lt;&#x2F;p&gt;
&lt;p&gt;Likewise, “exponentiation” just means “repeated multiplication.”  For example, 53 means 5×5×5.&lt;&#x2F;p&gt;
&lt;p&gt;But what’s repeated exponentiation?  For that we introduce a new operation, which we call &lt;em&gt;tetration&lt;&#x2F;em&gt;, and write like so: 35 means 5 raised to itself 3 times, or&lt;&#x2F;p&gt;
&lt;p&gt;$$ ^{3} 5 &#x3D; 5^{5^5} &#x3D; 5^{3125} \approx 1.9 \times 10^{2184}. $$&lt;&#x2F;p&gt;
&lt;p&gt;But we can keep going. Let x &lt;em&gt;pentated&lt;&#x2F;em&gt; to the y, or xPy, mean x tetrated to itself y times.  Let x &lt;em&gt;sextated&lt;&#x2F;em&gt; to the y, or xSy, mean x pentated to itself y times, and so on.&lt;&#x2F;p&gt;
&lt;p&gt;Then we can define the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Ackermann_function&quot;&gt;Ackermann function&lt;&#x2F;a&gt;, invented by the mathematician Wilhelm Ackermann in 1928, which cuts across &lt;em&gt;all&lt;&#x2F;em&gt; these operations to get more rapid growth than we could with any one of them alone.  In terms of the operations above, we can give a slightly nonstandard, but perfectly serviceable, definition of the Ackermann function as follows:&lt;&#x2F;p&gt;
&lt;p&gt;A(1) is 1+1&#x3D;2.&lt;&#x2F;p&gt;
&lt;p&gt;A(2) is 2×2&#x3D;4.&lt;&#x2F;p&gt;
&lt;p&gt;A(3) is 3 to the 3rd power, or 33&#x3D;27.&lt;&#x2F;p&gt;
&lt;p&gt;Not very impressive so far!  But wait…&lt;&#x2F;p&gt;
&lt;p&gt;A(4) is 4 tetrated to the 4, or&lt;&#x2F;p&gt;
&lt;p&gt;$$ ^{4}4 &#x3D; 4^{4^{4^4}} &#x3D; 4^{4^{256}} &#x3D; BIG $$&lt;&#x2F;p&gt;
&lt;p&gt;A(5) is 5 pentated to the 5, which I won’t even &lt;em&gt;try&lt;&#x2F;em&gt; to simplify.  A(6) is 6 sextated to the 6.  And so on.&lt;&#x2F;p&gt;
&lt;p&gt;More than just a curiosity, the Ackermann function actually shows up sometimes in math and theoretical computer science.  For example, the &lt;em&gt;inverse&lt;&#x2F;em&gt; Ackermann function—a function α such that α(A(n))&#x3D;n, which therefore grows as slowly as the Ackermann function grows quickly, and which is at most 4 for any n that would ever arise in the physical universe—sometimes appears in the running times of real-world algorithms.&lt;&#x2F;p&gt;
&lt;p&gt;In the meantime, though, the Ackermann function also has a more immediate application.  Next time you find yourself in a biggest-number contest, like the one with which we opened this talk, you can just write A(1000), or even A(A(1000)) (after specifying that A means the Ackermann function above).  You’ll win—&lt;em&gt;period&lt;&#x2F;em&gt;—unless your opponent has also heard of something Ackermann-like or beyond.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;OK, but Ackermann is very far from the end of the story.  If we want to go incomprehensibly beyond it, the starting point is the so-called &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Berry_paradox&quot;&gt;“Berry Paradox”&lt;&#x2F;a&gt;, which was first described by Bertrand Russell, though he said he learned it from a librarian named Berry.  The Berry Paradox asks us to imagine leaping past exponentials, the Ackermann function, and every other particular system for naming huge numbers.  Instead, why not just go straight for a single gambit that seems to beat everything else:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;The biggest number that can be specified using a hundred English words or fewer&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Why is this called a paradox?  Well, do any of you see the problem here?&lt;&#x2F;p&gt;
&lt;p&gt;Right: if the above made sense, then we could just as well have written&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Twice the biggest number that can be specified using a hundred English words or fewer&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;But &lt;em&gt;we just specified that number&lt;&#x2F;em&gt;—one that, by definition, takes more than a hundred words to specify—using far fewer than a hundred words!  Whoa.  What gives?&lt;&#x2F;p&gt;
&lt;p&gt;Most logicians would say the resolution of this paradox is simply that the concept of “specifying a number with English words” isn’t precisely defined, so phrases like the ones above don’t actually name definite numbers.  And how do we know that the concept isn’t precisely defined?  Why, because if it was, then it would lead to paradoxes like the Berry Paradox!&lt;&#x2F;p&gt;
&lt;p&gt;So if we want to escape the jaws of logical contradiction, then in this gambit, we ought to replace English by a clear, logical language: one that can be used to specify numbers in a completely unambiguous way.  Like … oh, I know!  Why not write:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;The biggest number that can be specified using a computer program that’s at most 1000 bytes long&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;To make this work, there are just two issues we need to get out of the way.  First, what does it mean to “specify” a number using a computer program?  There are different things it could mean, but for concreteness, let’s say a computer program specifies a number N if, when you run it (with no input), the program runs for exactly N steps and then stops.  A program that runs forever doesn’t specify any number.&lt;&#x2F;p&gt;
&lt;p&gt;The second issue is, which programming language do we have in mind: BASIC? C? Python?  The answer is that it won’t much matter!  The &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Church%E2%80%93Turing_thesis&quot;&gt;Church-Turing Thesis&lt;&#x2F;a&gt;, one of the foundational ideas of computer science, implies that every “reasonable” programming language can emulate every other one.  So the story here can be repeated with just about any programming language of your choice.  For concreteness, though, we’ll pick one of the first and simplest programming languages, namely “Turing machine”—the language invented by Alan Turing all the way back in 1936!&lt;&#x2F;p&gt;
&lt;p&gt;In the Turing machine language, we imagine a one-dimensional tape divided into squares, extending infinitely in both directions, and with all squares initially containing a “0.”  There’s also a tape head with n “internal states,” moving back and forth on the tape.  Each internal state contains an instruction, and the only allowed instructions are: write a “0” in the current square, write a “1” in the current square, move one square left on the tape, move one square right on the tape, jump to a different internal state, halt, and do any of the previous conditional on whether the current square contains a “0” or a “1.”&lt;&#x2F;p&gt;
&lt;p&gt;Using Turing machines, in 1962 the mathematician Tibor Radó invented the so-called &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Busy_beaver&quot;&gt;Busy Beaver function&lt;&#x2F;a&gt;, or BB(n), which allowed naming &lt;em&gt;by far&lt;&#x2F;em&gt; the largest numbers anyone had yet named.  BB(n) is defined as follows: consider all Turing machines with n internal states.  Some of those machines run forever, when started on an all-0 input tape.  Discard them.  Among the ones that eventually halt, there must be some machine that runs for a maximum number of steps before halting.  However many steps that is, that’s what we call BB(n), the nth Busy Beaver number.&lt;&#x2F;p&gt;
&lt;p&gt;The first few values of the Busy Beaver function have actually been calculated, so let’s see them.&lt;&#x2F;p&gt;
&lt;p&gt;BB(1) is 1.  For a 1-state Turing machine on an all-0 tape, the choices are limited: either you halt in the very first step, or else you run forever.&lt;&#x2F;p&gt;
&lt;p&gt;BB(2) is 6, as isn’t &lt;em&gt;too&lt;&#x2F;em&gt; hard to verify by trying things out with pen and paper.&lt;&#x2F;p&gt;
&lt;p&gt;BB(3) is 21: that determination was already a research paper.&lt;&#x2F;p&gt;
&lt;p&gt;BB(4) is 107 (another research paper).&lt;&#x2F;p&gt;
&lt;p&gt;Much like with the Ackermann function, not very impressive yet!  But wait:&lt;&#x2F;p&gt;
&lt;p&gt;BB(5) is not yet known, but it’s known to be at least 47,176,870.&lt;&#x2F;p&gt;
&lt;p&gt;BB(6) is at least 7.4×1036,534.&lt;&#x2F;p&gt;
&lt;p&gt;BB(7) is at least&lt;&#x2F;p&gt;
&lt;p&gt;$$ 10^{10^{10^{10^{18,000,000}}}}. $$&lt;&#x2F;p&gt;
&lt;p&gt;Clearly we’re dealing with a monster here, but can we understand just how terrifying of a monster?  Well, call a sequence f(1), f(2), … &lt;em&gt;computable&lt;&#x2F;em&gt;, if there’s some computer program that takes n as input, runs for a finite time, then halts with f(n) as its output.  To illustrate, f(n)&#x3D;n2, f(n)&#x3D;2n, and even the Ackermann function that we saw before are all computable.&lt;&#x2F;p&gt;
&lt;p&gt;But I claim that the Busy Beaver function grows faster than &lt;em&gt;any&lt;&#x2F;em&gt; computable function.  Since this talk should have at least &lt;em&gt;some&lt;&#x2F;em&gt; math in it, let’s see a proof of that claim.&lt;&#x2F;p&gt;
&lt;p&gt;Maybe the nicest way to see it is this: suppose, to the contrary, that there were a computable function f that grew at least as fast as the Busy Beaver function.  Then by using that f, we could take the Berry Paradox from before, and turn it into an &lt;em&gt;actual&lt;&#x2F;em&gt; contradiction in mathematics!  So for example, suppose the program to compute f were a thousand bytes long.  Then we could write another program, not much longer than a thousand bytes, to run for (say) 2×f(1000000) steps: that program would just need to include a subroutine for f, plus a little extra code to feed that subroutine the input 1000000, and then to run for 2×f(1000000) steps.  But by assumption, f(1000000) is at least the maximum number of steps that any program up to a million bytes long can run for—even though we just wrote a program, less than a million bytes long, that ran for more steps!  This gives us our contradiction.  The only possible conclusion is that the function f, and the program to compute it, couldn’t have existed in the first place.&lt;&#x2F;p&gt;
&lt;p&gt;(As an alternative, rather than arguing by contradiction, one could simply start with any computable function f, and then build programs that compute f(n) for various “hardwired” values of n, in order to show that BB(n) must grow at least as rapidly as f(n).  Or, for yet a third proof, one can argue that, if any upper bound on the BB function were computable, then one could use that to solve the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Halting_problem&quot;&gt;halting problem&lt;&#x2F;a&gt;, which Turing famously showed to be uncomputable in 1936.)&lt;&#x2F;p&gt;
&lt;p&gt;In some sense, it’s not so surprising that the BB function should grow uncomputably quickly—because if it &lt;em&gt;were&lt;&#x2F;em&gt; computable, then huge swathes of mathematical truth would be laid bare to us.  For example, suppose we wanted to know the truth or falsehood of the Goldbach Conjecture, which says that every even number 4 or greater can be written as a sum of two prime numbers.  Then we’d just need to write a program that checked each even number one by one, and halted if and only if it found one that &lt;em&gt;wasn’t&lt;&#x2F;em&gt; a sum of two primes.  Suppose that program corresponded to a Turing machine with N states.  Then by definition, if it halted at all, it would have to halt after at most BB(N) steps.  But that means that, if we &lt;em&gt;knew&lt;&#x2F;em&gt; BB(N)—or even any upper bound on BB(N)—then we could find out whether our program halts, by simply running it for the requisite number of steps and seeing.  In that way we’d learn the truth or falsehood of Goldbach’s Conjecture—and similarly for the Riemann Hypothesis, and every other famous unproved mathematical conjecture (there are a lot of them) that can be phrased in terms of a computer program never halting.&lt;&#x2F;p&gt;
&lt;p&gt;(Here, admittedly, I’m using “we could find” in an &lt;em&gt;extremely&lt;&#x2F;em&gt; theoretical sense.  Even if someone handed you an N-state Turing machine that ran for BB(N) steps, the number BB(N) would be so hyper-mega-astronomical that, in practice, you could probably never distinguish the machine from one that simply ran forever.  So the aforementioned “strategy” for proving Goldbach’s Conjecture, or the Riemann Hypothesis would probably never yield fruit before the heat death of the universe, even though &lt;em&gt;in principle&lt;&#x2F;em&gt; it would reduce the task to a “mere finite calculation.”)&lt;&#x2F;p&gt;
&lt;p&gt;OK, you wanna know something else wild about the Busy Beaver function?  In 2015, my former student Adam Yedidia and I &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.scottaaronson.com&#x2F;blog&#x2F;?p&#x3D;2725&quot;&gt;wrote a paper&lt;&#x2F;a&gt; where we proved that BB(8000)—i.e., the 8000th Busy Beaver number—&lt;em&gt;can’t be determined&lt;&#x2F;em&gt; using the usual axioms for mathematics, which are called Zermelo-Fraenkel (ZF) set theory.  Nor can B(8001) or any larger Busy Beaver number.&lt;&#x2F;p&gt;
&lt;p&gt;To be sure, BB(8000) &lt;em&gt;has&lt;&#x2F;em&gt; some definite value: there are finitely many 8000-state Turing machines, and each one either halts or runs forever, and among the ones that halt, there’s &lt;em&gt;some&lt;&#x2F;em&gt; maximum number of steps that any of them runs for.  What we showed is that math, if it limits itself to the currently-accepted axioms, can never prove the value of BB(8000), even in principle.&lt;&#x2F;p&gt;
&lt;p&gt;The way we did that was by explicitly constructing an 8000-state Turing machine, which (in effect) enumerates all the consequences of the ZF axioms one after the next, and halts if and only if it ever finds a contradiction—that is, a proof of 0&#x3D;1.  Presumably set theory is actually consistent, and therefore our program runs forever.  But if you &lt;em&gt;proved&lt;&#x2F;em&gt; the program ran forever, you’d also be proving the consistency of set theory.  And has anyone heard of any obstacle to doing that?  Of course, Gödel’s Incompleteness Theorem!  Because of Gödel, if set theory is consistent (well, technically, also arithmetically sound), then it can’t prove our program either halts or runs forever.  But that means set theory can’t determine BB(8000) either—because if it could do &lt;em&gt;that&lt;&#x2F;em&gt;, then it could also determine the behavior of our program.&lt;&#x2F;p&gt;
&lt;p&gt;To be clear, it was long understood that there’s &lt;em&gt;some&lt;&#x2F;em&gt; computer program that halts if and only if set theory is inconsistent—and therefore, that the axioms of set theory can determine at most k values of the Busy Beaver function, for &lt;em&gt;some&lt;&#x2F;em&gt; positive integer k.  “All” Adam and I did was to prove the first explicit upper bound, k≤8000, which required a lot of optimizations and software engineering to get the number of states down to something reasonable (our initial estimate was more like k≤1,000,000).  More recently, Stefan O’Rear has improved our bound—most recently, he says, to k≤1000, meaning that, at least by the lights of ZF set theory, fewer than a thousand values of the BB function can ever be known.&lt;&#x2F;p&gt;
&lt;p&gt;Meanwhile, let me remind you that, at present, only four values of the function &lt;em&gt;are&lt;&#x2F;em&gt; known!  Could the value of BB(100) already be independent of set theory?  What about BB(10)?  BB(5)?  Just how early in the sequence do you leap off into Platonic hyperspace?  I don’t know the answer to that question but would love to.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;Ah, you ask, but is there any number sequence that grows so fast, it blows &lt;em&gt;even the Busy Beavers&lt;&#x2F;em&gt; out of the water?  There is!&lt;&#x2F;p&gt;
&lt;p&gt;Imagine a magic box into which you could feed in any positive integer n, and it would instantly spit out BB(n), the nth Busy Beaver number.  Computer scientists call such a box an “oracle.”  Even though the BB function is uncomputable, it still makes mathematical sense to imagine a Turing machine that’s enhanced by the magical ability to access a BB oracle any time it wants: call this a “super Turing machine.”  Then let SBB(n), or the nth super Busy Beaver number, be the maximum number of steps that any n-state &lt;em&gt;super&lt;&#x2F;em&gt; Turing machine makes before halting, if given no input.&lt;&#x2F;p&gt;
&lt;p&gt;By simply repeating the reasoning for the ordinary BB function, one can show that, not only does SBB(n) grow faster than any computable function, it grows faster than &lt;em&gt;any function computable by super Turing machines&lt;&#x2F;em&gt; (for example, BB(n), BB(BB(n)), etc).&lt;&#x2F;p&gt;
&lt;p&gt;Let a super duper Turing machine be a Turing machine with access to an oracle for the super Busy Beaver numbers.  Then you can use super duper Turing machines to define a super duper Busy Beaver function, which you can use in turn to define super duper pooper Turing machines, and so on!&lt;&#x2F;p&gt;
&lt;p&gt;Let “level-1 BB” be the ordinary BB function, let “level-2 BB” be the super BB function, let “level 3 BB” be the super duper BB function, and so on.  Then clearly we can go to “level-k BB,” for any positive integer k.&lt;&#x2F;p&gt;
&lt;p&gt;But we need not stop even there!  We can then go to level-ω BB.  What’s ω?  Mathematicians would say it’s the “first infinite ordinal”—the ordinals being a system where you can pass from any set of numbers you can possibly name (even an infinite set), to the next number larger than all of them.  More concretely, the level-ω Busy Beaver function is simply the Busy Beaver function for Turing machines that are able, whenever they want, to call an oracle to compute the level-k Busy Beaver function, &lt;em&gt;for any positive integer k of their choice&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;But why stop there?  We can then go to level-(ω+1) BB, which is just the Busy Beaver function for Turing machines that are able to call the level-ω Busy Beaver function as an oracle.  And thence to level-(ω+2) BB, level-(ω+3) BB, etc., defined analogously.  But then we can transcend that entire sequence and go to level-2ω BB, which involves Turing machines that can call level-(ω+k) BB as an oracle for any positive integer k.  In the same way, we can pass to level-3ω BB, level-4ω BB, etc., until we transcend that entire sequence and pass to level-ω2 BB, which can call &lt;em&gt;any&lt;&#x2F;em&gt; of the previous ones as oracles.  Then we have level-ω3 BB, level-ω4 BB, etc., until we transcend &lt;em&gt;that&lt;&#x2F;em&gt; whole sequence with level-ωω BB.  But we’re still not done!  For why not pass to level&lt;&#x2F;p&gt;
&lt;p&gt;$$ \omega^{\omega^{\omega}} $$,&lt;&#x2F;p&gt;
&lt;p&gt;level&lt;&#x2F;p&gt;
&lt;p&gt;$$ \omega^{\omega^{\omega^{\omega}}} $$,&lt;&#x2F;p&gt;
&lt;p&gt;etc., until we reach level&lt;&#x2F;p&gt;
&lt;p&gt;$$ \left. \omega^{\omega^{\omega^{.^{.^{.}}}}}\right\} _{\omega\text{ times}} $$?&lt;&#x2F;p&gt;
&lt;p&gt;(This last ordinal is also called ε0.)  And mathematicians know how to keep going even to way, way bigger ordinals than ε0, which give rise to ever more rapidly-growing Busy Beaver sequences.  Ordinals achieve something that on its face seems paradoxical, which is to systematize the concept of transcendence.&lt;&#x2F;p&gt;
&lt;p&gt;So then just how far can you push this?  Alas, ultimately the answer depends on which axioms you assume for mathematics.  The issue is this: once you get to sufficiently enormous ordinals, you need some systematic way to &lt;em&gt;specify&lt;&#x2F;em&gt; them, say by using computer programs.  But then the question becomes which ordinals you can “prove to exist,” by giving a computer program together with a proof that the program does what it’s supposed to do.  The more powerful the axiom system, the bigger the ordinals you can prove to exist in this way—but every axiom system will run out of gas at some point, only to be transcended, in Gödelian fashion, by a yet more powerful system that can name yet larger ordinals.&lt;&#x2F;p&gt;
&lt;p&gt;So for example, if we use Peano arithmetic—invented by the Italian mathematician &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Giuseppe_Peano&quot;&gt;Giuseppe Peano&lt;&#x2F;a&gt;—then Gentzen proved in the 1930s that we can name any ordinals below ε0, but not ε0 itself or anything beyond it.  If we use ZF set theory, then we can name vastly bigger ordinals, but once again we’ll eventually run out of steam.&lt;&#x2F;p&gt;
&lt;p&gt;(Technical remark: some people have claimed that we can transcend this entire process by passing from first-order to second-order logic.  But I fundamentally disagree, because with second-order logic, &lt;em&gt;which number you’ve named&lt;&#x2F;em&gt; could depend on the model of set theory, and therefore be impossible to pin down.  With the ordinal Busy Beaver numbers, by contrast, the number you’ve named might be breathtakingly hopeless ever to compute—but provided the notations have been fixed, and the ordinals you refer to actually exist, at least we know there &lt;em&gt;is&lt;&#x2F;em&gt; a unique positive integer that you’re talking about.)&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, the upshot of all of this is that, if you try to hold a name-the-biggest-number contest between two actual professionals who are trying to win, it will (alas) degenerate into an argument about the axioms of set theory.  For the stronger the set theory you’re allowed to assume consistent, the bigger the ordinals you can name, therefore the faster-growing the BB functions you can define, therefore the bigger the actual numbers.&lt;&#x2F;p&gt;
&lt;p&gt;So, yes, in the end the biggest-number contest just becomes another Gödelian morass, but one can get surprisingly far before that happens.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;In the meantime, our universe seems to limit us to at most 10122 choices that could ever be made, or experiences that could ever be had, by any one observer.  Or fewer, if you believe that you won’t live until the heat death of the universe in some post-Singularity computer cloud, but for at most about 102 years.  In the meantime, the survival of the human race might hinge on people’s ability to understand much smaller numbers than 10122: for example, a billion, a trillion, and other numbers that characterize the exponential growth of our civilization and the limits that we’re now running up against.&lt;&#x2F;p&gt;
&lt;p&gt;On a happier note, though, if our goal is to make math engaging to young people, or to build bridges between the quantitative and literary worlds, the way this festival is doing, it seems to me that it wouldn’t hurt to let people know about the vastness that’s out there.  Thanks for your attention.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://www.scottaaronson.com/blog/?p=3445"/>
    <published>2017-09-14T10:11:14.000Z</published>
  </entry>
  <entry>
    <title>Face ID, Touch ID, No ID, PINs and Pragmatic Security | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;I was wondering recently after poring through yet another data breach how many people actually use multi-step verification. I mean here we have a construct where even if the attacker has the victim&#39;s credentials, they&#39;re rendered useless once challenged for the authenticator code or SMS which is subsequently set. I went out looking for figures and found the following on Dropbox:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;quot;less than 1% of the Dropbox user base is taking advantage of the company’s two-factor authentication feature&amp;quot;: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;AdbYwWGb7t&quot;&gt;https:&#x2F;&#x2F;t.co&#x2F;AdbYwWGb7t&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;738620838304317441&quot;&gt;June 3, 2016&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;Less than 1%. That&#39;s alarming. It&#39;s alarming not just because the number is so low, but because Dropbox holds such valuable information for so many people. Not only that, but their multi-step implementation is very low-friction - you generally only ever see it when setting up a new machine for the first time.&lt;&#x2F;p&gt;
&lt;p&gt;But here&#39;s the problem with multi-step verification: it&#39;s a perfect example of where security is friction. No matter how easy you make it, it&#39;s something you have to do &lt;em&gt;in addition&lt;&#x2F;em&gt; to the thing you normally do, namely entering a username and password. That&#39;s precisely the same problem with getting people to put PINs on their phone and as a result, there&#39;s a huge number of devices out there left wide open. How many? It&#39;s hard to tell because there&#39;s no easy way of collecting those stats. I found one survey from 2014 which said &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.elie.net&#x2F;blog&#x2F;survey-most-people-dont-lock-their-android-phones-but-should&quot;&gt;52% of people have absolutely nothing protecting their phone&lt;&#x2F;a&gt;. Another in 2016 said &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.androidauthority.com&#x2F;psa-use-a-lockscreen-password-668689&#x2F;&quot;&gt;the number is more like 34%&lt;&#x2F;a&gt;. Keep searching and you&#39;ll find more stats of wildly varying values but the simple fact remains that there are a &lt;em&gt;huge&lt;&#x2F;em&gt; number of people out there with no protection on the device at all.&lt;&#x2F;p&gt;
&lt;p&gt;And this brings us to Face ID. I&#39;m writing this the day after the iPhone X launch and obviously this pattern of biometric login is now going to be a major part of the Apple security strategy:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Of course, this now brings with it the whole biometrics discussion and to some extent, it&#39;s similar to the one we had when Touch ID launched in 2013 with the iPhone 5S. Obviously there are differences, but many of the issues are also the same. Either way, in my mind both pose fantastic upsides for 99.x% of people and I shared that thought accordingly:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;Face ID: for 99.x% of people, their &amp;quot;threat actors&amp;quot; are people who steal their phone at a bar. For everyone else, don&#39;t use biometrics.&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;907701016161787904&quot;&gt;September 12, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;Not everyone agreed though and there were some responses I honestly didn&#39;t see coming. I want to outline some of the issues with each and why per the title of this post, &amp;quot;pragmatic security&amp;quot; is really important here.&lt;&#x2F;p&gt;
No ID
&lt;p&gt;Let&#39;s start here because it&#39;s the obvious one. Missing PINs on phones provides zero protection from any adversary that gets their hands on it; the kids, a pickpocket or law enforcement - it&#39;s free rein for all. Free reign over photos and videos, free reign over messages and email and free reign to communicate with anyone else under the identity of the device owner. I&#39;m stating things here that may seem obvious to you, but clearly the risks haven&#39;t yet hit home for many people.&lt;&#x2F;p&gt;
&lt;p&gt;A lack of PIN has also proved very useful for &lt;em&gt;remote&lt;&#x2F;em&gt; attackers. Back in 2014 I wrote about &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;the-mechanics-of-icloud-hack-and-how&#x2F;&quot;&gt;the &amp;quot;Oleg Pliss&amp;quot; situation&lt;&#x2F;a&gt; where unprotected devices were being remotely locked and ransomed. This was only possible when the device didn&#39;t have a PIN, a fact the attacker abused by then placing their own on it after gaining access to the victim&#39;s online Apple account.&lt;&#x2F;p&gt;
&lt;p&gt;But we can&#39;t talk about devices not having any authentication without talking about &lt;em&gt;why&lt;&#x2F;em&gt; and that almost always comes down to friction. The Dropbox multi-step verification situation described above where an additional security control is imposed. So let&#39;s move on and start talking about that friction, let&#39;s talk about PINs.&lt;&#x2F;p&gt;
PIN
&lt;p&gt;The first point I&#39;ll make here as I begin talking about the 3 main security constructs available is that they&#39;re all &lt;em&gt;differently&lt;&#x2F;em&gt; secure. This is not a case of one is &amp;quot;secure&amp;quot; and another is &amp;quot;insecure&amp;quot; in any sort of absolute way and anyone referring to them in this fashion is missing a very important part of the narrative. With that said, let&#39;s look at the pros and cons involved here.&lt;&#x2F;p&gt;
&lt;p&gt;Obviously, the big pro of a PIN is familiarity (that and not having the problems mentioned above, of course). If you can remember a number, you can set a PIN and hey, we&#39;re all good at remembering numbers, right? Like that same one that people use everywhere... which is obviously a con. And this is a perfect example of the human element we so frequently neglect when having this discussion: people take shortcuts with PINs. They reuse them. They follow basic patterns. They disclose them to other people - how many people&#39;s kids know the PIN that unlocks their phone? And before you answer &amp;quot;not mine&amp;quot;, you&#39;re (probably) not normal people by virtue of being interested enough in your security to be here reading this post in the first place!&lt;&#x2F;p&gt;
&lt;p&gt;But PINs are enormously popular and even when you &lt;em&gt;do&lt;&#x2F;em&gt; use the biometric options we&#39;re about to get into, you&#39;re still going to need one on your phone anyway. For example, every time you hard-reboot an iPhone with Touch ID you need to enter the PIN. When you do, depending on the environment you&#39;re in you may be a bit inclined to do so like this:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This is Edward Snowden typing his password in whilst under a blanket in the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Citizenfour&quot;&gt;Citizenfour documentary&lt;&#x2F;a&gt;. He&#39;s doing everything he can to ensure there&#39;s no way his password can be observed by others because this is precisely the problem with passwords - anyone who has yours can use it (again, this is why multi-step verification is so important). Now you may argue that Snowden&#39;s threat profile is such that he &lt;em&gt;needs&lt;&#x2F;em&gt; to take such measures and you&#39;re right - I can see exactly why he&#39;d do this. But this also means recognising that different people have different threat profiles and whilst Ed was worried about the likes of the NSA specifically targeting him as a high-value individual, you are (almost certainly) not.&lt;&#x2F;p&gt;
&lt;p&gt;We&#39;ve all been warned about the risk of shoulder surfing at one time or another and it&#39;s pretty common to find it represented in corporate training programs &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.slideshare.net&#x2F;akshaysurve53&#x2F;shoulder-surfing-resistant-graphical-and-image-based-login-system&quot;&gt;in a similar fashion to this&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Except as it relates to PINs on phones, the problem is much worse. Firstly, it&#39;s worse because it&#39;s a PIN that&#39;s a mere 4 or 6 digits (you could always go alphanumeric on an iPhone but that&#39;ll be a near-zero percentage of people) and there&#39;s only 10 characters to choose from so observing and remembering them isn&#39;t hard. Secondly, mobile devices are obviously used in, well, mobile locations so you&#39;re unlocking them on the train, in the shops and in a whole raft of locations where people can directly observe you. When using Apple Pay is a perfect example: you&#39;re standing in a queue with people in front of you and people behind you waiting for you to pay for your shopping and that&#39;s not a great environment to be entering a secret by pressing a small number of big buttons on a publicly observable screen.&lt;&#x2F;p&gt;
&lt;p&gt;And then there&#39;s all the really niche attacks against PINS, for example &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.theatlantic.com&#x2F;technology&#x2F;archive&#x2F;2017&#x2F;03&#x2F;hot-hands-smartphones&#x2F;519069&#x2F;&quot;&gt;using thermal imaging to detect the locations the screen was tapped&lt;&#x2F;a&gt;. Now that&#39;s by no means trivial, but some of criticisms being levelled at biometrics are also by no means trivial so let&#39;s keep it an even playing field. Even entering your PIN in an open space away from people presents a risk in the presence of the burgeoning number of surveillance cameras that are present.&lt;&#x2F;p&gt;
&lt;p&gt;But there&#39;s one thing in particular PINs are resilient to which biometrics are not: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.theatlantic.com&#x2F;technology&#x2F;archive&#x2F;2016&#x2F;05&#x2F;iphone-fingerprint-search-warrant&#x2F;480861&#x2F;&quot;&gt;the police in the US can force you to unlock your phone using your fingerprint&lt;&#x2F;a&gt;. I&#39;m not sure how this differs in the rest of the world, but it was regularly highlighted to me during yesterday&#39;s discussions. Now there are obvious privacy issues with this - &lt;em&gt;big ones&lt;&#x2F;em&gt; - but getting back to the personal threat actors issue, this is something the individual needs to think about and consider whether it&#39;s a significant enough risk to them to rule out biometrics. If you&#39;re an activist or political dissident or indeed an outright criminal, this may pose a problem. For everyone else, you&#39;re starting to approach infinitely small likelihoods. I heard an argument yesterday that, for example, a lady who was filming a bloke being shot by the police could have then been forced to unlock her phone by fingerprint so the cops can erase the evidence. But think this through for a moment...&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;So the risk here is being shot while recording it to local storage then cops unlocking phone with biometrics and illegally erasing evidence?&lt;&#x2F;p&gt;— Troy Hunt (@troyhunt) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;troyhunt&#x2F;status&#x2F;907735651759513600&quot;&gt;September 12, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;There will always be attack vectors like this. &lt;em&gt;Always.&lt;&#x2F;em&gt; The question someone has to ask when choosing between biometrics or PIN is how threatened they personally feel by these situations. And then they make their own security decision of their own free volition.&lt;&#x2F;p&gt;
&lt;p&gt;Let&#39;s move on to the biometric alternatives.&lt;&#x2F;p&gt;
Touch ID
&lt;p&gt;Given we&#39;ve now had 4 years of Touch ID (and of course many more years of fingerprint auth in general), we&#39;ve got a pretty good sense the threat landscape. Even 15 years ago, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.theregister.co.uk&#x2F;2002&#x2F;05&#x2F;16&#x2F;gummi_bears_defeat_fingerprint_sensors&#x2F;&quot;&gt;researchers were circumventing biometric logins&lt;&#x2F;a&gt;. In that particular case, the guy simply lifted a fingerprint from a glass then enhanced it with a cyanoacrylate adhesive, photographed it, took it into Photoshop and cleaned up the picture, printed it onto a transparency sheet, grabbed a photo-sensitive printed circuit board then etched the printed fingerprint from the transparency sheet into the copper on the board before moulding a gelatine finger onto it hence inheriting the fingerprint. Easy!&lt;&#x2F;p&gt;
&lt;p&gt;There have been many other examples of auth bypass since that time, including against Apple&#39;s Touch ID and indeed some of them have been simpler too. Like PINs, it&#39;s not foolproof and what people are doing is trading various security and usability attributes between the PIN and biometric options. A PIN has to be known to unlock the device whilst a fingerprint could be forged, but then a PIN may have been observed or readily guessed (and certainly there are brute force protections to limit this) whilst biometric login can be used in plain sight. They&#39;re &lt;em&gt;differently&lt;&#x2F;em&gt; secure and they protect from different threat actors. It&#39;s &lt;em&gt;extremely&lt;&#x2F;em&gt; unlikely that the guy who steals your phone off a bar is going to be able to do this, much more likely that a nation state actor that sees a high value in a target&#39;s phone will.&lt;&#x2F;p&gt;
&lt;p&gt;One of the arguments I heard against Touch ID yesterday is that an &amp;quot;attacker&amp;quot; could cause a sleeping or unconscious person to unlock their device by placing the owner&#39;s finger on the home button. I&#39;ve quoted the word &amp;quot;attacker&amp;quot; because one such situation occurred last year when &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.complex.com&#x2F;life&#x2F;2016&#x2F;12&#x2F;kid-buys-250-dollars-pokemon-items-with-moms-thumbprint&quot;&gt;a six year old used her sleeping mother&#39;s fingerprint to buy $250 worth of Pokemon&lt;&#x2F;a&gt;. Now I&#39;ve got a 5-year-old and a 7-year-old so I reckon I&#39;m qualified enough to make a few comments on the matter (plus the whole thing about me thinking a lot about security!)&lt;&#x2F;p&gt;
&lt;p&gt;Firstly, whilst the hacker inside of me is thinking &amp;quot;that kid is pretty smart&amp;quot;, the parent inside of me is thinking &amp;quot;that kids needs a proverbial kick up the arse&amp;quot;. There&#39;s nothing unusual about kids using parent&#39;s phones for all manner of things and we&#39;ve probably all given an unlocked phone to one of our own children for them to play a game, watch a video or even just talk on the phone. Touch ID, PIN or nothing at all, if a kid abuses their parent&#39;s trust in this way then there&#39;s a very different discussion to be had than the one about how sophisticated a threat actor needs to be in order to circumvent it.&lt;&#x2F;p&gt;
&lt;p&gt;Be that as it may, there are certainly circumstances where biometric login poses a risk that PINs don&#39;t and the unconscious one is a perfect example. Now in my own personal threat model, being unconscious whilst someone steals my phone &lt;em&gt;and&lt;&#x2F;em&gt; forces me to unlock it is not exactly high up on the list of things that keep me awake at night. But if I was a binge drinker and prone to the odd bender, Touch ID may simply not be a good model for me. Then again, if the victim is getting paralytic drunk and the attacker wants access to an unlocked phone then there are many other simple social engineering tricks to make that happen. In fact, in the attacker&#39;s world, the victim having a PIN may well be preferable because it could be observed on unlock and then used to modify security settings that are otherwise unavailable with mere access to fingerprints.&lt;&#x2F;p&gt;
&lt;p&gt;One of the neat features coming in iOS 11 when it hits next week &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.wired.com&#x2F;story&#x2F;apples-ios-11-will-make-it-even-harder-for-cops-to-extract-your-data&#x2F;&quot;&gt;is the ability to rapidly disable Touch ID&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Tap the phone&#39;s home button five times, and it will launch a new lockscreen with options to make an emergency call or offer up the owner&#39;s emergency medical information. But that S.O.S. mode also silently disables TouchID, requiring a passcode to unlock the phone. That feature could be used to prevent someone from using the owner&#39;s finger to unlock their phone while they&#39;re sleeping or otherwise incapacitated, for instance.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;What this means is that were you find yourself in a higher risk situation with only Touch ID enabled (i.e. you&#39;ve been pulled over by the police and are concerned about them compelling you to biometrically unlock your phone), there&#39;s a speedy option to disable it. But that&#39;s obviously no good if you don&#39;t have time to enable it so if you&#39;re going to hold up a liquor store and it&#39;s possible the cops may come bursting in at any time, it could be tough luck (also, don&#39;t hold up liquor stores!)&lt;&#x2F;p&gt;
&lt;p&gt;Another new feature helps further strengthen the security model:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;in iOS 11, iPhones will not only require a tap to trust a new computer, but the phone&#39;s passcode, too. That means even if forensic analysts do seize a phone while it&#39;s unlocked or use its owner&#39;s finger to unlock it, they still need a passcode to offload its data to a program where it can be analyzed wholesale.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;I particularly like this because it adds protection to &lt;em&gt;all&lt;&#x2F;em&gt; unlocked devices where the PIN is not known. If you&#39;re compelled to biometrically unlock the device, that won&#39;t allow the data to be siphoned off via tethering it. Yes, it could still be accessed directly on the device, but that&#39;s a damn sight better then unfettered direct access to storage.&lt;&#x2F;p&gt;
&lt;p&gt;So pros and cons and indeed that&#39;s the whole theme of this post. Let&#39;s move on to the new thing.&lt;&#x2F;p&gt;
Face ID
&lt;p&gt;I watched the keynote today and was obviously particularly interested in how Face ID was positioned so let me share the key bits here. Keep in mind that I obviously haven&#39;t played with this and will purely be going by Apple&#39;s own info here.&lt;&#x2F;p&gt;
&lt;p&gt;Firstly, this is not a case of &amp;quot;if the camera sees something that looks like the owner&#39;s face the device unlocks&amp;quot;. Here&#39;s why:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Infrared camera + flood illuminator + proximity sensor + ambient light sensor + camera + dot projector &#x3D; Face ID. Each of these plays a different role and you can see how, for example, something like infrared could be used to discern the difference between a human head and a photo.&lt;&#x2F;p&gt;
&lt;p&gt;In Apple&#39;s demo, they talk about the flood illuminator being used to detect the face (including in the dark):&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This is followed up by the infrared camera taking an image:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The dot projector then pumps out 30k invisible dots:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The IR image and the dot pattern then get &amp;quot;pushed though neural networks to create a mathematical model of your face&amp;quot; which is then compared to the stored one created at setup. Now of course we don&#39;t know how much of this is fancy Apple speak versus reality and I&#39;m &lt;em&gt;very&lt;&#x2F;em&gt; keen to see the phone get into the hands of creative security people, but you can&#39;t help but think that the breadth of sensors available for visual verification trumps those required for touch alone.&lt;&#x2F;p&gt;
&lt;p&gt;Apple is obviously conscious of comparisons between the two biometric implementations and they shared some stats on the likelihood of each returning a false positive. Firstly, Touch ID:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;So what they&#39;re saying here is that you&#39;ve got a 1 in 50k chance of someone else&#39;s print unlocking your phone. From a pure chance perspective, those are pretty good odds but I&#39;m not sure that&#39;s the best metric to use (more on that in a moment).&lt;&#x2F;p&gt;
&lt;p&gt;Here&#39;s how Face ID compares:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;One in a million. There&#39;s literally a saying that&#39;s &amp;quot;one in a million&amp;quot; which symbolises the extremely remote likelihood of something happening! The 20x figure over Touch ID is significant but it doesn&#39;t seem like the right number to be focusing on. The &lt;em&gt;right&lt;&#x2F;em&gt; number would be the one that illustrates not the likelihood of random people gaining access, but rather the likelihood of an adversary tricking the biometrics via artificial means such as the gummi bears and PCBs. But that&#39;s not the sort of thing we&#39;re going to know until people start attempting just that.&lt;&#x2F;p&gt;
&lt;p&gt;Be that as it may, Apple claims that Face ID is resilient to both photos and masks:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;And with all those sensors, it&#39;s certainly believable that there&#39;s enough inputs to discern with a high degree of confidence what is a legitimate face versus a fake one. Having said that, even Apple themselves acknowledged that certain threats remain:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Laughs were had, jokes were made but the underlying message was that Face ID isn&#39;t foolproof. Just like Touch ID. And PINs.&lt;&#x2F;p&gt;
&lt;p&gt;Thinking back to Touch ID for a moment, one of the risk flagged there was a kid holding a sleeping adult&#39;s finger on the sensor or indeed someone doing the same with an unconscious iPhone owner. Face ID seems to solve this problem:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;If your eyes are closed or you&#39;re looking away, it&#39;s not going to unlock&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Which makes a lot of sense - given the processing power to actually observe and interpret eye movements in the split second within which you expect this to work, this would be a really neat failsafe. Apple highlights this as &amp;quot;attention awareness&amp;quot; when they wrap up the Face ID portion of the presentation:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Moving on to something different, when I shared 99.x% tweet earlier on, a thread emerged about abusive spouses. Now if I&#39;m honest, I didn&#39;t see that angle coming and it made me curious - what &lt;em&gt;is&lt;&#x2F;em&gt; the angle? I mean how does Face ID pose a greater threat to victims of domestic violence than the previous auth models? There&#39;s the risk of being physically compelled to unlock the phone, but of course Touch ID poses the same risk. One would also imagine that in such a situation, an abusive husband may demand a PIN in the same intimidating fashion in which they demand a finger is placed on the sensor or the front facing camera is pointed at the face (and appropriate eye movement is made). It&#39;s hard to imagine there are many legitimate scenarios where an iPhone X is present, is only using Face ID, the owner is an abused woman and the man is able to compel her to unlock the device in a way that wasn&#39;t previously possible. The only tangible thing I could take away from that conversation is that many people won&#39;t understand the respective strengths and weaknesses of each authentication method which, of course, is true for anyone regardless of their relationship status. (Folks who understand both domestic violence and the role of technology in that environment, do please comment if I&#39;m missing something.)&lt;&#x2F;p&gt;
&lt;p&gt;The broader issue here is trusting those you surround yourself with in the home. In the same way that I trust my kids and my wife not to hold my finger to my phone while I&#39;m sleeping, I trust them not to abuse my PC if I walk away from it whilst unlocked and yes, one would reasonably expect to be able to do that in their own home. The PC sits there next to my wallet with cash in it and the keys to the cars parked out the front. When you can no longer trust those in your immediate vicinity within the sanctity of your own home, you have a much bigger set of problems:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;My ex broke into my phone by holding it against me while asleep&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;She also broke a table over my head so I&#39;m not sure I&#39;m disproving Troy &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;RELrlLozhN&quot;&gt;https:&#x2F;&#x2F;t.co&#x2F;RELrlLozhN&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;— Alexander Payne (@myrrlyn) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;myrrlyn&#x2F;status&#x2F;907736938752258048&quot;&gt;September 12, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;Having absorbed all the info and given Face ID some deeper thought, I stand by that 99.x% tweet until proven wrong. I just can&#39;t make good, rational arguments against it without letting go of the pragmatism which acknowledges all the factors I&#39;ve mentioned above.&lt;&#x2F;p&gt;
Summary
&lt;p&gt;What we have to keep in mind here is just how low the security bar is still set for so many people. Probably not for you being someone interested in reading this sort of material in the first place, but for the billions of &amp;quot;normals&amp;quot; out there now using mobile devices. Touch ID and Face ID are so frictionless that they remove the usability barrier PINs post. There&#39;s a good reason Apple consistently shows biometric authentication in all their demos - because it&#39;s just such a slick experience.&lt;&#x2F;p&gt;
&lt;p&gt;The majority of negative commentary I&#39;m seeing about Face ID in particular amounts to &amp;quot;facial recognition is bad&amp;quot; and that&#39;s it. Some of those responses seem to be based on the assumption that it introduces a privacy risk in the same way as facial tracking in, say, the local supermarket would. But that&#39;s not the case here; the data is stored in the iPhone&#39;s secure enclave and never leaves the device:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;More than anything though, we need to remember that Face ID introduces another security model with its own upsides and downsides on both security and usability. It&#39;s not &amp;quot;less secure than a PIN&amp;quot;, it&#39;s differently secure and the trick now is in individuals choosing the auth model that&#39;s right for them.&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ll order an iPhone X when they hit the store next month and I&#39;ll be giving Face ID a red hot go. I&#39;ll also be watching closely as smart security folks around the world try to break it :)&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Edit 1:&lt;&#x2F;strong&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;techcrunch.com&#x2F;2017&#x2F;09&#x2F;15&#x2F;interview-apples-craig-federighi-answers-some-burning-questions-about-face-id&#x2F;&quot;&gt;TechCrunch has published a great interview with Craig Federighi&lt;&#x2F;a&gt; that answers many of the questions that have been raised in this blog post and in the subsequent comments. Highly recommended reading!&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Edit 2:&lt;&#x2F;strong&gt; Someone pointed me at a great video from last year&#39;s WWDC titled &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;videos&#x2F;play&#x2F;wwdc2016&#x2F;705&#x2F;&quot;&gt;How iOS Security Really Works&lt;&#x2F;a&gt;. At the 12:45 mark, they share info on Touch ID including the following three slides:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ve shared these here because they&#39;re enormously important with regards to the narrative about the frequency with which people unlock their devices and the value proposition of reducing friction. The numbers speak for themselves.&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/IHrHVlwNwRg/"/>
    <published>2017-09-14T08:45:41.000Z</published>
  </entry>
  <entry>
    <title>Full-Stack Developers | Brad Frost</title>
    <content type="html">&lt;p&gt;In my experience consulting with and workshopping with companies of all shapes and sizes, I always ask “who owns the frontend code here?” I help web teams create design systems and collaborate more effectively, so it’s important for me to get a solid understanding of who tackles frontend code, where they sit, which department they’re a part of, and where they fit in the team’s workflow.&lt;&#x2F;p&gt;
&lt;p&gt;On occasion, I’ll have the following conversation when I ask where the frontend people are:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;“Who are the frontend developers?”&lt;&#x2F;p&gt;
&lt;p&gt;“Oh, we only hire full-stack developers here.”&lt;&#x2F;p&gt;
&lt;p&gt;“OK, so those full-stack developers craft all the UI code?”&lt;&#x2F;p&gt;
&lt;p&gt;“Yep”&lt;&#x2F;p&gt;
&lt;p&gt;“Ok, so talk me through some of the decisions you make about frontend strategy and architecture.”&lt;&#x2F;p&gt;
&lt;p&gt;“Uhhhh…yeah.”&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;In my experience,&lt;strong&gt; “full-stack developers” always translates to “programmers who can do frontend code because they have to and it’s ‘easy’.”&lt;&#x2F;strong&gt; It’s never the other way around. The term “full-stack developer” implies that a developer is equally adept at both frontend code and backend code, but I’ve never in my personal experience witnessed anyone who truly fits that description.&lt;&#x2F;p&gt;
&lt;p&gt;Are there people out there that feel equally comfortable designing a flexible, performant, accessible card component UI, and also wiring up the API that will feed content into that card component? I have no doubts. But is that skillset a common occurrence? I doubt it.&lt;&#x2F;p&gt;
&lt;p&gt;I’ve discussed in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;frontend-design&#x2F;&quot;&gt;other posts&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;atomicdesign.bradfrost.com&#x2F;chapter-4&#x2F;#development-is-design&quot;&gt;in my book&lt;&#x2F;a&gt; about how the role of frontend design is still being defined, and organizationally there’s still a lot of confusion about what to do with frontend designers and where they fit into the process. The divide between design and engineering is often&lt;strong&gt; designers &#x3D; people producing static design artifacts&lt;&#x2F;strong&gt; and &lt;strong&gt;development &#x3D; people who code&lt;&#x2F;strong&gt;. Frontend design often gets bucketed in with engineering because it’s technically code. So then UI code becomes just another task for already-busy engineers to tackle, and because HTML&#x2F;CSS aren’t programming languages it’s seen as “easy” work, not as much time and attention gets committed to it. Of course, the entire final product suffers as a result.&lt;&#x2F;p&gt;
&lt;p&gt;Frontend design is a critical part of the design and development process. Creating UIs that are responsive, performant, accessible, compatible, flexible, extensible, and resilient is tough work. That’s why it’s a good idea to treat frontend as a first-class citizen in your organization and dedicate some people that can really own frontend code.  Frontend designers can straddle the line between design and development, serving as &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;job-title-its-complicated&#x2F;&quot;&gt;mortar&lt;&#x2F;a&gt; that can hold the team together.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;frontend-design&#x2F;&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Now I understand that smaller companies often hire developers that run the gamut out of necessity. There simply aren’t enough resources to hire both backend and frontend developers. In my first jobs at small companies, I wrote the frontend code, got the SSL certificates working, handled the CMS integration, and fixed the router when the internet crapped out. While I did what was necessary and I benefitted from the experience, I’d never admit I was equally skilled at all of those things (especially the router fixing stuff).&lt;&#x2F;p&gt;
&lt;p&gt;Large organizations have the ability to hire specialists, which is why I get so confused why so many companies proudly declare they only hire full-stack developers. Having team members that can own the frontend experience is a good thing. Having team members that can own all things backend is a good thing. Having everyone work together to create successful products is a good thing.&lt;&#x2F;p&gt;
&lt;p&gt;I don’t think “full-stack developer” is necessarily a bad word, and there’s nothing wrong for individual developers to define their role in that way. But organizationally, when I encounter “we only hire full-stack developers” orgs I’ve only seen issues with their process and UI code.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/post/full-stack-developers/"/>
    <published>2017-09-13T17:52:06.000Z</published>
  </entry>
  <entry>
    <title>The Lessons and Questions of the iPhone X and the iPhone 8 | Stratechery</title>
    <content type="html">&lt;p&gt;It’s tempting — and easy — to be cynical about the richest company in the world beginning its annual unveiling of new products with what effectively amounted to a promotional video for a building custom-built at enormous expense for said unveiling, set to the soundtrack of John Lennon singing “All You Need is Love”.&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8&#x2F;#footnote_0_2731&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;wp-content&#x2F;uploads&#x2F;2017&#x2F;09&#x2F;IMG_0007.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;div&gt;&lt;em&gt;&lt;br &#x2F;&gt;
There’s nothing you can do that can’t be done&lt;br &#x2F;&gt;
Nothing you can sing that can’t be sung&lt;br &#x2F;&gt;
Nothing you can say but you can learn how to play the game&lt;br &#x2F;&gt;
It’s easy&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Nothing you can make that can’t be made&lt;br &#x2F;&gt;
No one you can save that can’t be saved&lt;br &#x2F;&gt;
Nothing you can do but you can learn how to be you in time&lt;br &#x2F;&gt;
It’s easy&lt;br &#x2F;&gt;
&lt;&#x2F;p&gt;&lt;&#x2F;em&gt;&lt;&#x2F;div&gt;
&lt;p&gt;In fact, the song was perfect; the temptation to be cynical is right there in the first verse, with the observation that by virtue of doing or singing or making you are operating in the bounds of what is merely possible, no more. And yet, the second verse holds forth salvation: find yourself, and find fulfillment. After all, you are the only one that can accomplish that precise task.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.apple.com&#x2F;apple-events&#x2F;september-2017&#x2F;&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;After the song finished, with the stage saying nothing more than “Welcome to the Steve Jobs Theater,” a recording of the late Apple founder and two-time CEO made the same point:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  There’s lots of ways to be as a person. And some people express their deep appreciation in different ways. But one of the ways that I believe people express their appreciation to the rest of humanity is to make something wonderful and put it out there. And you never meet the people, you never shake their hands, you never hear their story or tell yours, but somehow, in the act of making something with a great deal of care and love, something is transmitted there. And it’s a way of expressing to the rest of our species our deep appreciation. So we need to be true to who we are, and remember what’s really important to us. That’s what is going to keep Apple Apple, if we keep us us.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;I don’t know when Jobs said those words, but one of the most compelling examples of what he meant was, by definition, yet to come. My mind immediately went to the days after Jobs passed away in October 2011:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.flickr.com&#x2F;photos&#x2F;astrozombie&#x2F;6239747376&#x2F;in&#x2F;photolist-avokvj-atrn7h-augVE2-avRq5y-atfWz8-avkenw-av1Ahi-av1AhP-av1Ahr-av1AhH-auMaXs-av4ksy-auMn21-aw6YNk-av1CdB-augLTp-auh2kX-auh6hp-augJvM-aujy5A-aujRb7-aujCr5-rK3dbh-avZb8T-avZb8X-2oyvb-p1Ww6W-p3H5UT-p1WvXu-p4jBAB-6mhSKe-aujUUQ-aujruJ-aujqhf-aujSVY-auh3E4-augTuR-aujD4E-aujvEb-augWzt-aujusA-aujBPS-aujtTm-aujth3-auh7xc-augH9D-aujTvJ-aujwMS-auhf8V-aujpFN&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Spontaneously, all over the world, makeshift memorials, usually around Apple Stores, sprang up to honor someone whom, to paraphrase Jobs, they never met, whose hand they never shook, who never heard their story — and frankly, had they met Jobs, they very well might have regretted the experience!&lt;&#x2F;p&gt;
&lt;p&gt;That, though, was Jobs’ point: the stories of his mistreatment of those closest to him, both professional and deeply personal, reveal the man’s weaknesses; I see no need and have no desire to whitewash them. The company he built and the products that engendered such a deep emotional attachment in their owners, though, captured his strengths — and Apple’s customers felt his appreciation. You might call it love.&lt;&#x2F;p&gt;
&lt;p&gt;To return to Lennon’s words, Jobs, particularly in his second stint at Apple, had learned how to be himself: less designer than editor-in-chief, Jobs not only drove those he worked with to create “with great deal of care”, he also set Apple on a path towards being its best self. That, famously, means the integration of hardware and software, but at least in the case of the iPhone, the pertinent integration goes down to the silicon.&lt;&#x2F;p&gt;
&lt;p&gt;To that end, the products Apple unveiled at the new Steve Jobs Theater could not have been more appropriate: a cellular watch significantly smaller than competitors with comparable battery life, a new iPhone 8 improved in virtually every dimension, and, of course, the iPhone X, with nearly every new feature dependent on that integration.&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8&#x2F;#footnote_1_2731&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h4&gt;About That Notch&lt;&#x2F;h4&gt;
&lt;p&gt;Apple clearly decided to not minimize the notch, the black cut-out at the top of the iPhone X that houses an array of sensors and cameras. If anything, the company went out of its way to emphasize it, including playing video such that the notch obscured what was being shown (that is actually an optional view; by default video is letter-boxed such that it avoids the notch).&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.apple.com&#x2F;apple-events&#x2F;september-2017&#x2F;&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I think the emphasis on the notch served another purpose, though: it is, in its own way, something that only Apple can do.&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8&#x2F;#footnote_2_2731&quot;&gt;3&lt;&#x2F;a&gt; First, the operating system needed to be modified to work around the notch. Only Apple has sufficient control of the entire stack that they can pull off such a radical overhaul in software to accommodate the change in hardware. Second, applications will need to be reworked to look their best; thousands of developers are hard at work today doing just that, because the iOS ecosystem is so valuable.&lt;&#x2F;p&gt;
&lt;p&gt;Moving beyond the notch, Apple is also demonstrating its power over users; using an iPhone X is going to be significantly different than any other previous iPhone. Everything has changed, from unlocking the phone to invoking Siri to exiting apps to multi-tasking to Apple Pay. And yet there is little doubt that millions will do just that (and, naturally, insist that the new way is obviously better).&lt;&#x2F;p&gt;
&lt;p&gt;What is and remains so brilliant about the iPhone specifically and Apple’s business broadly is how everything is aligned around Apple being the Apple Jobs envisioned: a company that shows its “appreciation to the rest of humanity [by making] something wonderful and put[ting] it out there.” By making the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2014&#x2F;best&#x2F;&quot;&gt;best&lt;&#x2F;a&gt; products Apple earns loyal customers willing to pay a premium; loyal customers give Apple both freedom to make large scale changes and also a point of leverage against partners like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2013&#x2F;why-do-carriers-subsidize-the-iphone&#x2F;&quot;&gt;carriers&lt;&#x2F;a&gt; and developers. And then, the resultant profits lets Apple buy the small companies and do the R&amp;amp;D to create the next set of products.&lt;&#x2F;p&gt;
&lt;p&gt;This has been the story of the iPhone: for ten years every single model has been a meaningful jump over the previous one, giving Apple a stranglehold on the top of the market. There was no further segmentation needed: the smartphone market was growing around the world, and Apple was taking the premium part. Indeed, the company’s one misstep — 2013’s iPhone 5C — came from a misguided attempt to go downmarket.&lt;&#x2F;p&gt;
&lt;h4&gt;The iPhone 5C&lt;&#x2F;h4&gt;
&lt;p&gt;“Misstep” is perhaps a bit harsh. What we know about the iPhone 5C is this: in 2013 Apple was under tremendous external pressure, not just in the press but especially on Wall Street&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8&#x2F;#footnote_3_2731&quot;&gt;4&lt;&#x2F;a&gt;, to produce a lower-cost iPhone. Most analysts were convinced the company had not just saturated the high end but was in imminent danger of being disrupted by cheaper good-enough Android phones&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8&#x2F;#footnote_4_2731&quot;&gt;5&lt;&#x2F;a&gt;, and speculation was rampant that Apple would release a new iPhone at a significantly lower price point.&lt;&#x2F;p&gt;
&lt;p&gt;Apple went the other way; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2013&#x2F;two-minutes-fifty-six-seconds&#x2F;&quot;&gt;in one of my favorite Apple keynotes&lt;&#x2F;a&gt;, the company stuck to the high end. The iPhone 5C was cheaper than the 5S, announced on the same day, but only by $100; it was effectively a replacement for the iPhone 5 in terms of Apple’s previous practice of selling previous iPhones at a lower price.&lt;&#x2F;p&gt;
&lt;p&gt;Still, I for one thought it would sell very well; all indications are that Apple agreed, but it quickly became apparent that customers overwhelmingly preferred the iPhone 5S. Apple struggled to keep the latter in stock, having produced far too many 5Cs, and the model was quietly discontinued two years later. I &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;the-iphone-6s-the-end-of-the-iphone-5c-the-iphone-upgrade-program&#x2F;&quot;&gt;wrote at the time&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  The problem with the 5C, though, is that it wasn’t an iPhone. Well, technically it was — it was made by Apple, after all — but particularly in Asia, and especially in China, an iPhone is about more than even the hardware and software that Apple is so proud of integrating. It is the device to own for &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;daily-update-apple-china-and-the-upper-middle-class-apples-earnings-apple-pay-coming-to-best-buy&#x2F;&quot;&gt;emerging upper middle class consumers&lt;&#x2F;a&gt;, and what is brilliant about the sell-old-flagship-iPhones strategy is that it allows the cheaper iPhones to punch above their weight: after all, that iPhone 5S you pull out of your pocket and casually place on the table may be brand new today (because you can only afford $450), or you may simply have not yet replaced the iPhone you bought at full price when it came out. Regardless, you have a flagship; the 5C, on the other hand, was from day one not the flagship, and quite obvious about it (one is reminded of Jony Ive calling it “unapologetically plastic”). To buy a 5C was to show you couldn’t afford a better one.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;The 5C’s failure, such that it was, showed that the iPhone had three distinct markets:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Customers who wanted the best possible phone. They bought the 5S.&lt;&#x2F;li&gt;
&lt;li&gt;Customers who wanted the prestige of owning the highest-status phone on the market. Heavily concentrated in China, they bought the gold 5S.&lt;&#x2F;li&gt;
&lt;li&gt;Customers who aspire to owning a top-of-the-line iPhone, but couldn’t afford one. They bought the 4S instead of the 5C.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;What was missing was the cost-conscious customer; the truth is that if price is the priority an Android phone will always win. By 2013 even the cheapest phones were “good enough”; only people who cared about owning an iPhone would pay more,&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8&#x2F;#footnote_5_2731&quot;&gt;6&lt;&#x2F;a&gt; and if they were going to pay more of course they wanted the best, or at least a phone that gave off the prestige of having been the best at some point in time.&lt;&#x2F;p&gt;
&lt;h4&gt;More Lessons Learned&lt;&#x2F;h4&gt;
&lt;p&gt;A year later Apple (finally) released two iPhones with significantly larger screens: the iPhones 6 and 6 Plus. The response was incredible: iPhone sales jumped a staggering 45% year-over-year. That, though, made the iPhone 6S a much tougher sale. It became clear that &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;doubting-the-iphone-revisted-what-has-changed-on-being-bearish&#x2F;&quot;&gt;Apple had pulled forward&lt;&#x2F;a&gt; some number of upgraders to the iPhone 6, even as other customers held onto their good-enough phones for longer.&lt;&#x2F;p&gt;
&lt;p&gt;The iPhone 7 cemented this view: growth returned inline with models that &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;apples-china-problem&#x2F;&quot;&gt;presumed that the iPhone 6 pulled forward upgrades&lt;&#x2F;a&gt; in an increasingly saturated market; Apple was no longer benefiting from overall smartphone growth, but the company also wasn’t losing customers to Android — if anything, it was gaining them.&lt;&#x2F;p&gt;
&lt;p&gt;The one exception was China. As I noted in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;apples-china-problem&#x2F;&quot;&gt;Apple’s China Problem&lt;&#x2F;a&gt;, the iPhone was growing all over the world but shrinking in China, and I blamed WeChat:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  WeChat works the same on iOS as it does on Android. That, by extension, means that for the day-to-day lives of Chinese there is no penalty to switching away from an iPhone. Unsurprisingly, in stark contrast to the rest of the world, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;mp.weixin.qq.com&#x2F;s?__biz&#x3D;MjM5ODEyOTAyMA&#x3D;&#x3D;&amp;amp;mid&#x3D;2661906770&amp;amp;idx&#x3D;2&amp;amp;sn&#x3D;73662bbef300beda9237d30adaf374fa&amp;amp;chksm&#x3D;bd92a5418ae52c57eb1c238a34b9f8a6418993d3384ec331758b4ae102351a4e04d2ed878336&amp;amp;mpshare&#x3D;1&amp;amp;scene&#x3D;1&amp;amp;srcid&#x3D;0504Q1KjS8LTXMPois1oL3yP&amp;amp;key&#x3D;c84baf55e7d27452d7d25e8d4216f3083fd387d19f1c1a67737c24d1dd9b45dae04bc0e728d03eada93643c901672625aa3e51158cc3bfff1934908b5c0229bee273701f7cf7b5d3c55a6dfefacb6747&amp;amp;ascene&#x3D;0&amp;amp;uin&#x3D;MTY1ODQwOTc0MA%3D%3D&amp;amp;devicetype&#x3D;iMac+MacBookAir6%2C2+OSX+OSX+10.11.6+build(15G1421)&amp;amp;version&#x3D;12020610&amp;amp;nettype&#x3D;WIFI&amp;amp;fontScale&#x3D;100&amp;amp;pass_ticket&#x3D;txq8pNJOZPQCgr2USCGKoo4Q6ywoGnIyfwIIr0PTnlFp6hwHmmCF%2FvRWzEnCnVY2&quot;&gt;according to a report earlier this year&lt;&#x2F;a&gt; only 50% of iPhone users who bought another phone in 2016 stayed with Apple:&lt;&#x2F;p&gt;
&lt;p&gt;  &lt;&#x2F;p&gt;
&lt;p&gt;  This is still better than the competition, but compared to the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.businessinsider.com&#x2F;iphone-users-abandon-loyalty-to-apple-2016-11&quot;&gt;80%+ retention rate Apple enjoys in the rest of the world&lt;&#x2F;a&gt;, it is shockingly low, and the result is that the iPhone has slid down China’s sales rankings: iPhone sales were &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.bloomberg.com&#x2F;news&#x2F;articles&#x2F;2017-02-06&#x2F;oppo-huawei-widen-lead-in-china-as-apple-shipments-plummet&quot;&gt;only 9.6% of the market last year&lt;&#x2F;a&gt;, behind local Chinese brands like Oppo, Huawei and Vivo. All of those companies sold high-end phones of their own; the issue isn’t that Apple was too expensive, it’s that the iPhone 6S and 7 were simply too boring.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;There was one more lesson learned from the iPhone 7: for the first time Apple raised prices. Specifically, the iPhone 7 Plus was $769, $20 more than the iPhone 6S Plus at launch; the iPhone 7 pricing was identical to the iPhone 6S ($650). Theoretically this should have curbed demand for the 7 Plus, but the opposite happened: Apple sold &lt;em&gt;more&lt;&#x2F;em&gt; 7 Pluses relative to the 7 than they did 6S Pluses relative to the 6S. To be clear, I don’t think they sold more &lt;em&gt;because&lt;&#x2F;em&gt; of the price change; rather, consumer preferences continued to move towards bigger phones and, at least for an iPhone buyer, price simply isn’t the top priority.&lt;&#x2F;p&gt;
&lt;h4&gt;Apple’s New iPhone Strategy&lt;&#x2F;h4&gt;
&lt;p&gt;Forgive the long-winded history of the iPhone, but I think it is critical to understand Apple’s thinking when it comes to this year’s announcements; I think all of the lessons I referenced above influenced this lineup:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Start at the top. The iPhone X sells to two of the markets I identified above:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Customers who want the best possible phone&lt;&#x2F;li&gt;
&lt;li&gt;Customers who want the prestige of owning the highest-status phone on the market&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Note that both of these markets are relatively price-insensitive; to that end, $999 (or, more realistically, $1149 for the 256 GB model), isn’t really an obstacle. For the latter market, it’s arguably a positive.&lt;&#x2F;p&gt;
&lt;p&gt;The iPhone 8 (and 8 Plus), meanwhile, serves the slow and steady markets that bought the iPhone 7: previous iPhone owners upgrading and Android switchers. Critically, the iPhone 8 also serves those folks who aspire to an iPhone. No, they can’t afford an iPhone 8, but the iPhone 6S they can afford looks almost exactly the same, and in a few years the iPhone 8 will still be viewed as a once-flagship (the SE, meanwhile, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;andy-grove-and-the-iphone-se&#x2F;&quot;&gt;deliberately apes the shape of the once-flagship 5S&lt;&#x2F;a&gt;). Oh, and by the way, Apple is raising the price on the 8 as well: if price isn’t the chief factor, how far can you go?&lt;&#x2F;p&gt;
&lt;h4&gt;Apple’s Risk&lt;&#x2F;h4&gt;
&lt;p&gt;That said, I think Apple is taking a pretty significant risk with the iPhone 8 in particular: we know the company can succeed by selling the “best” phone, but the one example we have of building a less-than-best phone was underwhelming; to that end, how many iPhone buyers will forgo the 8 to wait for the X?&lt;&#x2F;p&gt;
&lt;p&gt;In some respects this is a good problem to have — customers wanting to give you more money for a more expensive phone — but the fact the iPhone X is not launching until November suggests it is well behind in production, which further suggests supply will be limited for some time to come. It is quite possible that Apple’s fiscal Q12018 results will be depressed by limited supply.&lt;&#x2F;p&gt;
&lt;p&gt;Of course this is a short-term problem; I do expect the iPhone X to be a massive hit in China in particular. Indeed, I wouldn’t be surprised if most of the early iPhone X supply were earmarked for the country. My argument about WeChat’s effect on Apple is that it elevates the importance of fresh hardware designs over iOS when it comes to iPhone sales; iPhone X is as fresh as it gets.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;There’s one more verse in Lennon’s song:&lt;&#x2F;p&gt;
&lt;div&gt;&lt;em&gt;&lt;br &#x2F;&gt;
Nothing you can know that isn’t known&lt;br &#x2F;&gt;
Nothing you can see that isn’t shown&lt;br &#x2F;&gt;
Nowhere you can be that isn’t where you’re meant to be&lt;br &#x2F;&gt;
It’s easy
&lt;&#x2F;em&gt;&lt;&#x2F;div&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I have to disagree: I don’t know if Apple can segment the iPhone market; what has been shown is that they can’t, that the iPhone can only be the best, nothing less.&lt;&#x2F;p&gt;
&lt;p&gt;That is why I find this launch so fascinating, and will be watching the upcoming quarter’s results so closely: Jobs built Apple to be the best, and the company has succeeded by being exactly that. Does that foreclose the possibility of also being really good, and the gains from market segmentation that follow?&lt;&#x2F;p&gt;
&lt;ol&gt;&lt;li&gt;Unfortunately, the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.apple.com&#x2F;apple-events&#x2F;september-2017&#x2F;&quot;&gt;video of the event&lt;&#x2F;a&gt; no longer includes the opening with The Beatles song; you’ll have to take my word for it&lt;&#x2F;li&gt;&lt;li&gt;I will cover all aspects of Apple’s keynote in tomorrow’s Daily Update&lt;&#x2F;li&gt;&lt;li&gt;Other phones, like the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.essential.com&quot;&gt;Essential Phone&lt;&#x2F;a&gt;, do have a much smaller cutout; the operating system isn’t re-worked to the degree the iOS is for the iPhone X, though, nor will developers put in special work&lt;&#x2F;li&gt;&lt;li&gt;The stock had fallen to $55.79 in April 2013, nearly half the price of a year earlier&lt;&#x2F;li&gt;&lt;li&gt;In a fortuitous coincidence, I started Stratechery in 2013, and I got a lot of early traction by arguing that Apple was fine&lt;&#x2F;li&gt;&lt;li&gt;I’m generalizing here; some customers genuinely prefer Android and primarily bought Samsung; Apple dominated the high end though&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt;</content>
    <link rel="alternate" href="https://stratechery.com/2017/the-lessons-and-questions-of-the-iphone-x-and-the-iphone-8/"/>
    <published>2017-09-13T15:13:05.000Z</published>
  </entry>
  <entry>
    <title>Breaking Up the Behemoth | Sandi Metz</title>
    <content type="html">&lt;p&gt;Good Morning,&lt;&#x2F;p&gt;

&lt;p&gt;I&#39;ve been thinking about how applications evolve, and what we might do if we&#39;re unhappy with the results.  Three apparently unrelated ideas have been percolating in my head.  In this newsletter I&#39;ll introduce each one and connect them together, in hopes that understanding these connections will help us understand our apps.&lt;&#x2F;p&gt;

&lt;p&gt;These thoughts are very definitely my opinion, justified only by past experience.  YMMV, but it&#39;ll give you something to think about.  :-) Expect lots of pictures.  Imagine me waving my arms and drawing on the whiteboard.&lt;&#x2F;p&gt;

&lt;p&gt;The first idea is &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;martinfowler.com&#x2F;&quot; target&#x3D;&quot;\_blank&quot;&gt;Martin Fowler&#39;s&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;martinfowler.com&#x2F;bliki&#x2F;DesignStaminaHypothesis.html&quot;&gt; Design Stamina Hypothesis&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;h3&gt;#1: Design Stamina Hypothesis&lt;&#x2F;h3&gt;

&lt;p&gt;Fowler illustrates this idea with the following graph.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;martinfowler.com&#x2F;bliki&#x2F;DesignStaminaHypothesis.html&quot; target&#x3D;&quot;\_blank&quot;&gt;
  
&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 1&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;The vertical axis above represents cumulative functionality.  The higher the line, the more that got done. The horizontal axis represents time passing.  The further to the right, the later in time.&lt;&#x2F;p&gt;

&lt;p&gt;Two different lines are plotted.  The orange line illustrates how much functionality you will produce by any point in time by investing in design from day one.  The blue line illustrates the outcome if you defer serious design.  Notice that the blue line rises fastest early on, but that the orange line eventually overtakes it.  &lt;&#x2F;p&gt;

&lt;p&gt;The Design Stamina Hypothesis suggests that early on in a project you&#39;ll get more done if you don&#39;t bother too much with design, but a point will come when you&#39;ll be better off if you invest some energy into it.&lt;&#x2F;p&gt;

&lt;p&gt;The next idea is about the difference between procedural and object-oriented code.&lt;&#x2F;p&gt;

&lt;h3&gt;#2: Procedural vs Object-Oriented Code&lt;&#x2F;h3&gt;

&lt;p&gt;The section compares procedural and OO code in terms of changeability and understandability.  The following graph explores the trade-offs between the two.&lt;&#x2F;p&gt;

&lt;p&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 2&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Changeability is plotted on the vertical axis above.  Code that is easier to change goes at the bottom.  Code that is harder to change, at the top.&lt;&#x2F;p&gt;

&lt;p&gt;Understandability is represented by the horizontal axis.  Easier to understand code goes to the left, harder to understand code, to the right.&lt;&#x2F;p&gt;

&lt;p&gt;A simple procedure is merely a list of steps.  Simple procedures are easy to understand and easy to change, and so fall into the lower left part of the graph above.  This is the most cost-efficient place to be.&lt;&#x2F;p&gt;

&lt;p&gt;For some problems, simple, non-conditional, non-duplicated procedural code is the best solution.  What could be cheaper?  Write the code and run.&lt;&#x2F;p&gt;

&lt;p&gt;Over time, however, the situation might change.  A new feature request might force the addition of conditional logic, or the duplication of parts of the solution in other places, leading to Figure 3 below.&lt;&#x2F;p&gt;

&lt;p&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 3&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Above, the cost-effective procedure has morphed into a complicated, condition-laden, duplicative morass of code that&#39;s hard to understand or change.&lt;&#x2F;p&gt;

&lt;p&gt;Simple procedures are cheap.  Complicated procedures are expensive.  The only compliment you can pay a complicated procedure (and this is really scraping the bottom of the barrel) is to say that at least all of the #$%@! code is in one place.  However, proximity alone is not enough to justify this complexity.  There are more cost-effective ways to arrange code.&lt;&#x2F;p&gt;

&lt;p&gt;The next graph adds object-oriented code to the mix. Notice that the OO solution is a little more costly than a simple procedure but far less costly than a complex one.&lt;&#x2F;p&gt;

&lt;p&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 4&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;In object-oriented solutions, small, interchangeable objects collaborate by sending messages.  Messages afford seams which allow you to replace existing objects with new ones that play the same role.  Message sending makes it easy to change behavior by swapping in new parts.  &lt;&#x2F;p&gt;

&lt;p&gt;Another consequence of message sending is that it obscures the &lt;em&gt;details&lt;&#x2F;em&gt; of what happens as a result.  From the senders&#39; point of view, a message represents only an intention.  The receiver of the message supplies the implementation, which is hidden from the sender.  Messages bestow effortless &lt;em&gt;local&lt;&#x2F;em&gt; substitutability at the cost of ignorance of &lt;em&gt;distant&lt;&#x2F;em&gt; implementation.  &lt;&#x2F;p&gt;

&lt;p&gt;Relative to complex procedures, OO is easier to understand and change.  Relative to  &lt;em&gt;simple&lt;&#x2F;em&gt; procedures, OO can be as easy to change, but might well be harder to understand &lt;em&gt;as a whole&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;So, OO isn&#39;t a slam-dunk, hands-down winner.  It depends on the complexity of your problem and the longevity of your application.&lt;&#x2F;p&gt;

&lt;p&gt;Speaking of longevity, let&#39;s move on to the final idea, churn.&lt;&#x2F;p&gt;

&lt;h3&gt;#3: Churn and Complexity&lt;&#x2F;h3&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;michaelfeathers.silvrback.com&#x2F;&quot; target&#x3D;&quot;_blank&quot;&gt;Michael Feathers&#39;&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.stickyminds.com&#x2F;article&#x2F;getting-empirical-about-refactoring&quot; target&#x3D;&quot;_blank&quot;&gt;Getting Empirical about Refactoring&lt;&#x2F;a&gt; article introduces the idea of &lt;em&gt;churn&lt;&#x2F;em&gt;.  Churn is a measure of how often a file changes.  Files that change more have higher churn.  &lt;&#x2F;p&gt;

&lt;p&gt;Churn is interesting in isolation, but it&#39;s even more useful to consider churn alongside complexity.  Feathers&#39; article includes the following chart, to which I&#39;ve added the curved green line.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.stickyminds.com&#x2F;article&#x2F;getting-empirical-about-refactoring&quot; target&#x3D;&quot;_blank&quot;&gt;
  
&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 6&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Above, churn is on the horizontal axis.  Code complexity is on the vertical.  &lt;&#x2F;p&gt;

&lt;p&gt;Complicated code that rarely changes appears in the upper left quadrant of this graph.  We abhor complication, but if the code never changes, it&#39;s not costing us money.  Pretend the code is a cabinet overstuffed with teetering Tupperware: just quietly press the door closed and sneak away.  Ignore code in this quadrant until it starts to churn.&lt;&#x2F;p&gt;

&lt;p&gt;Simple code that changes a lot falls into the lower right quadrant.  If code is simple enough (think &lt;em&gt;configuration file&lt;&#x2F;em&gt;) it will be cheap to change.  Change this code as often as necessary, as long as it remains simple.&lt;&#x2F;p&gt;

&lt;p&gt;The lower left quadrant contains things that aren&#39;t very complicated and that don&#39;t change much, so this code is already cost-effective and can also be ignored.&lt;&#x2F;p&gt;

&lt;p&gt;The green line curves from upper left, through lower left, and into lower right.  This illustrates the curve around which we&#39;d like the code in our apps to cluster.  Notice that this line does &lt;em&gt;not&lt;&#x2F;em&gt; enter the top right quadrant.&lt;&#x2F;p&gt;

&lt;p&gt;The top right quadrant reflects complicated code that changes often.  By definition, code like this will be hard to understand and difficult to change.  We&#39;d prefer this quadrant to be empty, so code that slithers into it should be refactored right back out of it.&lt;&#x2F;p&gt;

&lt;p&gt;Now that we have these ideas in common, I can lean on them to explain a way in which applications go wrong.&lt;&#x2F;p&gt;

&lt;h3&gt;Code Evolves Towards a Predictable Kind Of Mess&lt;&#x2F;h3&gt;

&lt;p&gt;There&#39;s a kind of code mess I see repeatedly, where&#39;er I travel.  Courtesy of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;codeclimate.com&#x2F;&quot; target&#x3D;&quot;_blank&quot;&gt;Code Climate&lt;&#x2F;a&gt;, here are a few graphs that expose its symptoms in several projects (as of Sept 7, 2017).&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;codeclimate.com&#x2F;github&#x2F;angular&#x2F;angular.js&#x2F;trends&#x2F;churn&quot; target&#x3D;&quot;_blank&quot;&gt;
  
&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 7&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;codeclimate.com&#x2F;github&#x2F;discourse&#x2F;discourse&#x2F;trends&#x2F;churn&quot; target&#x3D;&quot;_blank&quot;&gt;
  
&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 8&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;codeclimate.com&#x2F;github&#x2F;gitlabhq&#x2F;gitlabhq&#x2F;trends&#x2F;churn&quot; target&#x3D;&quot;_blank&quot;&gt;
  
&lt;&#x2F;a&gt; &lt;br &#x2F;&gt;
&lt;strong&gt;&lt;em&gt;Figure 9&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;The &lt;em&gt;Churn vs. quality&lt;&#x2F;em&gt; charts above are Code Climate&#39;s variant of Michael Feathers&#39; &lt;em&gt;File Churn vs. Complexity&lt;&#x2F;em&gt; idea.  Notice that on each of these charts the points cluster around a curve similar to the green line in Figure 6.  This is good.  It is commendable that in these applications most of the complex code changes little, and most changes are to simple code.&lt;&#x2F;p&gt;

&lt;p&gt;However, each of these graphs also contains an unwanted outlier that resides in the top right quadrant.  I&#39;m not familiar with the source code for these apps, but sight unseen I feel confident making a few predictions about the outlying classes.  I suspect that they:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;are larger than most other classes,&lt;&#x2F;li&gt;
&lt;li&gt;are laden with conditionals, and&lt;&#x2F;li&gt;
&lt;li&gt;represent core concepts in the domain&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;&lt;em&gt;You can verify this, if you care to, by clicking on each graph above to open the corresponding page in Code Climate.  Once there, click on the dot of the outlier to link to the underlying code.  As I&#39;ve already confessed, I don&#39;t really know these apps so what do I know...but based on name, size, complexity and churn, I can&#39;t help but believe I&#39;m correct.  If I&#39;m wrong, or if the code has changed by the time you look, just ignore the example and continue to trust the principle. :-)&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Many applications express this pattern.  Much of their code is fairly understandable and reasonably easy to change.  However, they also contain one or two large, complex, and constantly churning classes that represent extremely important ideas in their domain.  &lt;&#x2F;p&gt;

&lt;p&gt;Everyone hates working on these outlier classes.  To touch them is to break them.  The tests don&#39;t provide safety.  And no attempted cure helps.  Despite best efforts, these classes continue to grow in size and complexity.  They&#39;re headed from bad to worse.&lt;&#x2F;p&gt;

&lt;p&gt;How does this happen?&lt;&#x2F;p&gt;

&lt;p&gt;We can use a combination of the first three ideas to explain the problem, and understanding the problem offers hope of preempting it.&lt;&#x2F;p&gt;

&lt;p&gt;I posit the following:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;If you do design too early, you&#39;ll waste your efforts. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 1 - The orange line early in time&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;If you never do design, your code will become a painful mess. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 1 - The blue line late in time&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;A time will come when investing in design will save you money. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 1 - Where the lines cross&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Simple procedures require little design and are cheap to maintain. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 2, Figure 1: The blue line early&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Procedures become more complex over time, and more expensive to maintain. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 3, Figure 1: The blue line late in time&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Object-oriented code is more cost-effective than complex procedural code. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 4&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;The procedures &lt;em&gt;that are most important to your domain&lt;&#x2F;em&gt; change more than those that are incidental to your domain.  &lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;The procedures &lt;em&gt;that are important to your domain&lt;&#x2F;em&gt; increase in complexity faster than other code.  &lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;It&#39;s difficult to be aware of the exact moment when your application crosses the design payoff line. &lt;br &#x2F;&gt;
(&lt;em&gt;Figure 1&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;You become aware that you have passed the design payoff line because velocity slows and suffering increases.
(&lt;em&gt;Figure 1 - blue line beyond the design payoff line&lt;&#x2F;em&gt;)&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;The most important code will be the most out-of-control by the time you realize you&#39;ve passed the design payoff line.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Moderately complex procedures are easy to convert to OO.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Extremely complex procedures are more difficult to convert to OO.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Your attempts to convert moderately complicated procedures to OO generally &lt;strong&gt;succeed&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;p&gt;Your attempts to convert extremely complicated procedures to OO often &lt;strong&gt;fail&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;This is how we end up with applications where many small, efficient classes coexist alongside one costly, massive, condition-filled behemoth.  A series of small, innocent changes turned the application&#39;s most important code into a class so complex that no one could fix it.  The problem becomes visible at item 15 above, but its roots lie in item 8, where tiny bits of complexity got added, repeatedly, until the logic passed the point of no return.&lt;&#x2F;p&gt;

&lt;p&gt;Sticking with procedures too long is just as bad as doing design too soon.  If important classes in your domain change often, get bigger every time they change, and are accumulating conditionals, stop adding to them right now. Use every new request as an opportunity to do a bit of design.  Implement the change using small, well-designed classes that collaborate with the existing object.&lt;&#x2F;p&gt;

&lt;p&gt;A 5,000 line class exerts a gravitational pull that makes makes it hard to imagine creating a set of 10 line helper classes to meet a new requirement. Make new classes anyway.  The way to get the outliers back on the green line where they belong is to resist putting more code in objects that are already too large.  Make small objects, and over time, the big ones will disappear.&lt;&#x2F;p&gt;

&lt;p&gt;Best, &lt;br &#x2F;&gt;
Sandi&lt;&#x2F;p&gt;

&lt;h3&gt;News:&lt;&#x2F;h3&gt;

&lt;h5&gt;Public POOD course in October in beautiful North Carolina&lt;&#x2F;h5&gt;

&lt;p&gt;I&#39;m teaching a public &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.sandimetz.com&#x2F;courses&#x2F;&quot; target&#x3D;&quot;\_blank&quot;&gt;Practical Object-Oriented Design course&lt;&#x2F;a&gt; in Durham, NC on Oct 25-27, 2017, which we&#39;re fondly referring to as &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.sandimetz.com&#x2F;poodnc-2017&#x2F;&quot; target&#x3D;&quot;\_blank&quot;&gt;POODNC&lt;&#x2F;a&gt;.  This is your chance to spend three days with like-minded peers, changing the way you think about objects.  Your applications will never be the same.&lt;&#x2F;p&gt;

&lt;p&gt;A few &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;ti.to&#x2F;torqueforge&#x2F;poodnc-october-2017&quot; target&#x3D;&quot;\_blank&quot;&gt;tickets&lt;&#x2F;a&gt; remain.   &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;ti.to&#x2F;torqueforge&#x2F;poodnc-october-2017&quot; target&#x3D;&quot;\_blank&quot;&gt;Get yours&lt;&#x2F;a&gt; before they&#39;re gone!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://www.sandimetz.com/blog/2017/9/13/breaking-up-the-behemoth"/>
    <published>2017-09-13T11:00:00.000Z</published>
  </entry>
  <entry>
    <title>I don’t know who the Web Audio API is designed for | Clean Rinse</title>
    <content type="html">&lt;p&gt;WebGL is, all things considered, a pretty decent API. It’s not a great API, but that’s just because OpenGL is also not a great API. It gives you raw access to the GPU and is pretty low-level. For those intimidated by something so low-level, there are quite a few higher-level engines like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;threejs.org&#x2F;&quot;&gt;three.js&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;docs.unity3d.com&#x2F;Manual&#x2F;webgl-building.html&quot;&gt;Unity&lt;&#x2F;a&gt; which are easier to work with. It’s a good API with a tremendous amount of power, and it’s the best portable abstraction we have for a good way to work with the GPU on the web.&lt;&#x2F;p&gt;
&lt;p&gt;HTML5 Canvas is, all things considered, a pretty decent API. It has plenty of warts: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;lists.w3.org&#x2F;Archives&#x2F;Public&#x2F;public-whatwg-archive&#x2F;2014May&#x2F;0164.html&quot;&gt;lack of colorspace&lt;&#x2F;a&gt;, you can’t directly draw DOM elements to a canvas without &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;Canvas_API&#x2F;Drawing_DOM_objects_into_a_canvas&quot;&gt;awkwardly porting it to an SVG&lt;&#x2F;a&gt;, blurs are strangely hidden from the user into a “shadows” API, and a few other things. But it’s honestly a good abstraction for drawing 2D shapes.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;webaudio.github.io&#x2F;web-audio-api&#x2F;&quot;&gt;Web Audio&lt;&#x2F;a&gt;, conversely, is an API I do not understand. The scope of Web Audio is hopelessly huge, with features I can’t imagine anybody using, core abstractions that are hopelessly expensive, and basic functionality basically missing. To quote the specification itself: “It is a goal of this specification to include the capabilities found in modern game audio engines as well as some of the mixing, processing, and filtering tasks that are found in modern desktop audio production applications.”&lt;&#x2F;p&gt;
&lt;p&gt;I can’t imagine any game engine or music production app that would want to use &lt;em&gt;any&lt;&#x2F;em&gt; of the advanced features of Web Audio. Something like the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;webaudio.github.io&#x2F;web-audio-api&#x2F;#the-dynamicscompressornode-interface&quot;&gt;DynamicsCompressorNode&lt;&#x2F;a&gt; is practically a joke: basic features from a real compressor are basically missing, and the behavior that is there is underspecified such that I can’t even trust it to sound correct between browsers. More than likely, such filters would be written using asm.js or WebAssembly, or ran as Web Workers due to the rather stateless, input&#x2F;output nature of DSPs. Math and tight loops like this aren’t hard, and they aren’t rocket science. It’s the only way to ensure correct behavior.&lt;&#x2F;p&gt;
&lt;p&gt;For people that do want to do such things: compute our audio samples and then play it back, well, the APIs make it near impossible to do it in any performant way.&lt;&#x2F;p&gt;
&lt;p&gt;For those new to audio programming, with a traditional sound API, you have a buffer full of samples. The hardware speaker runs through these samples. When the API thinks it is about to run out, it goes to the program and asks for more. This is normally done through a data structure called a “&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Circular_buffer&quot;&gt;ring buffer&lt;&#x2F;a&gt;” where we have the speakers “chase” the samples the app is writing into the buffer. The gap between the “read pointer” and the “write pointer” speakers is important: too small and the speakers will run out if the system is overloaded, causing crackles and other artifacts, and too high and there’s a noticeable lag in the audio.&lt;&#x2F;p&gt;
&lt;p&gt;There’s also some details like how many of these samples we have per second, or the “sample rate”. These days, there are two commonly used sample rates: 48000Hz, in use by most systems these days, and 44100Hz, which, while a bit of a strange number, rose in popularity due to its use in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Compact_Disc_Digital_Audio&quot;&gt;CD Audio&lt;&#x2F;a&gt; (why 44100Hz for CDDA? Because Sony, one of the organizations involved with the CD, cribbed CDDA from an earlier digital audio project it had lying around, the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;U-matic#Digital_audio&quot;&gt;U-matic&lt;&#x2F;a&gt; tape). It’s common to see the operating system have to convert to a different sample rate, or “resample” audio, at runtime.&lt;&#x2F;p&gt;
&lt;p&gt;Here’s an example of a theoretical, non-Web Audio API, to compute and play a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;gPBgWWZhcA4&quot;&gt;440Hz sine wave&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;pre&gt;
const frequency &#x3D; 440; &#x2F;&#x2F; 440Hz A note.
 &#x2F;&#x2F; 1 channel (mono), 44100Hz sample rate
const stream &#x3D; window.audio.newStream(1, 44100);
stream.onfillsamples &#x3D; function(samples) {
    &#x2F;&#x2F; The stream needs more samples!
    const startTime &#x3D; stream.currentTime; &#x2F;&#x2F; Time in seconds.
    for (var i &#x3D; 0; i &amp;lt; samples.length; i++) {
        const t &#x3D; startTime + (i &#x2F; stream.sampleRate);
        &#x2F;&#x2F; samples is an Int16Array
        samples[i] &#x3D; Math.sin(t * frequency) * 0x7FFF;
    }
};
stream.play();
&lt;&#x2F;pre&gt;
&lt;p&gt;The above, however, is nearly impossible in the Web Audio API. Here is the closest equivalent I can make.&lt;&#x2F;p&gt;
&lt;pre&gt;
const frequency &#x3D; 440;
const ctx &#x3D; new AudioContext();
&#x2F;&#x2F; Buffer size of 4096, 0 input channels, 1 output channel.
const scriptProcessorNode &#x3D; ctx.createScriptProcessorNode(4096, 0, 1);
scriptProcessorNode.onaudioprocess &#x3D; function(event) {
    const startTime &#x3D; ctx.currentTime;
    const samples &#x3D; event.outputBuffer.getChannelData(0);
    for (var i &#x3D; 0; i &amp;lt; 4096; i++) {
        const t &#x3D; startTime + (i &#x2F; ctx.sampleRate);
        &#x2F;&#x2F; samples is a Float32Array
        samples[i] &#x3D; Math.sin(t * frequency);
    }
};
&#x2F;&#x2F; Route it to the main output.
scriptProcessorNode.connect(ctx.destination);
&lt;&#x2F;pre&gt;
&lt;p&gt;Seems similar enough, but there are some important distinctions. First, well, this is deprecated. Yep. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;ScriptProcessorNode&quot;&gt;ScriptProcessorNode has been deprecated&lt;&#x2F;a&gt; in favor of Audio Workers since 2014. Audio Workers, by the way, don’t exist. Before they were ever implemented in any browser, they were replaced by the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;webaudio.github.io&#x2F;web-audio-api&#x2F;#AudioWorklet&quot;&gt;AudioWorklet&lt;&#x2F;a&gt; API, which doesn’t have any implementation in browsers.&lt;&#x2F;p&gt;
&lt;p&gt;Second, the sample rate is global for the entire context. There is no way to get the browser to resample dynamically generated audio. Despite the browser requiring having fast resample code in C++, this isn’t exposed to the user of ScriptProcessorNode. The sample rate of an AudioContext isn’t defined to be 44100Hz or 48000Hz either, by the way. It’s dependent on not just the browser, but also the operating system and hardware of the device. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;bugs.webkit.org&#x2F;show_bug.cgi?id&#x3D;154538&quot;&gt;Connecting to Bluetooth headphones&lt;&#x2F;a&gt; can cause the sample rate of an AudioContext to change, without warning.&lt;&#x2F;p&gt;
&lt;p&gt;So ScriptProcessorNode is a no go. There is, however, an API that lets us provide a differently sampled buffer and have the Web Audio API play it. This, however, isn’t a “pull” approach where the browser fetches samples every once in a while, it’s instead a “push” approach where we play a new buffer of audio every so often. This is known as BufferSourceNode, and it’s what emscripten’s SDL port uses to play audio. (they used to use ScriptProcessorNode but then &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;kripken&#x2F;emscripten&#x2F;commit&#x2F;9440047e4b99425032874d870683ca4a3c833e35&quot;&gt;removed it because it didn’t work good, consistently&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;
&lt;p&gt;Let’s try using BufferSourceNode to play our sine wave:&lt;&#x2F;p&gt;
&lt;pre&gt;
const frequency &#x3D; 440;
const ctx &#x3D; new AudioContext();
let playTime &#x3D; ctx.currentTime;
function pumpAudio() {
    &#x2F;&#x2F; The rough idea here is that we buffer audio roughly a
    &#x2F;&#x2F; second ahead of schedule and rely on AudioContext&#39;s
    &#x2F;&#x2F; internal timekeeping to keep it gapless. playTime is
    &#x2F;&#x2F; the time in seconds that our stream is currently
    &#x2F;&#x2F; buffered to.

    &#x2F;&#x2F; Buffer up audio for roughly a second in advance.
    while (playTime - ctx.currentTime &amp;lt; 1) {
        &#x2F;&#x2F; 1 channel, buffer size of 4096, at
        &#x2F;&#x2F; a 48KHz sampling rate.
        const buffer &#x3D; ctx.createBuffer(1, 4096, 48000);
        const samples &#x3D; buffer.getChannelData(0);
        for (let i &#x3D; 0; i &amp;lt; 4096; i++) {
            const t &#x3D; playTime + Math.sin(i &#x2F; 48000);
            samples[i] &#x3D; Math.sin(t * frequency);
        }

        &#x2F;&#x2F; Play the buffer at some time in the future.
        const bsn &#x3D; ctx.createBufferSource();
        bsn.buffer &#x3D; buffer;
        bsn.connect(ctx.destination);
        &#x2F;&#x2F; When a buffer is done playing, try to queue up
        &#x2F;&#x2F; some more audio.
        bsn.onended &#x3D; function() {
            pumpAudio();
        };
        bsn.start(playTime);
        &#x2F;&#x2F; Advance our expected time.
        &#x2F;&#x2F; (samples) &#x2F; (samples per second) &#x3D; seconds
        playTime +&#x3D; 4096 &#x2F; 48000;
    }
}
pumpAudio();
&lt;&#x2F;pre&gt;
&lt;p&gt;There’s a few… unfortunate things here. First, we’re basically relying on floating point timekeeping in seconds to keep our playback times consistent and gapless. There is no way to reset an AudioContext’s currentTime short of constructing a new one, so if someone wanted to build a professional Digital Audio Workstation that was alive for days, precision loss from floating point would become a big issue.&lt;&#x2F;p&gt;
&lt;p&gt;Second, and this was also an issue with ScriptProcessorNode, the samples array is full of floats. This is a minor point, but forcing everybody to work with floats is going to be slow. &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;people.xiph.org&#x2F;~xiphmont&#x2F;demo&#x2F;neil-young.html&quot;&gt;16 bits is enough for everybody&lt;&#x2F;a&gt; and for an output format it’s more than enough. Integer Arithmetic Units are &lt;em&gt;very&lt;&#x2F;em&gt; fast workers and there’s no huge reason to shun them out of the equation. You can &lt;em&gt;always&lt;&#x2F;em&gt; have code convert from a float to an int16 for the final output, but once something’s in a float, it’s going to be slow forever.&lt;&#x2F;p&gt;
&lt;p&gt;Third, and most importantly, we’re allocating two new objects per audio sample! Each buffer is roughly &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.google.com&#x2F;search?q&#x3D;%284096+%2F+48000%29+seconds+in+milliseconds&quot;&gt;85 milliseconds long&lt;&#x2F;a&gt;, so every 85 milliseconds we are allocating two new GC’d objects. This could be mitigated if we could use an existing, large ArrayBuffer that we slice, but we can’t provide our own ArrayBuffer: createBuffer creates one for us, for each channel we request. You might imagine you can createBuffer with a very large size and play only small slices in the BufferSourceNode, but there’s no way to slice an AudioBuffer object, nor is there any way to specify an offset into the corresponding with a AudioBufferSourceNode.&lt;&#x2F;p&gt;
&lt;p&gt;You might imagine the best solution is to simply keep a pool of BufferSourceNode objects and recycle them after they are finished playing, but BufferSourceNode is designed to be a one-time-use-only, fire-and-forget API. The documentation &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;API&#x2F;AudioBufferSourceNode&quot;&gt;helpfully states&lt;&#x2F;a&gt; that they are “cheap to create” and they “will automatically be garbage-collected at an appropriate time”.&lt;&#x2F;p&gt;
&lt;p&gt;I know I’m fighting an uphill battle here, but a GC is not what we need during realtime audio playback.&lt;&#x2F;p&gt;
&lt;p&gt;Keeping a pool of AudioBuffers seems to work, though in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;magcius.github.io&#x2F;spc.js&#x2F;spc.html&quot;&gt;my own test app&lt;&#x2F;a&gt; I still see slow growth to 12MB over time before a major GC wipes, according to the Chrome profiler.&lt;&#x2F;p&gt;
&lt;p&gt;What makes this so much more ironic is that a very similar API was proposed by Mozilla, called the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;wiki.mozilla.org&#x2F;Audio_Data_API&quot;&gt;Audio Data API&lt;&#x2F;a&gt;. It’s three functions: setup(), currentSampleOffset(), and writeAudio(). It’s still a push API, not a pull API, but it’s very simple to use, supports resampling at runtime, doesn’t require you to break things up into GC’d buffers, and doesn’t have any.&lt;&#x2F;p&gt;
&lt;p&gt;Specifications and libraries can’t be created in a vacuum. If we instead got the simplest possible interface out there and let people play with it, and then took some of the more slow bits people were implementing in JavaScript (resampling, FFT) and put them in C++, I’m sure we’d see a lot more growth and usage than what we do today. And we’d have actual users for this API, and real-world feedback from users using it in production. But instead, the biggest user of Web Audio right now appears to be emscripten, who obviously won’t care much for any of the graph routing nonsense, and already attempts to work around the horrible APIs themselves.&lt;&#x2F;p&gt;
&lt;p&gt;Can the ridiculous overeagerness of Web Audio be reversed? Can we bring back a simple “play audio” API and bring back the performance gains once we see what happens in the wild? I don’t know, I’m not on these committees, I don’t even work in web development other than fooling around on nights and weekends, and I certainly don’t have the time or patience to follow something like this through.&lt;&#x2F;p&gt;
&lt;p&gt;But I would really, really like to see it happen.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://blog.mecheye.net/2017/09/i-dont-know-who-the-web-audio-api-is-designed-for/"/>
    <published>2017-09-13T06:44:23.000Z</published>
  </entry>
  <entry>
    <title>How to Grow a User Group, the Remix | 8th Light Blog</title>
    <content type="html">&lt;p&gt;Last week, I had the honor of &lt;a href&#x3D;&quot;&#x2F;blog&#x2F;ray-hightower&#x2F;2017&#x2F;09&#x2F;07&#x2F;chicagoruby-new-leadership.html&quot;&gt;passing the ChicagoRuby leadership baton&lt;&#x2F;a&gt; to one of my 8th Light colleagues, Nicole Carpenter. Much can pile up in ten years of leadership, so she and I have spent the last few weeks managing handoff details, including introductions to key contact people, transferring social media accounts, finding videos, and answering questions.&lt;&#x2F;p&gt;

&lt;h3&gt;Why?&lt;&#x2F;h3&gt;

&lt;p&gt;The most important question that I can answer for Nicole and her team is &lt;em&gt;why?&lt;&#x2F;em&gt; Answering that question means sharing the thought process behind my past decisions for the group. Answering &lt;em&gt;why?&lt;&#x2F;em&gt; will help them to determine whether one of my old decisions makes sense in a future context vs a different decision by the new team. Old decisions don’t always hold up over time.&lt;&#x2F;p&gt;

&lt;p&gt;This is an updated version of the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;rayhightower.com&#x2F;blog&#x2F;2014&#x2F;05&#x2F;30&#x2F;how-to-grow-a-user-group&#x2F;&quot;&gt;How to Grow a User Group&lt;&#x2F;a&gt; post from 2014. ChicagoRuby has evolved since then: We have 4,200 members (up from 2,700), new meeting locations, a larger team of organizers, and a deeper relationship with 8th Light. The growth continues. My hope: That the growth we&#39;ve experienced since that original post will provide useful information to anyone building a community around their interests.&lt;&#x2F;p&gt;

&lt;p&gt;And now… here’s How to Grow a User Group, the Remix.&lt;&#x2F;p&gt;

&lt;h3&gt;Quick Summary&lt;&#x2F;h3&gt;

&lt;p&gt;ChicagoRuby is successful because our team does a few things really well. We practice consistency, teamwork, iteration, and learning from mistakes. We have maintained our focus since 2007. And we’ve made a few mistakes, revealed here.&lt;&#x2F;p&gt;

&lt;h3&gt;Be Consistent With Meetings&lt;&#x2F;h3&gt;

&lt;p&gt;Consistency is difficult in the beginning, especially on that night when only three people show up for a meeting. I have hosted a 3-person ChicagoRuby meeting before. Consistency is hard, and it is also the most important factor in user group success.&lt;&#x2F;p&gt;

&lt;p&gt;People trust consistency. Consistent meetings grow groups.&lt;&#x2F;p&gt;

&lt;p&gt;Members of ChicagoRuby know that our largest meeting happens on the first Tuesday of every month downtown. Our hack nights and workshops are posted on the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;ChicagoRuby&#x2F;events&#x2F;&quot;&gt;ChicagoRuby calendar&lt;&#x2F;a&gt; months ahead of time. Members can plan their schedules far in advance because the ChicagoRuby calendar is consistent. Consistency builds trust.&lt;&#x2F;p&gt;

&lt;p&gt;ChicagoRuby cancelled a meeting in January 2011 due to a major snow storm in Chicago. We were forced to cancel because the property manager shut the entire building down. We’re a little bit stubborn about consistency. And that’s how we build trust.&lt;&#x2F;p&gt;

&lt;p&gt;Yes, there will be times when the organizer is too exhausted to run an upcoming meeting. That’s why it’s important to share the work by building a team.&lt;&#x2F;p&gt;

&lt;h3&gt;Build the Team&lt;&#x2F;h3&gt;

&lt;p&gt;As of this writing, ChicagoRuby has 14 organizers. We believe in sharing the work amongst multiple people. The group is stronger with several brains working in concert. Working as a team enables us to benefit from each other’s strengths. Some organizers have strong design skills, others are strong developers. And some are good at asking members for help.&lt;&#x2F;p&gt;

&lt;h3&gt;Ask for Help&lt;&#x2F;h3&gt;

&lt;blockquote&gt;
&lt;p&gt;I guarantee you that any favor he asks of you, you will offer to do before he requests it.&lt;br &#x2F;&gt; &lt;br &#x2F;&gt;~Tom Hagen, Consigliere&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;One way to ask for help: Encourage members to help in their area of enthusiasm. And if they’re really effective, ask them to join the organizer team. &lt;&#x2F;p&gt;

&lt;p&gt;For example, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;amazingspeciali&quot;&gt;Ola Giwa&lt;&#x2F;a&gt; is a data scientist active at &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.thebluelacuna.com&quot;&gt;BLUE Lacuna&lt;&#x2F;a&gt; on Chicago’s South Side. Ola is passionate about sharing her data science and programming knowledge with others. So we asked her to make it happen as a member of the organizer team. Today, Ola leads ChicagoRuby&#39;s work at BLUE.&lt;&#x2F;p&gt;

&lt;p&gt;Members who have ideas for improvement tend to be strong leaders. The whole group benefits when we get out of their way and let them lead.&lt;&#x2F;p&gt;

&lt;p&gt;Take a look at the list of &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.chicagoruby.org&#x2F;organizers&#x2F;&quot;&gt;ChicagoRuby Organizers&lt;&#x2F;a&gt;, past and present. Many of our former organizers remain active in an emeritus role. Every mind helps to make the group stronger.&lt;&#x2F;p&gt;

&lt;p&gt;In addition to the core group of ChicagoRuby organizers, a few people deserve special mention. &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;zolk&quot;&gt;Kevin Zolkiewicz&lt;&#x2F;a&gt; managed every WindyCityRails from 2008 through 2016. This year, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;ChicagoRuby&#x2F;members&#x2F;214943981&#x2F;&quot;&gt;Breanna Reader&lt;&#x2F;a&gt; assumed Kevin’s management responsibilities while &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;jmkozy&quot;&gt;Jordan Koczot&lt;&#x2F;a&gt; helps with logistics. Kevin remains as an advisor. The team grows stronger when responsibilities are shared. Everybody wins.&lt;&#x2F;p&gt;

&lt;h3&gt;Automate Everything&lt;&#x2F;h3&gt;

&lt;p&gt;Managing a database of 4,200+ members could be drudgery. Fortunately, &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;meetup.com&#x2F;chicagoruby&quot;&gt;Meetup.com&lt;&#x2F;a&gt; makes the process easy. Meetup handles RSVPs, membership additions and deletions, and reminders. Sometimes, the 2-week automated reminder from Meetup.com reminds the organizers to get a speaker for the next meeting!&lt;&#x2F;p&gt;

&lt;p&gt;Early in our history, someone suggested that ChicagoRuby should not use Meetup.com because it was written in PHP, and we’re a Ruby group. But we see things differently. ChicagoRuby is a Ruby group that uses the best tool for the job, regardless of language. Meetup.com has proven itself useful since 2007, and it’s still going strong.&lt;&#x2F;p&gt;

&lt;h3&gt;Choose a Short Name&lt;&#x2F;h3&gt;

&lt;p&gt;In order to grow, a group has to attract new members. People looking for a group to join are likely to start with a search engine. Search engines adore simplicity.&lt;&#x2F;p&gt;

&lt;p&gt;Our group was originally called The Chicago Area Ruby on Rails Meetup Group. Accurate, and a mouthful. We discovered that a simple domain name, &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;chicagoruby.org&quot;&gt;ChicagoRuby.org&lt;&#x2F;a&gt;, was available. So we grabbed it, along with the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;chicagoruby&quot;&gt;@ChicagoRuby&lt;&#x2F;a&gt; Twitter handle. &lt;&#x2F;p&gt;

&lt;p&gt;We merged with Chirb, another Ruby group, in 2009. We considered switching to their shorter handle, but we stuck with ChicagoRuby because it’s the shortest name that communicates our purpose in two easy-to-remember words.&lt;&#x2F;p&gt;

&lt;h3&gt;Be Easy to Find&lt;&#x2F;h3&gt;

&lt;p&gt;To make the group easy to find, every web site in the ChicagoRuby ecosystem points to all of the group’s other web sites. For example, all of the conference sites point to the ChicagoRuby site, and vice versa. A new member who finds one part of the ecosystem will find the whole thing. People feel welcome when information is easy to find. And the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;rayhightower.com&#x2F;blog&#x2F;2017&#x2F;08&#x2F;24&#x2F;highly-effective-seo&#x2F;&quot;&gt;search engines&lt;&#x2F;a&gt; love it, too.&lt;&#x2F;p&gt;

&lt;p&gt;Making future members feel welcome is key to growth. Free monthly events are another way to make people feel welcome.&lt;&#x2F;p&gt;

&lt;h3&gt;Keep Monthly Events Free&lt;&#x2F;h3&gt;

&lt;p&gt;I firmly believe that monthly user group meetings should be free. We never know what a member of our community is going through financially. Therefore, ChicagoRuby’s monthly meetings have always been free.&lt;&#x2F;p&gt;

&lt;p&gt;My personal history includes times when I was dead broke due to one entrepreneurial setback or another. So I have emotional reasons for keeping ChicagoRuby’s monthly events free of charge.&lt;&#x2F;p&gt;

&lt;p&gt;Of course, the money to pay for the meetings has to come from somewhere. That’s where sponsors can help.&lt;&#x2F;p&gt;

&lt;h3&gt;Cover Monthly Costs Through Sponsorships&lt;&#x2F;h3&gt;

&lt;p&gt;Companies will gladly sponsor a group that gives them a return on their investment. Sponsorships don’t always come in the form of money.&lt;&#x2F;p&gt;

&lt;p&gt;For example, ChicagoRuby’s first sponsor was &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.deforestgroup.com&#x2F;&quot;&gt;DeForest Group&lt;&#x2F;a&gt;. Owners Lee DeForest and Jim DeForest provided ChicagoRuby with free meeting space and WiFi for our Saturday meetings in Elmhurst. Lee was one of the five people in the room when I became lead organizer in 2007. I will always be grateful for Lee’s early support.&lt;&#x2F;p&gt;

&lt;p&gt;8th Light has been a supporter and sponsor of ChicagoRuby and related conferences for over a decade. Members of 8th Light spoke at the first WindyCityRails in 2008. The company has deepened its commitment to ChicagoRuby over the past year, and our members are grateful.&lt;&#x2F;p&gt;

&lt;p&gt;Sponsors get to address the group at the beginning of each meeting. More important, by sponsoring ChicagoRuby over time, a company can build trust within the membership.&lt;&#x2F;p&gt;

&lt;p&gt;O’Reilly Media was our first publishing sponsor. O’Reilly, Pearson Education, and The Pragmatic Programmers provided books for ChicagoRuby members to review at Amazon, Slashdot, and other sites.&lt;&#x2F;p&gt;

&lt;p&gt;Sponsors get involved with user groups for two main reasons: To recruit developers, or to market products to developers. Everybody wins when sponsors get involved with user groups, financially or otherwise.&lt;&#x2F;p&gt;

&lt;h3&gt;Vet Speakers&lt;&#x2F;h3&gt;

&lt;p&gt;Members of ChicagoRuby trust the organizers to deliver quality events every month. I dropped the ball one month when I failed to properly vet a speaker. After that meeting, organizer &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;dgiunta&quot;&gt;Dave Giunta&lt;&#x2F;a&gt; wrote the first draft of the ChicagoRuby &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.chicagoruby.org&#x2F;about&#x2F;speaker-guidelines&#x2F;&quot;&gt;speaker guidelines&lt;&#x2F;a&gt;. We’ve word-smithed the guidelines over the years, but the most important parts were written by Dave.&lt;&#x2F;p&gt;

&lt;h3&gt;Make Members Feel Awesome&lt;&#x2F;h3&gt;

&lt;p&gt;We humans have a need to belong to something. The feeling of belonging (awesomeness) can be strengthened when we go out for drinks after an event. Drinks are not necessarily alcohol; when we go to a bar together, some members will have a soda, juice, or coffee. Informal camaraderie makes members feel like welcome.&lt;&#x2F;p&gt;

&lt;p&gt;ChicagoRuby members gather together at a bar for an hour or so after our downtown meetings. Our suburban meetings end around noon on Saturdays, so we grab lunch together at a local restaurant. The conversation continues, and bonds are formed.&lt;&#x2F;p&gt;

&lt;h3&gt;Maintain Focus, and Explore New Areas&lt;&#x2F;h3&gt;

&lt;p&gt;Focus generally leads to excellence. But if our focus is too tight, we might miss the Next Great Thing. How does a group balance between focus and exploration?&lt;&#x2F;p&gt;

&lt;p&gt;There’s no easy answer. Like any tech organization, ChicagoRuby has struggled with focus. We’ve experimented with other ventures. We ran a job board for awhile. We ran conferences related to NoSQL and mobile.&lt;&#x2F;p&gt;

&lt;p&gt;In 2015, I attempted (yes, I was the driver behind this mistake) to launch a conference in Barbados. I envisioned an event with sun, beaches, coding, networking, and a tour of an island rum distillery. Unfortunately, ticket sales were dismal, so we cancelled the event.&lt;&#x2F;p&gt;

&lt;p&gt;The good news: While planning the Barbados event, we developed relationships with professors and developers at the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.cavehill.uwi.edu&#x2F;&quot;&gt;University of the West Indies at Cave Hill (UWI)&lt;&#x2F;a&gt;. Developers and engineers in and around UWI were doing cool work with open source, so we collaborated to launch &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;linuxbarbados.org&#x2F;&quot;&gt;LinuxBarbados&lt;&#x2F;a&gt;, a monthly user group. So the Caribbean idea continues to yield some benefits, even today.&lt;&#x2F;p&gt;

&lt;p&gt;What did we learn? In hindsight, we should have launched the user group first, measured interest via monthly attendance, and then planned accordingly.&lt;&#x2F;p&gt;

&lt;p&gt;Conferences require more planning and resources than monthly meetups. Therefore, to maximize the odds of success, conferences should be built after user group experiments prove successful.&lt;&#x2F;p&gt;

&lt;p&gt;You might think of a user group as an MVP for a conference. WindyCityRails, now in its tenth year, is one example of this approach. WindyCityRails was built on the strength of ChicagoRuby.&lt;&#x2F;p&gt;

&lt;h3&gt;Collaborate With Other Groups&lt;&#x2F;h3&gt;

&lt;p&gt;Collaboration stretches our brains in unexpected and wonderful ways. One example of successful collaboration: LinuxBarbados, described above.&lt;&#x2F;p&gt;

&lt;p&gt;Another successful collaboration: ChicagoRuby joined forces with members of Chicago’s Python and Java communities to launch the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;chicagopolyglot.com&quot;&gt;Chicago Polyglot Mingle&lt;&#x2F;a&gt; in 2016. The event was so successful that we repeated it in 2017, with plans to do it again in 2018. A community remains vibrant by borrowing good ideas from other communities.&lt;&#x2F;p&gt;

&lt;h3&gt;Conclusion&lt;&#x2F;h3&gt;

&lt;blockquote&gt;
&lt;p&gt;When smart people challenge each other to grow, great things happen!&lt;br &#x2F;&gt; &lt;br &#x2F;&gt;~The ChicagoRuby Motto&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;Every user group will grow differently depending on its particular strengths and interests. In my experience, groups that grow are those that practice consistency, teamwork, iteration, and learning from mistakes. The whole community benefits when that happens.&lt;&#x2F;p&gt;

&lt;p&gt;If you want to see this approach in action, we invite you to participate in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;chicagoruby.org&quot;&gt;ChicagoRuby&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;windycityrails.com&quot;&gt;WindyCityRails&lt;&#x2F;a&gt;. Our members will make you feel welcome. And awesome!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://8thlight.com/blog/ray-hightower/2017/09/13/how-to-grow-a-user-group-remix.html"/>
    <published>2017-09-13T05:00:00.000Z</published>
  </entry>
  <entry>
    <title>The UK FCA (Finally) Speaks About ICOs | Preston Byrne</title>
    <content type="html">Huge disclaimer notice! In red! I’m an English lawyer, so I want to begin this blog post by saying that I don’t know you, I’m not your lawyer, this blog post is not legal advice, and since structuring ICOs involves navigating more minefields than a British battlecruiser in the Skagerrak during Battle of Jutland, you definitely need to get a qualified lawyer of your own before you do anything ICO-related. Period. If you have no idea what an ICO is, read this. This post is a general survey written by a lawyer for other lawyers with a view to opening...</content>
    <link rel="alternate" href="https://prestonbyrne.com/2017/09/12/the-fca-finally-speaks/"/>
    <published>2017-09-12T16:19:09.000Z</published>
  </entry>
  <entry>
    <title>Gift vs. Reputation in OSS | 250bpm</title>
    <content type="html">&lt;div&gt; &lt;p&gt;Some time ago I&#39;ve written a &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;250bpm.com&#x2F;blog:93&quot;&gt;short note&lt;&#x2F;a&gt; about usage of term &amp;quot;gift culture&amp;quot; in &amp;quot;Homesteading the Noosphere&amp;quot; by Eric S. Raymond. Eric Raymond have responded &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;esr.ibiblio.org&#x2F;?p&#x3D;7579&quot;&gt;here&lt;&#x2F;a&gt;. Unfortunately, I haven&#39;t had time to properly respond until now. Today, finally, I&#39;ve managed to write down some notes on the topic.&lt;&#x2F;p&gt; &lt;p&gt;But first, let me get some stuff out of the way.&lt;&#x2F;p&gt; &lt;p&gt;First, Raymond is correct about the terminology. Looking at Wikipedia article about gift culture it looks like the term is used for everything from Kula ring to alms giving and communism. To me it seems that having a term that broad makes it almost useless, but whatever. Just to be clear, in the remaining part of this post I am going to use the term &amp;quot;gift culture&amp;quot; strictly as if it referred to the reciprocal exchange systems of the nations of the Pacific rim.&lt;&#x2F;p&gt; &lt;p&gt;Second, when I said we should talk about &amp;quot;reputation culture&amp;quot; I&#39;ve just used the term that seemed to describe the thing. I don&#39;t think it&#39;s used in anthropology. Anyway, what I meant was the kind of thing that must have existed in the primordial open source. Number of participants was low, likely below Dunbar number. Everyone knew everyone else. It was easy to keep track of reputation of every person involved. If you released a piece of software to public you were rewarded by increased reputation in the community. The thing I&#39;ve missed and that Eric Raymond have helpfully pointed out is that the this kind of reputation seeking exists even in traditional societies. In real world, it&#39;s always a mix of both mechanisms.&lt;&#x2F;p&gt; &lt;p&gt;Third, he points out that copyleft licenses are not used to regulate in-group behaviour. Rather it&#39;s &amp;quot;a lever on the behavior of outsiders coming into contact with the hacker culture.&amp;quot; While true, it seems that most important thing here is not what it says literally but what it points to: There is an in-group and there are outsiders. There&#39;s a conflict between the two which has to be regulated. That raises more questions: In a development model so loose as open source, who&#39;s the insider and who&#39;s the alien? How can we distinguish between the two? What&#39;s the true nature of the conflict? And how is it being regulated? I&#39;ll try to address that in this post.&lt;&#x2F;p&gt; &lt;p&gt;If we start with the idea of primeval open source as a group of hackers driven solely by reputation it&#39;s clear that the model had to fail to scale at some point. With millions of contributors to open source, which is the case today, there&#39;s no way to keep track of individual reputations. Richard Stallman and Linus Torvalds may still have their individual reputation, but that&#39;s not the case for the nameless millions.&lt;&#x2F;p&gt; &lt;p&gt;One way out would be to adopt the free market system. We would abandon our naive hippie ways and do as responsible grown ups do. We would sell software licenses and acquire software patents. The market would take care of the rest. Except that markets are mechanism for allocation of scarce resources and software, unfortunately, is not a scarce resource. You can copy it ad libitum at no cost.&lt;&#x2F;p&gt; &lt;p&gt;Software industry has experimented with market for software for decades. They&#39;ve tried to turn software into commodity. They&#39;ve tried to introduce artificial scarcity. The result was a dumpster fire so bad that no decent person wants to participate in it any more. In fact, the very free software movement was born out of disgust with the market failures that we had to deal with.&lt;&#x2F;p&gt; &lt;p&gt;So no, markets were not the answer. And with both reputation culture ruled out by the size of the community and the market system ruled out by the non-scarce nature of software the only other option to pursue was the gift economy.&lt;&#x2F;p&gt; &lt;p&gt;Now, don&#39;t get me wrong. I am not saying that hackers have explored the anthropological literature, found out about potlatch and deliberately tried to implement it. What I am saying is that gift culture comes naturally. So naturally, in fact, that I wouldn&#39;t be at all surprised if it turned out that psychology that powers it is hard-wired into our brains. It&#39;s hard to find a society that doesn&#39;t exhibit at least some elements of gift exchange and even our own culture, which, out of all the cultures, has strayed furthest away from it is not completely devoid of sociological structures maintained and reinforced by reciprocated gifts.&lt;&#x2F;p&gt; &lt;p&gt;What I am really saying is that when the market mindset that is so laboriously instilled into us turned out to lead to a failure of epic proportions, the natural, almost instinctive, fallback was to the gift culture.&lt;&#x2F;p&gt; &lt;p&gt;As a big man from Papua gives away a dozen of pigs and couple of cassowaries and expects, in time, to get even more back, the programmers started to give the fruits of their labour away and, according to the logic of the gift economy, patiently waited for reciprocation.&lt;&#x2F;p&gt; &lt;p&gt;But the nature of software defies the gift system as much as it defies the market system. Instead of two scores of pigs and four cassowaries there came questions, complaints, bug reports and requests for features. Instead of reciprocated gifts, the programmer got even more work to do. Then there came patches which looked like true gifts until one realized that although the author of the patch invested their own time to write it they were basically dumping the code over the wall and they expected the maintainer of the project to take care of it for ever after, to fix bugs in it and, generally, to deal with any problems that the patch may have introduced. To the programmer, in the end, all the users seemed to have failed to reciprocate and, in traditional terms, to have &amp;quot;lost their face&amp;quot; and became &amp;quot;rubbish men&amp;quot;.&lt;&#x2F;p&gt; &lt;p&gt;The situation doesn&#39;t look much better from the user&#39;s point of view. They&#39;ve invested their own work to adopt the software, which, instinctively, feels like a gift, and the software turns out to be buggy, to miss features and, generally, to not perform as advertised. So they craft a patch, that is, they give yet one more gift, and the patch gets rejected. That&#39;s a big no-no in traditional gift culture. Rejecting a gift is a big offence and can easily lead to violence. From the user&#39;s point of view, the one who has lost their face is definitely the programmer.&lt;&#x2F;p&gt; &lt;p&gt;In the end, we see two parties, both feeling like they were giving gifts and both feeling like the gifts were not reciprocated or even spurned. That doesn&#39;t sound like a recipe for a viable gift culture.&lt;&#x2F;p&gt; &lt;p&gt;***&lt;&#x2F;p&gt; &lt;p&gt;While the above is mostly uncontroversial and can be supported by dozens of blog posts written by frustrated open source community members, what follows is my speculation and may easily turn out to be completely wrong.&lt;&#x2F;p&gt; &lt;p&gt;I think that the solution to the problem described above is, in many a project, to retreat to the primeval reputation culture. It is accomplished by treating only those that are known to cooperate well as members of the community. Everyone else is treated as a potentially hostile alien. The aliens are benevolently allowed to use the software, or maybe they are shown their place by copyleft licenses, but they are not welcome to mess with the internal dealings of the tribe. The tribe is kept small so that everyone can track everyone else&#39;s reputation and can be effectively punished if they fail to reciprocate. To become a member of the tribe it&#39;s not sufficient to submit a patch. You may be, for example, asked to undergo a rite of passage such as keeping a straight face while being savaged by Linus. Or you may be asked to prove your commitment by reworking your patch over and over without being granted any guarantee that it will be ever accepted.&lt;&#x2F;p&gt; &lt;p&gt;As already said, I am not sure whether this &amp;quot;feudalization of open source&amp;quot; interpretation is correct but it seems to explain at least some phenomena seen in the wild.&lt;&#x2F;p&gt; &lt;p&gt;&lt;strong&gt;Martin Sústrik, September 12th, 2017&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt; &lt;div&gt;&lt;&#x2F;div&gt; &lt;&#x2F;div&gt; &lt;p&gt;by &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.wikidot.com&#x2F;user:info&#x2F;martin-sustrik&quot;&gt;&lt;&#x2F;a&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.wikidot.com&#x2F;user:info&#x2F;martin-sustrik&quot;&gt;martin_sustrik&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://250bpm.com/blog:101"/>
    <published>2017-09-12T10:45:02.000Z</published>
  </entry>
  <entry>
    <title>Facebook, You Needy Sonofabitch | Brad Frost</title>
    <content type="html">&lt;p&gt;Several months ago, I turned off notifications from Facebook on my phone. Last week, I went ahead and removed the Facebook app from my phone.&lt;&#x2F;p&gt;
&lt;p&gt;Now, I genuinely enjoy Facebook. I use it for keeping up with with my family and my IRL friends, who are spread out all over the world. (The questions I ask when determining who to friend on Facebook: “Have they been in my house? Or would it feel natural&#x2F;comfortable for them to visit my house?”)&lt;&#x2F;p&gt;
&lt;p&gt;But lately I’ve noticed the platform feeling increasingly grabby, to the point where they’ve broken the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Fourth_wall&quot;&gt;fourth wall&lt;&#x2F;a&gt; with me and now the whole experience is no longer enjoyable. They’ve gotten so brazen in their tactics to keep users engaged (ENGAGED!) I think &lt;strong&gt;it’s no longer possible to be a casual Facebook user.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Here’s a few examples of what I’m talking about:&lt;&#x2F;p&gt;
You’ve shared x days in a row and your friends are responding.
&lt;blockquote&gt;
&lt;p&gt;Dear Jana,&lt;&#x2F;p&gt;
&lt;p&gt;You’ve managed to share posts two days in a row that weren’t completely lame.&lt;&#x2F;p&gt;
&lt;p&gt;Love, Facebook &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;t.co&#x2F;Uyzg83XOXi&quot;&gt;pic.twitter.com&#x2F;Uyzg83XOXi&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;— Jana Marie Johnson (@janamjohnson) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;janamjohnson&#x2F;status&#x2F;900372990881402880&quot;&gt;August 23, 2017&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;No doubt this notification is inspired by Snapchat’s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;support.snapchat.com&#x2F;en-US&#x2F;a&#x2F;Snaps-snapstreak&quot;&gt;snap streak&lt;&#x2F;a&gt; feature, which encourages people to keep messaging each other every day in order to keep the streak alive. But holy crap, this feels so incredibly unnatural to say out loud. It’s weird to see them so explicitly come out and say “you’re using the platform exactly how we want you to, and you have friends because of it. You want friends, right? You want to be loved, don’t you? The only way to be loved is to keep posting.”&lt;&#x2F;p&gt;
&lt;p&gt;Now, I can appreciate the fact that businesses want to have a solid understanding of how their audiences are responding to posts, but it seems strange and disturbing to talk to regular users like they’re all marketeers.&lt;&#x2F;p&gt;
Exploiting good intentions
&lt;p&gt;People enjoy wishing people happy birthday. People enjoy taking a stroll down memory lane once in a while. Facebook has masterfully taken those kind and sentimental aspects of the human condition and manipulated them for clicks.&lt;&#x2F;p&gt;
&lt;p&gt;For years I found myself on the hamster wheel of wishing everyone a forced happy birthday. For years! Of course I want the people in my life to have a happy birthday, but it shouldn’t feel like a tedious chore. It’s valuable to know the birthdays of your friends and family, but it’s lousy to use that as a hook to keep you coming back and playing the slots.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Same thing with memories. I occasionally enjoy looking back at experiences I have with my family and friends. And when this feature first rolled out I found myself exploring a few of my past posts. But too much of a good thing gets swept up in the rest of the noise, and I notice this feature now pops up on the regular. I can almost hear them saying “Oh hey, people seem to like this memories thing; let’s turn it up to 11!” It went from being an occasional treat to just another notification clogging up the pipes.&lt;&#x2F;p&gt;
Pay to play
&lt;p&gt;I have a page for my &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.facebook.com&#x2F;brad.frost.web.design&#x2F;&quot;&gt;business&lt;&#x2F;a&gt;, which is where I share links to web design resources. I can appreciate the fact that businesses paying for posts keeps the big blue ship afloat, and I can appreciate the fact that businesses would want to know if I particular post would be especially good to promote. But lately it seems they’ve really turned the screws trying to aggressively funnel you into paying to promote posts.&lt;&#x2F;p&gt;
&lt;h3&gt;This post is performing 95% better than others. Boost it!&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;h3&gt;You want to promote this post, don’t you?&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Facebook is a bit pressure-y. “Haven’t heard from you in a while. Write a post.” “You said something witty. Pay us so more people see it.”&lt;&#x2F;p&gt;
&lt;p&gt;— jeremy haun (@jerhaun) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;jerhaun&#x2F;status&#x2F;902351972426276864&quot;&gt;August 29, 2017&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;There’s no respite from these messages, so it constantly feels like a gun to your head to get you to boost, promote, and pay.&lt;&#x2F;p&gt;
Miscellaneous Debris
&lt;p&gt;One thing that’s become obvious over the course of the last year is Facebook’s willingness to suggest more and more things that have nothing to do with my personal life experience. On one hand, I appreciate the sentiment of trying to expand someone’s horizons to open them up to new people, places, and experiences. But even if that’s the spirit of what Facebook is trying to accomplish, the execution feels like a shallow grab for clicks.&lt;&#x2F;p&gt;
&lt;h3&gt;So and so created a poll&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I’m not even a member of Assemble Volunteers.&lt;&#x2F;p&gt;
&lt;h3&gt;So and so just posted for the first time in a while.&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;My cousin updated his status for the first time in a while. Good for him!&lt;&#x2F;p&gt;
&lt;h3&gt;So and so just joined Messenger! Be the first to send a welcome message or sticker.&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;p&gt;“Your friend has just joined Messenger! Be the first to send a welcome message or sticker.”&lt;&#x2F;p&gt;
&lt;p&gt;Does anyone actually do this&lt;&#x2F;p&gt;
&lt;p&gt;— Old Salty Crab (@NoMagRyan) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;NoMagRyan&#x2F;status&#x2F;898142815489855488&quot;&gt;August 17, 2017&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;“Hey, we have products. Use our products.”&lt;&#x2F;p&gt;
&lt;h3&gt;So and so added an event near you&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Getting sick of these &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;facebook&quot;&gt;@facebook&lt;&#x2F;a&gt; notifications about “this page added an event near you” &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;hashtag&#x2F;IDontCare?src&#x3D;hash&quot;&gt;#IDontCare&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;— Kevin Timm (@Kevin_Timm) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;Kevin_Timm&#x2F;status&#x2F;854505115486756865&quot;&gt;April 19, 2017&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Surfacing events you might be interested in isn’t a bad idea, but execution is everything. For a platform that knows so much about me, I think it’s incredible how far off the mark most of their suggestions are.&lt;&#x2F;p&gt;
We haven’t heard from you in a while…
&lt;p&gt;This disturbs me perhaps more than anything.&lt;&#x2F;p&gt;
&lt;p&gt;I started the draft of this post a few days ago, and have since been taking care of work, going to a wedding, and living my life. But my several-day absence from Facebook apparently got them really worried. They started sending me a slew of emails over a period of time, highlighting recent posts from people, including my wife’s childhood friend’s husband.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Facebook got worried when I didn’t bite on any of those, so they decided to bring out the big guns.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Holy shit! My Facebook just blew up. So much has happened! I’ve apparently been poked 4 times! Despite my intention to not feed the beast and rather simply analyze their tactics for bringing me back in, being poked 4 times was just too irresistible not to check out. So I clicked through to find this:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Apparently pokes from 5 years ago are still newsworthy! Anything to get you to come back.&lt;&#x2F;p&gt;
What to make of all this
&lt;p&gt;This is what happens when the metric of how much time users spend using your thing supersedes the goal of providing legitimate value to your users. &lt;strong&gt;The tricks, hooks, and tactics Facebook uses to keep people coming back have gotten more aggressive and explicit. And I feel that takes away from the actual value the platform provides.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;There are of course plenty of weighty, important topics worth criticizing Facebook for, from their perpetuating fake news to their role in influencing the election to enabling the surveillance state and so on. But even this seemingly benign topic has huge ramifications on how people spend their time and live their lives. As users, it’s important to be aware of how the platform is manipulating you. As designers, it’s important to be mindful of how much attention we’re demanding from users and why we’re demanding that attention in the first place.&lt;&#x2F;p&gt;
&lt;p&gt;So that’s where I’m at. I’m likely not going to delete Facebook entirely since I do genuinely enjoy staying in touch with the people in my life, and for better or worse Facebook is where those people hang out. But I want to do use Facebook on my own terms, not theirs.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/post/facebook-you-needy-sonofabitch/"/>
    <published>2017-09-12T03:12:47.000Z</published>
  </entry>
  <entry>
    <title>Blockchain ICO claims it will be worth $1 trillion by 2025 | Preston Byrne</title>
    <content type="html">You can’t make this stuff up. Another real estate #ICO warning, this time about @LATokens. pic.twitter.com&#x2F;yBfNjt1EXE — Ragnar [No2x] ⚑ (@Ragnarly) September 11, 2017 Filed under: ICOs</content>
    <link rel="alternate" href="https://prestonbyrne.com/2017/09/11/blockchain-ico-claims-it-will-be-worth-1-trillion-by-2025/"/>
    <published>2017-09-11T20:53:23.000Z</published>
  </entry>
  <entry>
    <title>FBPurity | Brad Frost</title>
    <content type="html">&lt;p&gt;I &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;facebook-you-needy-sonofabitch&#x2F;&quot;&gt;wrote about Facebook’s aggressive tactics&lt;&#x2F;a&gt;, and &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.portigal.com&#x2F;&quot;&gt;Steve Portigal&lt;&#x2F;a&gt; responded with a recommendation for FBPurity.&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;F.B. Purity is a browser extension &#x2F; add-on that lets you clean up and customise Facebook. It filters out the junk you don’t want to see, leaving behind the stories and page elements you do wish to see.&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;Sounds fantastic. Count me in.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/link/fbpurity/"/>
    <published>2017-09-11T15:56:27.000Z</published>
  </entry>
  <entry>
    <title>ICO Thought of the Week | Preston Byrne</title>
    <content type="html">Presented without comment. &amp;quot;everybody is a genius in a bull market&amp;quot; – random redditor talking truth to self-fellating early crypto investors. pic.twitter.com&#x2F;VBbI6MULDx — Liad Shababo (@L1AD) September 10, 2017 Filed under: ICOs</content>
    <link rel="alternate" href="https://prestonbyrne.com/2017/09/10/ico-thought-of-the-week/"/>
    <published>2017-09-10T23:42:56.000Z</published>
  </entry>
  <entry>
    <title>Audio Signifiers for Voice Interaction | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; Provide explicit, implicit, and nonverbal signifiers to help users understand their options in voice-interaction interfaces. &lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; Good voice interfaces require not only excellent natural language comprehension, but also strategies for helping users understand the universe of actions and commands available in voice interactions — in other words, we need to bridge the Gulf of Execution. This interaction design challenge is present in all systems, but is inherently more difficult for voice interfaces.&lt;&#x2F;p&gt; The Gulf of Execution&lt;p&gt; To successfully interact with any system, people must be able to (1) figure out what &lt;strong&gt;  actions to take &lt;&#x2F;strong&gt; in order to achieve a specific goal, and (2) &lt;strong&gt;  understand the results &lt;&#x2F;strong&gt; of those actions. In his seminal book, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;books&#x2F;design-everyday-things-revised&#x2F;&quot;&gt;  The Design of Everyday Things &lt;&#x2F;a&gt; , our colleague Don Norman described these needs as the Gulf of Execution and the Gulf of Evaluation, respectively. Both are important, but in this article, we’ll focus on the Gulf of Execution, and how voice-interaction systems can help users understand what commands are possible.&lt;&#x2F;p&gt;&lt;p&gt; In graphical user interfaces (GUIs), designers can help people bridge the Gulf of Execution by providing &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;clickable-elements&#x2F;&quot;&gt;  visible signifiers &lt;&#x2F;a&gt; , like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;clickable-elements&#x2F;&quot;&gt;  distinctive colors for clickable text &lt;&#x2F;a&gt; . When used appropriately, these techniques enable users to understand at a glance what actions are possible; conversely, research shows that &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;flat-ui-less-attention-cause-uncertainty&#x2F;&quot;&gt;  diminished graphical signifiers lead to slower task times &lt;&#x2F;a&gt; and cause click uncertainty in a GUI.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;audio-signifiers-voice-interaction&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/audio-signifiers-voice-interaction/"/>
    <published>2017-09-10T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>Don’t “Validate” Designs; Test Them | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; The phrase “validate the design” discourages teams from finding and following up on UX issues in user testing. UX research must drive design change, not just pat designers on the back.&lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; All too often people use the word &amp;quot;validate&amp;quot; to justify their UX work. As in, &amp;quot;Let&#39;s test the design to validate it,&amp;quot; or “Let’s do an expert design review to validate this iteration.”&lt;&#x2F;p&gt;&lt;p&gt; I strongly oppose using &amp;quot;validate&amp;quot; in this context. Call it a pet peeve. Call it semantics. Call me rigid. But let me tell you why I feel this way.&lt;&#x2F;p&gt;&lt;p&gt; User research is as much a mindset as it is a science and an art. In a user study, attitude greatly affects participants, your team’s reactions to their behaviors, and follow-up actions on study findings. Planning the testing, observing users, analyzing findings, and describing the research process all require a delicate balance of curiosity, realism, diplomacy, honesty, and a profound ability to welcome and withstand criticism.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;no-validate-in-ux&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/no-validate-in-ux/"/>
    <published>2017-09-10T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>Cool vim feature: sessions! | Julia Evans</title>
    <content type="html">&lt;p&gt;Yesterday I learned about an awesome vim feature while working on my
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jvns&#x2F;vimconfig&#x2F;blob&#x2F;master&#x2F;vimrc&quot;&gt;vimrc&lt;&#x2F;a&gt;! (to add fzf &amp;amp; ripgrep search plugins
mainly). It’s a builtin feature, no fancy plugins needed.&lt;&#x2F;p&gt;

&lt;p&gt;So I drew a comic about it.&lt;&#x2F;p&gt;

&lt;p&gt;Basically you can save all your open files and current state with&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;:mksession ~&#x2F;.vim&#x2F;sessions&#x2F;foo.vim
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;and then later restore it with either &lt;code&gt;:source ~&#x2F;.vim&#x2F;sessions&#x2F;foo.vim&lt;&#x2F;code&gt; or &lt;code&gt;vim -S ~&#x2F;.vim&#x2F;sessions&#x2F;foo.vim&lt;&#x2F;code&gt;. Super cool!&lt;&#x2F;p&gt;

&lt;p&gt;Some vim plugins that add extra features to vim sessions:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;tpope&#x2F;vim-obsession&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;tpope&#x2F;vim-obsession&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;mhinz&#x2F;vim-startify&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;mhinz&#x2F;vim-startify&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;xolox&#x2F;vim-session&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;xolox&#x2F;vim-session&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Here’s the comic:&lt;&#x2F;p&gt;

&lt;div&gt;

&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/10/vim-sessions/"/>
    <published>2017-09-10T12:58:53.000Z</published>
  </entry>
  <entry>
    <title>Data structure: the treap! | Julia Evans</title>
    <content type="html">&lt;p&gt;Here’s a quick sketch I did yesterday about a randomized data structure: the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Treap&quot;&gt;treap&lt;&#x2F;a&gt;.  It’s basically a really cool way to implement a
balanced binary search tree. Kamal told me about it!&lt;&#x2F;p&gt;

&lt;p&gt;The main reason I know for sure this is useful is in case someone asks you to implement a balanced
binary search tree in an interview. More seriously though – if you want to implement an ordered map
(like C++’s &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;en.cppreference.com&#x2F;w&#x2F;cpp&#x2F;container&#x2F;map&quot;&gt;std::map&lt;&#x2F;a&gt;), then you probably want a
balanced BST!&lt;&#x2F;p&gt;

&lt;p&gt;C++’s std::map is usually a red-black tree, but a treap performs just as well (in expected value)
and the algorithms for insert&#x2F;delete are way simpler.&lt;&#x2F;p&gt;

&lt;div&gt;



&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/09/data-structure--the-treap-/"/>
    <published>2017-09-09T21:37:15.000Z</published>
  </entry>
  <entry>
    <title>Floating Point Benchmark: Scala Language Added | Fourmilog - Fourmilab Change Log</title>
    <content type="html">I have posted an update to my trigonometry-intense &lt;a href&#x3D;&quot;&#x2F;fbench&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;floating point benchmark&lt;&#x2F;a&gt; which adds
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Scala_(programming_language)&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Scala&lt;&#x2F;a&gt; to the list of languages in which the benchmark is implemented.  A new release of the
&lt;a href&#x3D;&quot;&#x2F;fbench&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;benchmark collection&lt;&#x2F;a&gt;
including Scala is now available for downloading.

&lt;p&gt;

Scala is a general purpose programming language originally
developed at the École Polytechnique Fédérale in Lausanne,
Switzerland.  Scala combines the paradigm of functional
programming with support for conventional object-oriented
imperative programming, allowing the programmer to choose
whichever style is most expressive of the algorithm being
implemented.  Unlike &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Haskell_(programming_language)&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Haskell&lt;&#x2F;a&gt;, which forces the programmer into a
strict functional style, Scala contains control structures for
iteration, mutable variables, and a syntax which C and Java
programmers will find familiar.  Scala runs on the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Java_virtual_machine&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Java virtual
machine&lt;&#x2F;a&gt;, and Scala and Java code can interoperate, which
provides Scala access to all existing Java libraries.

&lt;&#x2F;p&gt;&lt;p&gt;

The Scala version of the benchmark was developed and tested using
Scala 2.12.3 on an x86_64 machine running Xubuntu 16.04 kernel
4.4.0-93.  In order to compile and run this program you must
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.scala-lang.org&#x2F;download&#x2F;&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;install Scala on your computer&lt;&#x2F;a&gt;.

&lt;&#x2F;p&gt;&lt;p&gt;

Scala programs compile to byte code which is executed by an
implementation of the Java virtual machine.  I ran these tests
using:

&lt;&#x2F;p&gt;&lt;p&gt;
&lt;blockquote&gt;
    openjdk version &amp;quot;9-internal&amp;quot;&lt;br &#x2F;&gt;
    OpenJDK Runtime Environment (build 9-internal+0-2016-04-14-195246.buildd.src)&lt;br &#x2F;&gt;
    OpenJDK 64-Bit Server VM (build 9-internal+0-2016-04-14-195246.buildd.src, mixed mode)
&lt;&#x2F;blockquote&gt;
&lt;&#x2F;p&gt;&lt;p&gt;

The Scala implementation of the floating point benchmark is
written mostly in a pure functional style, but I did use mutable
variables and iteration where it made the code more readable. 
Scala does not optimise tail recursion as aggressively as
Haskell, so iteration may be more efficient in heavily-used
code.

&lt;&#x2F;p&gt;&lt;p&gt;

At the time I developed this benchmark, a recent release of the
GNU C mathematical function library had been issued which halved
the mean execution speed of trigonometric functions.  This made
all comparisons of run time against the C reference
implementation of the benchmark using the earlier, more
efficient libraries, invalid. (It&#39;s said that the performance
hit was done in the interest of improved accuracy, but it made
no difference in the computations of the floating point
benchmark, which are checked to 13 significant digits.)
Consequently, I compared the execution speed of the Scala
implementation against that of the Java version, then computed
the speed relative to the original C version with the old
libraries by multiplying the relative speed of Java vs. C and
Scala vs. Java.

&lt;&#x2F;p&gt;&lt;p&gt;

The relative performance of the various language implementations (with C taken as 1) is as follows.   All language implementations of the benchmark listed below produced identical results to the last (11th) decimal place.

&lt;&#x2F;p&gt;&lt;p&gt;


&lt;table&gt;
                                                                                                 
&lt;tr&gt;
    &lt;th&gt;Language&lt;&#x2F;th&gt;
    &lt;th&gt;Relative&lt;br &#x2F;&gt; Time&lt;&#x2F;th&gt;
    &lt;th&gt;Details&lt;&#x2F;th&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;C&lt;&#x2F;th&gt;
    &lt;td&gt;1&lt;&#x2F;td&gt;
    &lt;td&gt;GCC 3.2.3 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Visual Basic .NET&lt;&#x2F;th&gt;
    &lt;td&gt;0.866&lt;&#x2F;td&gt;
    &lt;td&gt;All optimisations, Windows XP&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;FORTRAN&lt;&#x2F;th&gt;
    &lt;td&gt;1.008&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Fortran (g77) 3.2.3 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Pascal&lt;&#x2F;th&gt;
    &lt;td&gt;1.027&lt;br &#x2F;&gt;
                   1.077&lt;&#x2F;td&gt;
    &lt;td&gt;Free Pascal 2.2.0 -O3, Linux&lt;br &#x2F;&gt;
    	    	  GNU Pascal 2.1 (GCC 2.95.2) -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;Swift&lt;&#x2F;th&gt;
    &lt;td&gt;1.054&lt;&#x2F;td&gt;
    &lt;td&gt;Swift 3.0.1, -O, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Rust&lt;&#x2F;th&gt;
    &lt;td&gt;1.077&lt;&#x2F;td&gt;
    &lt;td&gt;Rust 0.13.0, --release, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Java&lt;&#x2F;th&gt;
    &lt;td&gt;1.121&lt;&#x2F;td&gt;
    &lt;td&gt;Sun JDK 1.5.0_04-b05, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Visual Basic 6&lt;&#x2F;th&gt;
    &lt;td&gt;1.132&lt;&#x2F;td&gt;
    &lt;td&gt;All optimisations, Windows XP&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Haskell&lt;&#x2F;th&gt;
    &lt;td&gt;1.223&lt;&#x2F;td&gt;
    &lt;td&gt;GHC 7.4.1-O2 -funbox-strict-fields, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
  
&lt;tr&gt;
    &lt;th&gt;Scala&lt;&#x2F;th&gt;
    &lt;td&gt;1.263&lt;&#x2F;td&gt;
    &lt;td&gt;Scala 2.12.3, OpenJDK 9, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Ada&lt;&#x2F;th&gt;
    &lt;td&gt;1.401&lt;&#x2F;td&gt;
    &lt;td&gt;GNAT&#x2F;GCC 3.4.4 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Go&lt;&#x2F;th&gt;
    &lt;td&gt;1.481&lt;&#x2F;td&gt;
    &lt;td&gt;Go version go1.1.1 linux&#x2F;amd64, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Simula&lt;&#x2F;th&gt;
    &lt;td&gt;2.099&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Cim 5.1, GCC 4.8.1 -O2, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Lua&lt;&#x2F;th&gt;
    &lt;td&gt;2.515&lt;br &#x2F;&gt;
        22.7&lt;&#x2F;td&gt;
    &lt;td&gt;LuaJIT 2.0.3, Linux&lt;br &#x2F;&gt;
        Lua 5.2.3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Python&lt;&#x2F;th&gt;
    &lt;td&gt;2.633&lt;br &#x2F;&gt; 30.0&lt;&#x2F;td&gt;
    &lt;td&gt;PyPy 2.2.1 (Python 2.7.3), Linux&lt;br &#x2F;&gt;
        Python 2.7.6, Linux
&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Erlang&lt;&#x2F;th&gt;
    &lt;td&gt;3.663&lt;br &#x2F;&gt;
    	    	   9.335&lt;&#x2F;td&gt;
    &lt;td&gt;Erlang&#x2F;OTP 17, emulator 6.0, HiPE [native, {hipe, [o3]}]&lt;br &#x2F;&gt;
    	         Byte code (BEAM), Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 &lt;tr&gt;
    &lt;th&gt;ALGOL 60&lt;&#x2F;th&gt;
    &lt;td&gt;3.951&lt;&#x2F;td&gt;
    &lt;td&gt;MARST 2.7, GCC 4.8.1 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Lisp&lt;&#x2F;th&gt;
    &lt;td&gt;7.41 &lt;br &#x2F;&gt;
                   19.8&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Common Lisp 2.6.7, Compiled, Linux&lt;br &#x2F;&gt;
                  GNU Common Lisp 2.6.7, Interpreted&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Smalltalk&lt;&#x2F;th&gt;
    &lt;td&gt;7.59&lt;&#x2F;td&gt;
    &lt;td&gt;GNU Smalltalk 2.3.5, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
   
&lt;tr&gt;
    &lt;th&gt;Forth&lt;&#x2F;th&gt;
    &lt;td&gt;9.92&lt;&#x2F;td&gt;
    &lt;td&gt;Gforth 0.7.0, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;COBOL&lt;&#x2F;th&gt;
    &lt;td&gt;12.5&lt;br &#x2F;&gt;
				   46.3&lt;&#x2F;td&gt;
    &lt;td&gt;Micro Focus Visual COBOL 2010, Windows 7&lt;br &#x2F;&gt;
				  Fixed decimal instead of computational-2&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

 &lt;tr&gt;
    &lt;th&gt;Algol 68&lt;&#x2F;th&gt;
    &lt;td&gt;15.2&lt;&#x2F;td&gt;
    &lt;td&gt;Algol 68 Genie 2.4.1 -O3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Perl&lt;&#x2F;th&gt;
    &lt;td&gt;23.6&lt;&#x2F;td&gt;
    &lt;td&gt;Perl v5.8.0, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Ruby&lt;&#x2F;th&gt;
    &lt;td&gt;26.1&lt;&#x2F;td&gt;
    &lt;td&gt;Ruby 1.8.3, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;JavaScript&lt;&#x2F;th&gt;
    &lt;td&gt;27.6 &lt;br &#x2F;&gt;
                   39.1 &lt;br &#x2F;&gt;
                   46.9&lt;&#x2F;td&gt;
    &lt;td&gt;Opera 8.0, Linux&lt;br &#x2F;&gt;
                  Internet Explorer 6.0.2900, Windows XP&lt;br &#x2F;&gt;
                  Mozilla Firefox 1.0.6, Linux&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;
 
&lt;tr&gt;
    &lt;th&gt;QBasic&lt;&#x2F;th&gt;
    &lt;td&gt;148.3&lt;&#x2F;td&gt;
    &lt;td&gt;MS-DOS QBasic 1.1, Windows XP Console&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;tr&gt;
    &lt;th&gt;Mathematica&lt;&#x2F;th&gt;
    &lt;td&gt;391.6&lt;&#x2F;td&gt;
    &lt;td&gt;Mathematica 10.3.1.0, Raspberry Pi 3, Raspbian&lt;&#x2F;td&gt;
&lt;&#x2F;tr&gt;

&lt;&#x2F;table&gt;
&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-09/001710.html"/>
    <published>2017-09-09T13:08:49.000Z</published>
  </entry>
  <entry>
    <title>The better way to learn a new programming language | Code Without Rules</title>
    <content type="html">&lt;p&gt;Have you ever failed to learn a new programming language in your spare time?
You pick a small project to implement, get a few functions written… and then you run out of time and motivation.
So you give up, at least until the next time you give it a try.&lt;&#x2F;p&gt;

&lt;p&gt;There’s a better way to learn new programming languages, a method that I’ve applied multiple times.
Where starting a side project often ends in failure and little knowledge gained, this method starts with success.
For example, the last time I did this was with Ruby: I &lt;em&gt;started&lt;&#x2F;em&gt; by publishing a whole new Ruby Gem, and getting a bug fix accepted into the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.sinatrarb.com&#x2F;&quot;&gt;Sinatra framework&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;



&lt;p&gt;In this post I will:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;Explain why a side project is a difficult way to learn a new language.&lt;&#x2F;li&gt;
&lt;li&gt;Share my story of learning a tiny bit of Ruby.&lt;&#x2F;li&gt;
&lt;li&gt;Explain my preferred learning method in detail.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

Side projects: the hard way to learn a language

&lt;p&gt;Creating a new software project from scratch in your spare time is a tempting way to learn a new language.
You get to build something new: building stuff is fun.
You get to pick your language: you have the freedom to choose.&lt;&#x2F;p&gt;

&lt;p&gt;Unfortunately, learning via a side project is a difficult way to learn a new language.
When you’re learning a new programming language you need to learn:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;The build and run toolchain.&lt;&#x2F;li&gt;
&lt;li&gt;The packaging toolchain.&lt;&#x2F;li&gt;
&lt;li&gt;The testing toolchain.&lt;&#x2F;li&gt;
&lt;li&gt;How to use 3rd party packages.&lt;&#x2F;li&gt;
&lt;li&gt;The syntax.&lt;&#x2F;li&gt;
&lt;li&gt;The semantics: memory management, units of abstraction, concurrency, execution model, and so forth.&lt;&#x2F;li&gt;
&lt;li&gt;Standard idioms.&lt;&#x2F;li&gt;
&lt;li&gt;The standard library.&lt;&#x2F;li&gt;
&lt;li&gt;Common 3rd party libraries relevant to your problem domain: which to use, and their APIs.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;This is a huge amount of knowledge, and you’re doing so with multiple handicaps:&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Learning on your own:&lt;&#x2F;strong&gt; You have to figure out everything on your own.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Blank slate:&lt;&#x2F;strong&gt; You’re starting from scratch.
Quite often there’s no scaffolding to help you, no good starting point to get you going.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Simultaneous learning:&lt;&#x2F;strong&gt; You are trying to learn everything in the list above at the same time.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Limited time:&lt;&#x2F;strong&gt; You’re doing this in your spare time, so you may have only limited amounts of spare time to apply to the task.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Lack of motivation:&lt;&#x2F;strong&gt; If you care about the side project’s success, you probably will be motivated to switch back to a language you know.
If you just care about learning the language, you’ll be less motivated to do all the boring work to make the side project succeed.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Vague goals:&lt;&#x2F;strong&gt; “Learning a language” is an open-ended task, since there’s always more to learn.
How will you know you’ve achieved something?&lt;&#x2F;p&gt;

&lt;p&gt;Personally I have very limited free time: I can’t start a new side project in a language I already know, let alone a new one.
But I do occasionally learn a new language.&lt;&#x2F;p&gt;

That time I learned some Ruby

&lt;p&gt;Rather than learning new languages at home, I use a better method: learning a language by solving problems at my job.&lt;&#x2F;p&gt;

&lt;p&gt;For example, I know very little Ruby, and when I started learning it I knew even less.
One day, however, I joined a company that was publishing a SDK in multiple languages, one of which was Ruby.&lt;&#x2F;p&gt;

&lt;h3&gt;A tiny gem&lt;&#x2F;h3&gt;

&lt;p&gt;My first task involving Ruby was integrating the SDK with popular Ruby HTTP clients and servers.
Which is to say, I started learning a new language with a &lt;em&gt;specific goal&lt;&#x2F;em&gt;, &lt;em&gt;motivation&lt;&#x2F;em&gt;, and &lt;em&gt;time to learn at work&lt;&#x2F;em&gt;.
Much better than a personal side project!&lt;&#x2F;p&gt;

&lt;p&gt;I started by learning &lt;em&gt;one&lt;&#x2F;em&gt; thing, not multiple things simultaneously: which 3rd party HTTP libraries were popular.
Once I’d found the popular HTTP clients and servers, my next task was implementing the SDK integration.
One integration was with Sinatra, a popular Ruby HTTP server framework.&lt;&#x2F;p&gt;

&lt;p&gt;As a coding task this was pretty simple:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;The Sinatra docs pointed me towards a library called Rack, a standard way to write HTTP server middleware for Ruby.&lt;&#x2F;li&gt;
&lt;li&gt;Rack has documentation and tutorials on how to create middleware.&lt;&#x2F;li&gt;
&lt;li&gt;There are lots of pre-existing middleware packages I could use as examples, for both the code itself and for tests.&lt;&#x2F;li&gt;
&lt;li&gt;I only needed to learn just enough Ruby syntax and semantics to write the middleware.
Googling tutorials was enough for that.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;I learned &lt;em&gt;just enough&lt;&#x2F;em&gt; to implement the middleware: 40 lines of trivial code.&lt;&#x2F;p&gt;

&lt;p&gt;Next I needed to package the middleware as a gem, Ruby’s packaging format.
Once again, I was only working on a single task, a well-documented task with many examples.
And I had motivation, specific goals, examples to build off of, and the time to do it.&lt;&#x2F;p&gt;

&lt;p&gt;At this point I’d learned: a tiny bit of syntax and semantics, some 3rd party libraries, packaging, and a little bit of the toolchain.&lt;&#x2F;p&gt;

&lt;h3&gt;A bugfix to an existing project&lt;&#x2F;h3&gt;

&lt;p&gt;Shortly after creating our SDK integration I discovered a bug in Sinatra: Sinatra middleware was only initialized after the first request.
So I tracked down the bug in Sinatra… which gave me an opportunity to learn more of the language’s syntax, semantics, and idioms by reading a real-world existing code base.
And, of course, the all-important skill of knowing how to add debug print statements to the code.&lt;&#x2F;p&gt;

&lt;p&gt;Reading code is a lot easier than writing code.
And since Sinatra was a pre-existing code base, I could rely on pre-existing tests as examples when I wrote a test for my patch.
I didn’t need to figure out how to structure a large project, or every edge case of the syntax that wasn’t relevant to the bug.
I had a specific goal, and I learned just enough to reach it.&lt;&#x2F;p&gt;

&lt;p&gt;At the end of the process above I still couldn’t start a Ruby project from scratch, or write more than tiny amounts of Ruby.
And I haven’t done much with it since.
But I do know enough to deal with packaging, and if I ever started writing Ruby again I’d start with a lot more knowledge of the toolchain, to the point where I’d be able to focus purely on syntax and semantics.&lt;&#x2F;p&gt;

&lt;p&gt;But I’ve used a similar method to learn other languages to a much greater extent: I learned C++ by joining a company that used it, and I became a pretty fluent C++ programmer for a while.&lt;&#x2F;p&gt;

Learning a new language: a better method

&lt;p&gt;How should you learn a new programming language?
As in my story above, the best way to do so is at work, and ideally by joining an existing project.&lt;&#x2F;p&gt;

&lt;h3&gt;Existing projects&lt;&#x2F;h3&gt;

&lt;p&gt;The easiest way to learn a new language is to join an existing project or company that uses a language you don’t know.
None of the problems you would have with a side project apply:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;There’s lot of existing examples to learn from and modify, you’re not starting with blank slate.&lt;&#x2F;li&gt;
&lt;li&gt;You don’t have to learn the build&#x2F;run, testing, and packaging toolchains before you can do anything useful: it’s mostly going to be setup for you, so you can learn it by osmosis over time.&lt;&#x2F;li&gt;
&lt;li&gt;You have specific goals: fix this bug, add this feature.&lt;&#x2F;li&gt;
&lt;li&gt;You have co-workers you can ask for help, who can review your code, and can help you write more idiomatically.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;h3&gt;New projects&lt;&#x2F;h3&gt;

&lt;p&gt;Lacking an existing project to join, look out for opportunities where there’s a strong motivation for your project to add a new language.
Some examples:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;You need to do some data science, so you need to add Python or maybe R.&lt;&#x2F;li&gt;
&lt;li&gt;Your project has a problem with a computationally intensive bottleneck, so you need to add something like Rust, C++, or C.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Starting a new project is not quite as easy a learning experience, unfortunately.
But you’re still starting with specific goals in mind, and with time at work to learn the language.&lt;&#x2F;p&gt;

&lt;p&gt;Make sure to limit yourself to only learning one thing at a time.
In my example above I sequentially learned about: which 3rd party libraries existed, the API for one library, writing miniscule amounts of trivial integration code, packaging, and then how to read a lot more syntax and semantics.
If you’re doing this with co-workers you can split up tasks: you do the packaging while your co-worker builds the first prototype, and then you can teach each other what you’ve learned.&lt;&#x2F;p&gt;

Learning at work is the best learning

&lt;p&gt;More broadly, your job is a wonderful place to learn.
Every task you do at work involves skills, skills you can practice and improve.
You can get better at debugging, or notice a repetitive task and automate it, or learn how to write better bug reports.
Perhaps you could figure out what needs changing so you can get make changes done faster (processes? architecture? APIs?).
Maybe you can figure out how to test your code better to reduce the number of bugs you ship.
And if that’s not enough, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;jvns.ca&#x2F;blog&#x2F;2017&#x2F;08&#x2F;06&#x2F;learning-at-work&#x2F;&quot;&gt;Julia Evans has even more ideas&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;In all these cases you’ll have motivation, specific goals, time, and often an existing code base to build off of.
And best of all, you’ll be able to learn while you’re getting paid.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://codewithoutrules.com/2017/09/09/learn-a-new-programming-language/"/>
    <published>2017-09-09T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>Weekly update 51 (Melbourne edition) | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;Really quick intro as I rush between events today: I&#39;m in Melbourne and have just finished a &amp;quot;Hack Yourself First&amp;quot; workshop then it&#39;s OWASP conference time tomorrow. It&#39;s been a &lt;em&gt;mostly&lt;&#x2F;em&gt; fun week with a couple of oddball experiences thrown in, but leave you to watch the video or listen to the podcast to enjoy those :)&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;itunes.apple.com&#x2F;au&#x2F;podcast&#x2F;troy-hunts-weekly-update-podcast&#x2F;id1176454699&quot;&gt;iTunes podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;goo.gl&#x2F;app&#x2F;playmusic?ibi&#x3D;com.google.PlayMusic&amp;amp;isi&#x3D;691797987&amp;amp;ius&#x3D;googleplaymusic&amp;amp;link&#x3D;https:&#x2F;&#x2F;play.google.com&#x2F;music&#x2F;m&#x2F;If3tw7npymckucxq4q76762ncny?t%3DTroy_Hunt%27s_Weekly_Update_Podcast&quot;&gt;Google Play Music podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.omnycontent.com&#x2F;d&#x2F;playlist&#x2F;1439345f-6152-486d-a9c2-a6bf0067f2b7&#x2F;3ba9af7f-3bfb-48fd-aae7-a6bf00689c10&#x2F;fde26e49-9fb8-457d-8f16-a6bf00696676&#x2F;podcast.rss&quot;&gt;RSS podcast&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

References
&lt;ol&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;cynosureprime.blogspot.com.au&#x2F;2017&#x2F;08&#x2F;320-million-hashes-exposed.html&quot;&gt;CynoSure Prime did some cool work cracking the 320m Pwned Passwords&lt;&#x2F;a&gt; (somehow, some press outlets misinterpretted the significance of this)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;j_aksim&#x2F;status&#x2F;905742429294342144&quot;&gt;I copped a pretty unhinged rant from the reincarnated SEO lady&lt;&#x2F;a&gt; (I&#39;m starting to wonder if she&#39;s actually serious...)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;how-i-finally-fixed-my-parents-dodgy-wifi-with-amplifi&#x2F;&quot;&gt;I rolled out AmpliFi at my parent&#39;s house&lt;&#x2F;a&gt; (this is actually really neat as a consumer-grade solution)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;Gold Security is sponsoring my blog this week&lt;&#x2F;a&gt; (big thanks to those guys for being a repeat sponsor!)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/ud1uDEIXliw/"/>
    <published>2017-09-08T07:37:41.000Z</published>
  </entry>
  <entry>
    <title>How I work (mostly) TDD-style | Ron Jeffries</title>
    <content type="html">Responding to a mistaken TDD flowchart.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/how-i-tdd/"/>
    <published>2017-09-08T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>Ok Google, Talk to Vogue | Condé Nast Technology</title>
    <content type="html">Exclusive audio from the Vogue September available only on Google Home</content>
    <link rel="alternate" href="https://technology.condenast.com/story/vogue-on-google-home"/>
    <published>2017-09-07T15:39:50.000Z</published>
  </entry>
  <entry>
    <title>The New Kingdom of Nouns | -dealloc</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;belkadan.com&#x2F;blog&#x2F;2017&#x2F;09&#x2F;Over-abstraction&#x2F;&quot;&gt;Last time&lt;&#x2F;a&gt; I talked about how algebraic abstractions like “monoid” and “semigroup” didn’t seem to be pulling their weight, despite love from functional programmers. That focused on a practical issue: do these abstractions aid or harm comprehension? Do they make programming easier or harder? (Of course, there’s not a simple answer to this question.)&lt;&#x2F;p&gt;

&lt;p&gt;This time, though, I want to talk about something more exploratory: do we have the right tools to &lt;em&gt;talk&lt;&#x2F;em&gt; about these abstractions? This post is therefore going to be &lt;em&gt;much&lt;&#x2F;em&gt; longer and contain a lot more rambling.&lt;&#x2F;p&gt;

&lt;p&gt;(I’ll note up front that these really are exploratory ideas, not something I’d intend to put into Swift directly. Things to consider for the &lt;em&gt;next&lt;&#x2F;em&gt; language, perhaps, since &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.xkcd.com&#x2F;568&#x2F;&quot;&gt;we’ll never find a programming language that frees us from the burden of clarifying ideas&lt;&#x2F;a&gt;.)&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;Let’s start with something “simple”: the abstraction of a &lt;em&gt;semigroup.&lt;&#x2F;em&gt; This consists of a type and an operation, and the operation has to be &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;simple.wikipedia.org&#x2F;wiki&#x2F;Associativity&quot;&gt;associative&lt;&#x2F;a&gt;. If we were to write this as a Swift protocol, we could do something like this:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;protocol Semigroup {
  &#x2F;&#x2F; Binary semigroup operation
  &#x2F;&#x2F; **AXIOM** Should be associative:
  &#x2F;&#x2F;   a.op(b.op(c)) &#x3D;&#x3D; (a.op(b)).op(c)
  func op(_ g: Self) -&amp;gt; Self
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;(from Brandon Williams’ “&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;swift&#x2F;math&#x2F;algebra&#x2F;2015&#x2F;02&#x2F;17&#x2F;algebraic-structure-and-protocols.html&quot;&gt;Algebraic Structure and Protocols&lt;&#x2F;a&gt;”)&lt;&#x2F;p&gt;

&lt;p&gt;Now, &lt;code&gt;Int&lt;&#x2F;code&gt; can certainly conform to this protocol:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;extension Int: Semigroup {
  func op(_ b: Int) -&amp;gt; Int {
    return self + b
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;This works great, because integer addition is associative.&lt;a href&#x3D;&quot;#fn:float&quot;&gt;1&lt;&#x2F;a&gt; And as Brandon Kase mentions in his talk “&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;2017.funswiftconf.com&quot;&gt;Beyond Types in Swift&lt;&#x2F;a&gt;”, this means it’s safe to use with a parallel implementation of &lt;code&gt;reduce&lt;&#x2F;code&gt;. This means I can get the sum of a collection of integers much faster than if I do a regular, serial &lt;code&gt;reduce&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;But wait, we could also have written it this way:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;extension Int: Semigroup {
  func op(_ b: Int) -&amp;gt; Int {
    return self * b
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;Integer multiplication is also associative, and getting the product of a collection of integers can also be a useful operation.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;It has always, &lt;em&gt;always&lt;&#x2F;em&gt; bothered me that there are two ways for &lt;code&gt;Int&lt;&#x2F;code&gt; to be a semigroup.&lt;&#x2F;strong&gt; Why do people act like &lt;code&gt;+&lt;&#x2F;code&gt; is obviously the “right” way to do it? And it’s even worse for &lt;code&gt;Bool&lt;&#x2F;code&gt;, where &lt;code&gt;||&lt;&#x2F;code&gt; and &lt;code&gt;&amp;amp;&amp;amp;&lt;&#x2F;code&gt; are much closer to being symmetric.&lt;&#x2F;p&gt;

&lt;p&gt;Haskell, as a language with a standard library and community that cares strongly about algebraic abstractions, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;hackage.haskell.org&#x2F;package&#x2F;semigroups-0.18.1&#x2F;docs&#x2F;Data-Semigroup.html&quot;&gt;actually agrees with me here.&lt;&#x2F;a&gt; Rather than make &lt;code&gt;Int&lt;&#x2F;code&gt; conform to &lt;code&gt;Semigroup&lt;&#x2F;code&gt;, they use simple wrapper structs (in Swift terms) called &lt;code&gt;Sum&lt;&#x2F;code&gt; and &lt;code&gt;Product&lt;&#x2F;code&gt;. In Swift, this would look something like this:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;struct Sum&amp;lt;Wrapped: Arithmetic&amp;gt;: RawRepresentable {
  var rawValue: Wrapped
  init(rawValue: Wrapped) { … }
  init(_ rawValue: Wrapped) { … } &#x2F;&#x2F; for convenience
}
extension Sum: Semigroup {
  func op(_ other: Sum&amp;lt;Wrapped&amp;gt;) -&amp;gt; Sum&amp;lt;Wrapped&amp;gt; {
    return Sum(self.rawValue + other.rawValue)
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;(and similar for &lt;code&gt;Product&lt;&#x2F;code&gt;)&lt;&#x2F;p&gt;

&lt;p&gt;Pause.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;Back in 2006, Steve Yegge wrote a blog post called “&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;steve-yegge.blogspot.com&#x2F;2006&#x2F;03&#x2F;execution-in-kingdom-of-nouns.html&quot;&gt;Execution in the Kingdom of Nouns&lt;&#x2F;a&gt;”. I hesitate a little to link to it because it probably qualifies as an instance of &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;belkadan.com&#x2F;blog&#x2F;2015&#x2F;12&#x2F;Re-Contempt-Culture&#x2F;&quot;&gt;Contempt Culture&lt;&#x2F;a&gt;, but it does have some good points, and it relates to what I’m about to bring up, and without it I’d have to think of a different title for this blog post. But I’ll summarize it here for those who don’t want to read through Yegge’s parable about Java:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Object-oriented languages, especially 2000s-era OO languages, especially 2000s-era Java, have a (natural) tendency to “make everything a noun”, i.e. to not have free functions or function values. Instead, you have to make a class that has a particular operation, and then make that a subclass of some known class (or implement an interface, Java’s equivalent of Swift’s protocols) so that the operation you want can be invoked via dynamic dispatch. This adds boilerplate to your code and obscures the fact that you &lt;em&gt;really&lt;&#x2F;em&gt; just want to talk about an operation.&lt;&#x2F;p&gt;

  &lt;pre&gt;&lt;code&gt;threadPool.execute(new Runnable() {
  @Override public void run() { … }
})
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;(As an addendum, Java 8 got some shorthand to handle these much more concisely, which they call &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.drdobbs.com&#x2F;jvm&#x2F;lambda-expressions-in-java-8&#x2F;240166764&quot;&gt;lambda expressions&lt;&#x2F;a&gt;. The operation is still strongly typed on the declaration side, though, so people could reasonably still be unhappy.)&lt;&#x2F;p&gt;

&lt;p&gt;So, the problem in Java is (was) that &lt;strong&gt;if you want to talk about an operation&lt;&#x2F;strong&gt; (a verby thing like “add”), &lt;strong&gt;you have to do it using a type&lt;&#x2F;strong&gt; (a nouny thing like “BinaryOperation”, or its concrete implementation “Sum”). Swift is much better because it allows you to directly use functions as values, either by referencing them by name or by using closure expressions. Problem solved, right?&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;Last time I mentioned at the end of the post—snuck in, really—Dim Sum Thinking’s idea that &lt;strong&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;dimsumthinking&#x2F;status&#x2F;887498387293167618&quot;&gt;algebraic abstractions act like “design patterns”&lt;&#x2F;a&gt;&lt;&#x2F;strong&gt;, in that the power came from the intuition and understanding that went with saying “this behaves like a semigroup” in the same way as “this behaves like a delegate”. Someone who’s been programming Cocoa for a while almost certainly knows what I mean when I say the latter (“weakly-referenced object that is consulted and&#x2F;or informed about various things that happen to the main object”), and someone who’s familiar with algebraic abstractions knows what I mean about the former (“type with a combining binary operation that’s associative, so I can parallel-reduce it”). This is &lt;em&gt;useful&lt;&#x2F;em&gt; for communication.&lt;&#x2F;p&gt;

&lt;p&gt;Only…there’s an idea (both longstanding and controversial) that &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;wiki.c2.com&#x2F;?AreDesignPatternsMissingLanguageFeatures&quot;&gt;a design pattern compensates for a missing language feature&lt;&#x2F;a&gt;. The compiler can check (to some extent) if you’re using a language feature directly, and may provide special affordances to make it simpler and easier to get right. So, in that case, what language feature is missing?&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;At this point you might be wondering “what does this all have to do with &lt;code&gt;Sum&lt;&#x2F;code&gt; and &lt;code&gt;Product&lt;&#x2F;code&gt;?” Well, recall that I said that a useful thing about associative operations is that you can perform &lt;code&gt;reduce&lt;&#x2F;code&gt; in parallel. That means we’d define &lt;code&gt;parallelReduce&lt;&#x2F;code&gt; something like this:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;extension RandomAccessCollection where Element: Semigroup {
  func parallelReduce(_ resultIfEmpty: Element) -&amp;gt; Element { … }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;Notice that the extension is constrained: the element of the collection must be a &lt;code&gt;Semigroup&lt;&#x2F;code&gt;. This is a good thing; &lt;strong&gt;we want the compiler to tell us if we try to &lt;code&gt;parallelReduce&lt;&#x2F;code&gt; with a non-associative operation&lt;&#x2F;strong&gt;, like subtraction. &lt;strong&gt;A design pattern can’t do this&lt;&#x2F;strong&gt;; it’s “just” guidelines on how to write code. But using this protocol correctly with the rest of Swift becomes a bit unwieldy.&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;let questionScores: [Int] &#x3D; …
&#x2F;&#x2F; let totalScore: Int &#x3D; questionScores.reduce(0, +)
let totalScore: Int &#x3D;
    questionScores.lazy
                  .map { Sum($0) }
                  .parallelReduce(Sum(0))
                  .rawValue
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;That is, we have to jump in and out of the &lt;code&gt;Sum&lt;&#x2F;code&gt; type in order to talk about the summing operation.&lt;a href&#x3D;&quot;#fn:lazy&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;p&gt;We could get clever and throw more code at the problem:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;extension RandomAccessCollection {
  func parallelReduce&amp;lt;Operation: Semigroup&amp;gt;(
    _ resultIfEmpty: Element,
    _ operation: Operation.Type) -&amp;gt; Element
  where Operation: RawRepresentable, Operation.RawValue &#x3D;&#x3D; Element {
    return self.lazy
               .map { Operation(rawValue: $0) }
               .parallelReduce(Operation(rawValue: resultIfEmpty))
               .rawValue
  }
}

let questionScores: [Int] &#x3D; …
&#x2F;&#x2F; let totalScore: Int &#x3D; questionScores.reduce(0, +)
let totalScore: Int &#x3D; questionScores.parallelReduce(0, Sum.self)
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;But now, even though we’ve gotten down to something much closer to the original &lt;code&gt;reduce&lt;&#x2F;code&gt; code, we’re starting to see a familiar complaint. &lt;strong&gt;In order to get the guarantee that &lt;code&gt;+&lt;&#x2F;code&gt; is associative, we had to &lt;em&gt;define a type.&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt; We’re back in the Kingdom of Nouns.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;I &lt;em&gt;think&lt;&#x2F;em&gt; the trouble is that we don’t &lt;em&gt;really&lt;&#x2F;em&gt; want to say “&lt;code&gt;Int&lt;&#x2F;code&gt; is a semigroup”, or even a more correct “&lt;code&gt;Int&lt;&#x2F;code&gt; forms a semigroup under addition” (or “with &lt;code&gt;+&lt;&#x2F;code&gt;”, if you want to sound less mathy). The natural way for &lt;em&gt;me&lt;&#x2F;em&gt; to talk about these things is “&lt;code&gt;+&lt;&#x2F;code&gt; on &lt;code&gt;Int&lt;&#x2F;code&gt;s is associative”. And indeed, that’s what I &lt;em&gt;have&lt;&#x2F;em&gt; been saying in the prose, throughout this whole post.&lt;&#x2F;p&gt;

&lt;p&gt;So, is that the missing language feature? Maybe we really want a way to describe the properties of &lt;em&gt;operations,&lt;&#x2F;em&gt; specific values of function type.&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;&#x2F;&#x2F; For illustrative purposes only.
operationgroup Semigroup&amp;lt;Element&amp;gt;: (Element, Element) -&amp;gt; Element

func +(left: Int, right: Int) -&amp;gt; Int: Semigroup { … }
func *(left: Int, right: Int) -&amp;gt; Int: Semigroup { … }
func -(left: Int, right: Int) -&amp;gt; Int { … }

extension RandomAccessCollection {
  func parallelReduce(
    _ resultIfEmpty: Element,
    _ combine: Semigroup&amp;lt;Element&amp;gt;) -&amp;gt; Element { … }
}

let questionScores: [Int] &#x3D; …
&#x2F;&#x2F; let totalScore: Int &#x3D; questionScores.reduce(0, +)
let totalScore: Int &#x3D; questionScores.parallelReduce(0, +) &#x2F;&#x2F; ahhh...
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;There we go. Now we can continue referring to functions directly, but also the compiler can check if we screw up at the use site, and even do some basic checking to make sure the function’s type makes sense. I’m not exactly sure how it would works with closure literals, but let’s not worry about that right now.&lt;&#x2F;p&gt;

&lt;p&gt;(If you’re wondering why there isn’t a swift-evolution proposal about this right now, keep reading.)&lt;&#x2F;p&gt;

&lt;p&gt;This feels a lot better to me than what we had before. We don’t have to say a &lt;em&gt;data type&lt;&#x2F;em&gt; has these particular properties. We don’t have to make a dummy type when there’s more than one way to satisfy the abstraction. We don’t even end up with the “generic operation” problem from the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;belkadan.com&#x2F;blog&#x2F;2017&#x2F;09&#x2F;Over-abstraction&#x2F;&quot;&gt;previous post&lt;&#x2F;a&gt;, because we use whatever names are natural for the operation.&lt;&#x2F;p&gt;

&lt;p&gt;(Okay, that last one is cheating, because now we have to pass the operation directly to &lt;code&gt;parallelReduce&lt;&#x2F;code&gt;, instead of inferring it from the element type. For &lt;code&gt;Semigroup&lt;&#x2F;code&gt; I think that’s the right tradeoff, but that might not always be the case. Keep reading.)&lt;&#x2F;p&gt;

&lt;p&gt;To summarize: &lt;strong&gt;what this hypothetical syntax does is put the conformance into the &lt;em&gt;function&lt;&#x2F;em&gt; type rather than the &lt;em&gt;data&lt;&#x2F;em&gt; type.&lt;&#x2F;strong&gt; It’s still “type checking”, and it’s still enforced by the compiler, so it’s more than just a design pattern, but at the same time it puts the abstraction in the right place.&lt;&#x2F;p&gt;

&lt;p&gt;…or does it?&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;After defining &lt;code&gt;Semigroup&lt;&#x2F;code&gt;—actually, the very first protocol covered—&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;swift&#x2F;math&#x2F;algebra&#x2F;2015&#x2F;02&#x2F;17&#x2F;algebraic-structure-and-protocols.html&quot;&gt;Williams goes on to define &lt;code&gt;Monoid&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;protocol Monoid: Semigroup {
  &#x2F;&#x2F; Identity value of monoid
  &#x2F;&#x2F; **AXIOM** Should satisfy:
  &#x2F;&#x2F;   Self.e().op(a) &#x3D;&#x3D; a.op(Self.e()) &#x3D;&#x3D; a
  &#x2F;&#x2F; for all values a
  static func e() -&amp;gt; Self
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;(I probably would have used a static property &lt;code&gt;identity&lt;&#x2F;code&gt; rather than a function, but whatever.)&lt;&#x2F;p&gt;

&lt;p&gt;The immediate advantage of a monoid is that you now have a good default for the &lt;code&gt;initialResult&lt;&#x2F;code&gt; parameter of &lt;code&gt;reduce&lt;&#x2F;code&gt; and the &lt;code&gt;resultIfEmpty&lt;&#x2F;code&gt; parameter of &lt;code&gt;parallelReduce&lt;&#x2F;code&gt;: the identity value.&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;extension Sequence where Element: Monoid {
  func reduce() -&amp;gt; Element {
    return self.reduce(.e(), { $0.op($1) })
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;There’s an argument to be had over whether this is &lt;em&gt;sufficiently&lt;&#x2F;em&gt; more expressive than &lt;code&gt;Semigroup&lt;&#x2F;code&gt; to be worth a separate protocol and another method on &lt;code&gt;Sequence&lt;&#x2F;code&gt;, but let’s set that aside. The problem we run into is that &lt;strong&gt;the hypothetical &lt;code&gt;operationgroup&lt;&#x2F;code&gt; I came up with in the last section now has to grow actual members&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;operationgroup Semigroup&amp;lt;Element&amp;gt;: (Element, Element) -&amp;gt; Element {}
operationgroup Monoid&amp;lt;Element&amp;gt;: Semigroup&amp;lt;Element&amp;gt; {
  var identity: Element
}

func +(left: Int, right: Int) -&amp;gt; Int: Monoid {
  …
} where {
  var identity: Int { return 0 }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;My makeshift syntax is getting uglier, and I have even less idea how it would work for closures at this point. Maybe this &lt;code&gt;operationgroup&lt;&#x2F;code&gt; thing isn’t going to fly.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;This whole time I’ve been saying that the interesting part of a semigroup is the operation:&lt;&#x2F;p&gt;

&lt;ul&gt;
  &lt;li&gt;It takes two values with the same type, and returns another value of that type.&lt;&#x2F;li&gt;
  &lt;li&gt;It’s associative. (This actually implies the previous condition, but let’s separate that just to be explicit.)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;The way I’ve phrased the definition, the element type feels almost incidental, and therefore it makes sense to talk about the operation holding the “conformance”. But these aren’t the only kind of algebraic structures that show up in computer science. There’s another one called a &lt;em&gt;lattice&lt;&#x2F;em&gt; that looks something like this:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;protocol Lattice {
  &#x2F;&#x2F; **AXIOM** Should satisfy:
  &#x2F;&#x2F;   Commutativity: a.join(b) &#x3D;&#x3D; b.join(a)
  &#x2F;&#x2F;   Associativity: a.join(b).join(c) &#x3D;&#x3D; a.join(b.join(c))
  &#x2F;&#x2F;   Absorption:    a.join(a.meet(b)) &#x3D;&#x3D; a
  &#x2F;&#x2F;                  a.meet(a.join(b)) &#x3D;&#x3D; a
  &#x2F;&#x2F; for all values a, b, and c
  func join(_ other: Self) -&amp;gt; Self

  &#x2F;&#x2F; **AXIOM** Should satisfy:
  &#x2F;&#x2F;   Commutativity: a.meet(b) &#x3D;&#x3D; b.meet(a)
  &#x2F;&#x2F;   Associativity: a.meet(b).meet(c) &#x3D;&#x3D; a.meet(b.meet(c))
  &#x2F;&#x2F;   Absorption:    a.join(a.meet(b)) &#x3D;&#x3D; a
  &#x2F;&#x2F;                  a.meet(a.join(b)) &#x3D;&#x3D; a
  &#x2F;&#x2F; for all values a, b, and c
  func meet(_ other: Self) -&amp;gt; Self
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;A concrete example of a lattice is a &lt;code&gt;Set&lt;&#x2F;code&gt; with its &lt;code&gt;union&lt;&#x2F;code&gt; and &lt;code&gt;intersection&lt;&#x2F;code&gt; operations.&lt;a href&#x3D;&quot;#fn:refines&quot;&gt;3&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;struct SetInclusion&amp;lt;Element&amp;gt;: RawRepresentable {
  var rawValue: Set&amp;lt;Element&amp;gt;
  init(rawValue: Set&amp;lt;Element&amp;gt;) { … }
  init(_ rawValue: Set&amp;lt;Element&amp;gt;) { … } &#x2F;&#x2F; for convenience
}
extension SetInclusion: Lattice {
  func join(_ other: SetInclusion&amp;lt;Element&amp;gt;) -&amp;gt; SetInclusion&amp;lt;Element&amp;gt; {
    return SetInclusion(self.rawValue.union(other.rawValue))
  }
  func meet(_ other: SetInclusion&amp;lt;Element&amp;gt;) -&amp;gt; SetInclusion&amp;lt;Element&amp;gt; {
    return SetInclusion(self.rawValue.intersection(other.rawValue))
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;This is a death knell for the idea of &lt;code&gt;operationgroup&lt;&#x2F;code&gt;. Neither &lt;code&gt;join&lt;&#x2F;code&gt; nor &lt;code&gt;meet&lt;&#x2F;code&gt; is a “fundamental” operation that carries the “lattice-ness” of &lt;code&gt;SetInclusion&lt;&#x2F;code&gt;, and moreover their requirements both depend on the other operation!&lt;&#x2F;p&gt;

&lt;p&gt;The trouble is that &lt;strong&gt;algebraic abstractions don’t constrain themselves to relating a single operation with a single type&lt;&#x2F;strong&gt;; they can have multiple operations or even multiple types and still be useful. We could certainly decide that some &lt;em&gt;subset&lt;&#x2F;em&gt; of abstractions deserves to be privileged with a language feature, but then we’ll have to make compromises when we go beyond that subset.&lt;&#x2F;p&gt;

&lt;p&gt;(In fact, you could say we’ve already done this: abstractions that really &lt;em&gt;do&lt;&#x2F;em&gt; feel like they’re about one type in particular work very nicely as protocols, like &lt;code&gt;Sequence&lt;&#x2F;code&gt; and &lt;code&gt;RawRepresentable&lt;&#x2F;code&gt;.)&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;So, the missing language feature here, perhaps, is a way to relate &lt;em&gt;multiple&lt;&#x2F;em&gt; types and &lt;em&gt;multiple&lt;&#x2F;em&gt; operations, and refer to those relations directly. Surprise, there is in fact a language that does this: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Standard_ML#Module_system&quot;&gt;ML&lt;&#x2F;a&gt;! ML’s equivalent of protocols is &lt;em&gt;signatures,&lt;&#x2F;em&gt; but the things that conform to them aren’t the &lt;em&gt;datatypes&lt;&#x2F;em&gt; (in Swift terms, enums with tuple payloads) but containers called &lt;em&gt;structures.&lt;&#x2F;em&gt; ML structures aren’t like Swift structs; they’re “just” relations between types and operations that satisfy signatures. In Swift syntax they’d look something like this:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;structure SetInclusion&amp;lt;T&amp;gt;: Lattice {
  typealias Element &#x3D; Set&amp;lt;T&amp;gt;
  func join(_ left: Set&amp;lt;T&amp;gt;, _ right: Set&amp;lt;T&amp;gt;) -&amp;gt; Set&amp;lt;T&amp;gt; {
    return left.union(right)
  }
  func meet(_ left: Set&amp;lt;T&amp;gt;, _ right: Set&amp;lt;T&amp;gt;) -&amp;gt; Set&amp;lt;T&amp;gt; {
    return left.intersection(right)
  }
}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;(Disclaimer: I have never actually &lt;em&gt;written&lt;&#x2F;em&gt; anything in ML; this is all accrued knowledge and surface-level research done in the process of writing this post, so I could very easily be getting things wrong.)&lt;&#x2F;p&gt;

&lt;p&gt;Let’s rewrite the example with the &lt;code&gt;Sum&lt;&#x2F;code&gt; struct in this way too.&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;structure Sum&amp;lt;T: Arithmetic&amp;gt;: Semigroup {
  typealias Element &#x3D; T
  func op(_ left: T, _ right: T) -&amp;gt; T {
    return left + right
  }
}

extension RandomAccessCollection {
  func parallelReduce&amp;lt;Operation: Semigroup&amp;gt;(
    _ resultIfEmpty: Element,
    _ operation: Operation) -&amp;gt; Element
  where Operation.Element &#x3D;&#x3D; Element {
    …
  }
}

let questionScores: [Int] &#x3D; …
&#x2F;&#x2F; let totalScore: Int &#x3D; questionScores.reduce(0, +)
let totalScore: Int &#x3D; questionScores.parallelReduce(0, Sum)
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;So, we’re in the Kingdom of Nouns again, but now we know why. &lt;strong&gt;The noun isn’t the name of the operation; it’s the name of the relation between the type(s) and operation(s).&lt;&#x2F;strong&gt; Curiously, math doesn’t usually give these relations nice, easy names, but that’s because a lot of them are ad hoc: &lt;code&gt;Sum&lt;&#x2F;code&gt; is “(&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Integer&quot;&gt;ℤ&lt;&#x2F;a&gt;, +)”, &lt;code&gt;SetInclusion&lt;&#x2F;code&gt; is “(&lt;em&gt;S,&lt;&#x2F;em&gt; ∪, ∩)”, and so on. That wouldn’t be great for us programmers, where we may actually need to refer to the relation in multiple places.&lt;&#x2F;p&gt;

&lt;p&gt;(And if you haven’t spotted it already, surprise #2 is that you don’t &lt;em&gt;really&lt;&#x2F;em&gt; need a new declaration kind to do this in Swift. The “structure” above is equivalent to the current idiom for sub-module “namespaces”: an enum with no cases.)&lt;&#x2F;p&gt;

&lt;p&gt;Some of the uneasiness here, at least for me, comes from the clash with normal object-oriented style. We have operations that operate on a particular type, and yet we don’t necessarily want to make them methods of that type. Instead, we’re mapping existing methods into a generic interface, and that generic interface may not have a good choice to be the &lt;code&gt;self&lt;&#x2F;code&gt; type.&lt;&#x2F;p&gt;

&lt;p&gt;On the other hand, being able to directly manipulate “structures” lets you do convenient things like having a &lt;code&gt;Set&lt;&#x2F;code&gt; that uniques class instances by pointer identity instead of calling &lt;code&gt;&#x3D;&#x3D;&lt;&#x2F;code&gt;.&lt;a href&#x3D;&quot;#fn:conformance&quot;&gt;4&lt;&#x2F;a&gt; Hm, this is starting to sound like the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Strategy_pattern&quot;&gt;strategy pattern&lt;&#x2F;a&gt;…&lt;&#x2F;p&gt;

&lt;p&gt;…and with that we’ve come full circle back to design patterns.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;So, to conclude:&lt;&#x2F;p&gt;

&lt;ul&gt;
  &lt;li&gt;Yes, being able to check properties of operations pulls us into the Kingdom of Nouns in today’s Swift.&lt;&#x2F;li&gt;
  &lt;li&gt;No, Swift cannot really do better in the general case, because it’s not always about just one operation.&lt;&#x2F;li&gt;
  &lt;li&gt;Yes, a &lt;code&gt;RawRepresentable&lt;&#x2F;code&gt; struct is the way to go when a type can conform to a protocol in multiple ways.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;I think a possible takeaway from this for Swift is that defining such structs could be easier. There are a few ideas floating around about that, primarily a keyword like &lt;code&gt;newtype&lt;&#x2F;code&gt; that would handle the &lt;code&gt;RawRepresentable&lt;&#x2F;code&gt; conformance, and then some way to forward protocol implementations to the wrapped value. And possibly some automatic wrapping&#x2F;unwrapping. But we’ll see.&lt;&#x2F;p&gt;

&lt;p&gt;Hope you’ve enjoyed this exploration of mine! Thanks for following along.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;
&lt;div&gt;
  &lt;ol&gt;
    &lt;li&gt;

      &lt;p&gt;Fun fact: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Associative_property#Nonassociativity_of_floating_point_calculation&quot;&gt;addition of floating-point values is &lt;em&gt;not&lt;&#x2F;em&gt; associative&lt;&#x2F;a&gt;. This isn’t important at all for this post, but it is one of the reasons why for a long time Swift didn’t have a common “Arithmetic” protocol that covers both integers and floating-point numbers: the straightforward implementation of a generic algorithm often doesn’t do the right thing for floats.&lt;&#x2F;p&gt;

      &lt;p&gt;Strictly speaking, integer addition is not associative in Swift either because &lt;code&gt;+&lt;&#x2F;code&gt; traps when you overflow: consider &lt;code&gt;.max + 1 + (-1)&lt;&#x2F;code&gt;. &lt;code&gt;&amp;amp;+&lt;&#x2F;code&gt; &lt;em&gt;is&lt;&#x2F;em&gt; associative but doesn’t always behave like addition. I left this out of the original post because I literally forgot to consider adding negative numbers. &lt;a href&#x3D;&quot;#fnref:float&quot;&gt;↩︎&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
    &lt;&#x2F;li&gt;
    &lt;li&gt;
      &lt;p&gt;The &lt;code&gt;.lazy&lt;&#x2F;code&gt; is there because we don’t &lt;em&gt;really&lt;&#x2F;em&gt; care about the intermediate state of &lt;code&gt;Sum&lt;&#x2F;code&gt; values. Many other languages default to this behavior; Swift chose not to in order not to thrust types like &lt;code&gt;LazyMappedCollection&lt;&#x2F;code&gt; in new users’ faces when they really just wanted an Array back. One can argue over whether this was the right decision; I won’t address it further in this post. &lt;a href&#x3D;&quot;#fnref:lazy&quot;&gt;↩︎&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
    &lt;&#x2F;li&gt;
    &lt;li&gt;
      &lt;p&gt;Why not make &lt;code&gt;Set&lt;&#x2F;code&gt; conform to &lt;code&gt;Lattice&lt;&#x2F;code&gt; directly? Turns out there’s another way that Sets can form a lattice: if you can do some kind of ordering on their elements. For example, a set of sets can form a “partition refinement lattice”, as illustrated in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Lattice_(order)#&#x2F;media&#x2F;File:Lattice_of_partitions_of_an_order_4_set.svg&quot;&gt;this diagram from Wikipedia&lt;&#x2F;a&gt;. But I think the union&#x2F;intersection lattice is probably the one you’d see most often. &lt;a href&#x3D;&quot;#fnref:refines&quot;&gt;↩︎&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
    &lt;&#x2F;li&gt;
    &lt;li&gt;
      &lt;p&gt;The Swift compiler actually &lt;em&gt;does&lt;&#x2F;em&gt; reason directly about “structures”, calling them “conformances”. Just as an ML structure describes relations between types and operations that satisfy a signature, a Swift conformance describes how a particular type conforms to a protocol, including all of the operations and associated types. A conformance even has a run-time representation, which shows up as a hidden argument to a generic function. But the language doesn’t give you any ability to interact with conformances directly. &lt;a href&#x3D;&quot;#fnref:conformance&quot;&gt;↩︎&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
    &lt;&#x2F;li&gt;
  &lt;&#x2F;ol&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://belkadan.com/blog/2017/09/The-New-Kingdom-of-Nouns/"/>
    <published>2017-09-07T07:00:00.000Z</published>
  </entry>
  <entry>
    <title>New Leadership for ChicagoRuby | 8th Light Blog</title>
    <content type="html">&lt;p&gt;After 10 years as lead organizer of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;chicagoruby.org&#x2F;&quot;&gt;ChicagoRuby&lt;&#x2F;a&gt;, I have decided to step down. My colleague here at 8th Light, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.meetup.com&#x2F;ChicagoRuby&#x2F;members&#x2F;190520517&#x2F;&quot;&gt;Nicole Carpenter&lt;&#x2F;a&gt;, will be taking over leadership duties effective September 7, 2017. Please join me in congratulating Nicole!&lt;&#x2F;p&gt;

&lt;p&gt;I assumed leadership of the Chicago Area Ruby on Rails Meetup Group in 2007. We had 78 members and a mouthful of a name. We immediately shortened the name to ChicagoRuby. Growing the membership took time. Today, ChicagoRuby has over 4,200 members.&lt;&#x2F;p&gt;

&lt;p&gt;We started as a small band in the Western Suburbs of Chicago. A separate Ruby group, Chirb, met in downtown Chicago. Several local Ruby enthusiasts attended meetings hosted by both groups; everything was friendly. We merged the two groups under the ChicagoRuby banner in 2009.&lt;&#x2F;p&gt;

&lt;p&gt;Ruby was just over a decade old when ChicagoRuby began, but Rails was relatively new. When one member asked “Why isn’t there a Rails conference in Chicago?” we stepped up and launched the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;windycityrails.com&#x2F;&quot;&gt;WindyCityRails&lt;&#x2F;a&gt; conference. The event attracts speakers and attendees planet-wide. Hosting WindyCityRails, now in its 10th year, enables all of us to learn about Ruby, Rails, and related tech from an even wider audience. &lt;&#x2F;p&gt;

&lt;p&gt;Meeting the needs of 4,200 members requires a team of organizers. Through our team of 16 organizers, ChicagoRuby has continued to maintain and grow our Meetups, organized and hosted several successful conferences, collaborated with tech enthusiasts in the Caribbean, and joined forces with colleagues in the Python and Java communities to launch the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;chicagopolyglot.com&quot;&gt;Chicago Polyglot Mingle&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;All of this seemed farfetched 10 years ago. We were a small group of enthusiasts, and Ruby on  Rails was a framework that had yet to be embraced by mainstream businesses.&lt;&#x2F;p&gt;

&lt;p&gt;These days, Ruby on Rails is mainstream. Basecamp, the first Ruby on Rails application, is revered as a successfully bootstrapped business. Ruby has become a preferred language at coding bootcamps and other training programs because it is accessible to young programmers, but also because it is a language that businesses rely on.&lt;&#x2F;p&gt;

&lt;p&gt;Serving as lead organizer for ChicagoRuby has been exciting these last 10 years. To my fellow members of ChicagoRuby: Thank you for the opportunity to serve. You and I will see each other around the community from time to time. And perhaps we will embark on an adventure together!&lt;&#x2F;p&gt;

&lt;p&gt;Speaking of growth: If you want to boost your skills with Ruby, Rails, or related tech, consider WindyCityRails. The presentations are always outstanding and the networking is powerful. Use the discount code &lt;strong&gt;8THLIGHT&lt;&#x2F;strong&gt; when you register for the 2017 conference, and you’ll get $50 off. See you at &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;windycityrails.com&#x2F;&quot;&gt;WindyCityRails&lt;&#x2F;a&gt;!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://8thlight.com/blog/ray-hightower/2017/09/07/chicagoruby-new-leadership.html"/>
    <published>2017-09-07T05:00:00.000Z</published>
  </entry>
  <entry>
    <title>Restarting after long gap. Maybe some dates. | Ron Jeffries</title>
    <content type="html">It has been a week since Tozier and I last worked, and I spent most of the time under repair. I&#39;m thinking we&#39;ll work on the date-sensitive stuff. I&#39;m mostly wrong.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/ipad-l-dates/"/>
    <published>2017-09-07T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>Reading List: Making Contact | Fourmilog - Fourmilab Change Log</title>
    <content type="html">
Scoles, Sarah.
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;1681774410&#x2F;?tag&#x3D;fourmilabwwwfour&quot; target&#x3D;&quot;Amazon_Fourmilab&quot;&gt;Making Contact&lt;&#x2F;a&gt;.
New York: Pegasus Books, 2017.
ISBN 978-1-68177-441-1.

There are few questions in our scientific inquiry into the universe and
our place within it more profound than “are we alone?”  As we have learned
more about our world and the larger universe in which it exists, this
question has become ever more fascinating.  We now know that our planet,
once thought the centre of the universe, is but one of what may be
hundreds of billions of planets in our own galaxy, which is one of hundreds
of billions of galaxies in the observable universe.  Not long ago, we knew
only of the planets in our own solar system, and some astronomers
believed planetary systems were rare, perhaps formed by freak
encounters between two stars following their orbits around the galaxy.
But now, thanks to exoplanet hunters and, especially, the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Kepler_%28spacecraft%29&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Kepler spacecraft&lt;&#x2F;a&gt;,
we know that it&#39;s “planets, planets, everywhere”—most stars
have planets, and many stars have planets where conditions may be
suitable for the origin of life.
&lt;p&gt;
If this be the case, then when we gaze upward at the myriad stars in the
heavens, might there be other eyes (or whatever sense organs they use
for the optical spectrum) looking back from planets of those stars toward our
Sun, wondering if &lt;em&gt;they&lt;&#x2F;em&gt; are alone?  Many are the children, and
adults, who have asked themselves that question when standing under a
pristine sky.  For the ten year old Jill Tarter, it set her on a path
toward a career which has been almost
coterminous with humanity&#39;s efforts to discover communications from
extraterrestrial civilisations—an effort which continues today,
benefitting from advances in technology unimagined when she undertook
the quest.
&lt;&#x2F;p&gt;&lt;p&gt;
World War II had seen tremendous advancements in radio communications,
in particular the short wavelengths (“microwaves”) used
by radar to detect enemy aircraft and submarines.  After the war,
this technology provided the foundation for the new field of
radio astronomy, which expanded astronomers&#39; window on the
universe from the traditional optical spectrum into wavelengths
that revealed phenomena never before observed nor, indeed, imagined,
and hinted at a universe which was much larger, complicated, and
violent than previously envisioned.
&lt;&#x2F;p&gt;&lt;p&gt;
In 1959, Philip Morrison and Guiseppe Cocconi published a paper in
Nature in which they calculated that using only
technologies and instruments already existing on the Earth, intelligent
extraterrestrials could send radio messages across the distances to the
nearby stars, and that these messages could be received, detected, and
decoded by terrestrial observers.  This was the origin of SETI—the Search
for Extraterrestrial Intelligence.  In 1960, Frank Drake used a radio
telescope to
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Project_Ozma&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;search for signals&lt;&#x2F;a&gt;
from two nearby star systems; he heard nothing.
&lt;&#x2F;p&gt;&lt;p&gt;
As they say, absence of evidence is not evidence of absence, and this
is acutely the case in SETI.  First of all, consider that you must first
decide what kind of signal aliens might send.  If it&#39;s something which
can&#39;t be distinguished from natural sources, there&#39;s little hope you&#39;ll be
able to tease it out of the cacophony which is the radio spectrum.  So we
must assume they&#39;re sending something that doesn&#39;t appear natural.  But
what is the variety of natural sources?  There&#39;s a dozen or so Ph.D. projects
just answering that question, including some surprising discoveries of
natural sources nobody imagined, such as
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Pulsar&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;pulsars&lt;&#x2F;a&gt;, which were sufficiently
strange that when first observed they were called “LGM” sources
for “Little Green Men”.  On what frequency are they sending (in
other words, where do we have to turn our dial to receive them, for those
geezers who remember radios with dials)? The most efficient signals
will be those with a very narrow frequency range, and there are billions of
possible frequencies the aliens might choose.  We could be pointed in the
right place, at the right time, and simply be tuned to the wrong station.
&lt;&#x2F;p&gt;&lt;p&gt;
Then there&#39;s that question of “the right time”.  It would be
absurdly costly to broadcast a beacon signal in all directions at all times:
that would require energy comparable to that emitted by a star (which, if
you think about it, does precisely that).  So it&#39;s likely that any civilisation
with energy resources comparable to our own would transmit in a narrow beam to
specific targets, switching among them over time.  If we didn&#39;t happen to
be listening when they were sending, we&#39;d never know they were calling.
&lt;&#x2F;p&gt;&lt;p&gt;
If you put all of these constraints together, you come up with what&#39;s called
an “observational
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Phase_space&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;phase space&lt;&#x2F;a&gt;”—a
multidimensional space of frequency, intensity, duration of
transmission, angular extent of transmission, bandwidth, and
other parameters which determine whether you&#39;ll detect the
signal.  And that assumes you&#39;re listening at all, which depends
upon people coming up with the money to fund the effort and pursue
it over the years.
&lt;&#x2F;p&gt;&lt;p&gt;
It&#39;s beyond daunting.  The space to be searched is so large, and our ability to
search it so limited, that negative results, even after decades of observation,
are equivalent to walking down to the seashore, sampling a glass of ocean
water, and concluding that based on the absence of fish, the ocean contained
no higher life forms.  But suppose you find a fish?  That would change
&lt;em&gt;everything&lt;&#x2F;em&gt;.
&lt;&#x2F;p&gt;&lt;p&gt;
Jill Tarter began her career in the mainstream of astronomy.  Her
Ph.D. research at the University of California, Berkeley was on
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Brown_dwarf&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;brown dwarfs&lt;&#x2F;a&gt;
(bodies more massive than gas giant planets but too small to
sustain the nuclear fusion reactions which cause stars to
shine—a brown dwarf emits weakly in the infrared as it
slowly radiates away the heat from the gravitational contraction
which formed it).  Her work was supported by a federal grant, which
made her uncomfortable—what relevance did brown dwarfs
have to those compelled to pay taxes to fund investigating them?  During her Ph.D.
work, she was asked by a professor in the department to help
with an aged computer she&#39;d used in an earlier project.  To acquaint
her with the project, the professor asked her to read the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Project_Cyclops&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Project Cyclops&lt;&#x2F;a&gt;
report.  It was a conversion experience.
&lt;&#x2F;p&gt;&lt;p&gt;
Project Cyclops was a NASA study conducted in 1971 on how to perform
a definitive search for radio communications from intelligent
extraterrestrials.  Its
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;ntrs.nasa.gov&#x2F;archive&#x2F;nasa&#x2F;casi.ntrs.nasa.gov&#x2F;19730010095.pdf&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;report&lt;&#x2F;a&gt;
[18.2 Mb PDF], issued in 1972, remains the “bible”
for radio SETI, although advances in technology, particularly in computing,
have rendered some of its recommendations obsolete.  The product of a NASA
which was still conducting missions to the Moon, it was grandiose in
scale, envisioning a large array of radio telescope dishes able to search
for signals from stars up to 1000 light years in distance (note that this is
still a tiny fraction of the stars in the galaxy, which is around 150,000
light years in diameter).  The estimated budget for the project was between
6 and 10 billion dollars (multiply those numbers by around six to get
present-day funny money) spent over a period of ten to fifteen years.
The report cautioned that there was no guarantee of success during that
period, and that the project should be viewed as a long-term endeavour
with ongoing funding to operate the system and continue the search.
&lt;&#x2F;p&gt;&lt;p&gt;
The Cyclops report arrived at a time when NASA was downsizing
and scaling back its ambitions: the final three planned lunar landing
missions had been cancelled in 1970, and production of additional Saturn V
launch vehicles had been terminated the previous year.  The budget
climate wasn&#39;t hospitable to Apollo-scale projects of any description,
especially those which wouldn&#39;t support lots of civil service and
contractor jobs in the districts and states of NASA&#39;s patrons in
congress.  Unsurprisingly, Project Cyclops simply landed on the pile
of ambitious NASA studies that went nowhere.  But to some who read it,
it was an inspiration.  Tarter thought, “This is the first time
in history when we don&#39;t just have to believe or not believe.  Instead
of just asking the priests and philosophers, we can try to find an
answer.  This is an old and important question, and I have the
opportunity to change how we try to answer it.”  While some
might consider searching the sky for “little green men”
frivolous and&#x2F;or absurd, to Tarter this, not the arcana of
brown dwarfs, was something worthy of support, and of her time and
intellectual effort, “something that could impact people&#39;s
lives profoundly in a short period of time.”
&lt;&#x2F;p&gt;&lt;p&gt;
The project to which Tarter had been asked to contribute,
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;SERENDIP&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Project SERENDIP&lt;&#x2F;a&gt;
(a painful acronym of Search for Extraterrestrial Radio
Emissions from Nearby Developed Intelligent Populations)
was extremely modest compared to Cyclops.  It had no dedicated
radio telescopes at all, nor even dedicated time on existing
observatories.  Instead, it would “piggyback” on
observations made for other purposes, listening to the feed from
the telescope with an instrument designed to detect the kind of
narrow-band beacons envisioned by Cyclops.  To cope with the
problem of not knowing the frequency on which to listen, the
receiver would monitor 100 channels simultaneously.  Tarter&#39;s
job was programming the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;PDP-8&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;PDP 8&#x2F;S&lt;&#x2F;a&gt;
computer to monitor the receiver&#39;s output and
search for candidate signals.  (Project SERENDIP is still in
operation today, employing hardware able to simultaneously
monitor 128 million channels.)
&lt;&#x2F;p&gt;&lt;p&gt;
From this humble start, Tarter&#39;s career direction was set.  All
of her subsequent work was in SETI.  It would be a roller-coaster
ride all the way.  In 1975, NASA had started a modest study to
research (but not build) technologies for microwave SETI searches.
In 1978, the program came into the sights of senator William
Proxmire, who bestowed upon it his “Golden Fleece”
award.  The program initially survived his ridicule, but in 1982, the
budget zeroed out the project.  Carl Sagan personally intervened
with Proxmire, and in 1983 the funding was reinstated, continuing
work on a more capable spectral analyser which could be used with
existing radio telescopes.
&lt;&#x2F;p&gt;&lt;p&gt;
Buffeted by the start-stop support from NASA and encouraged by
Hewlett-Packard executive
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Bernard_M._Oliver&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Bernard
Oliver&lt;&#x2F;a&gt;, a supporter of SETI from its inception, Tarter
decided that SETI needed its own institutional home, one dedicated
to the mission and able to seek its own funding independent of the
whims of congressmen and bureaucrats.  In 1984,
the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;SETI_Institute&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;SETI Institute&lt;&#x2F;a&gt;
was incorporated in California.  Initially funded by Oliver, over
the years major contributions have been made by technology moguls
including William Hewlett, David Packard, Paul Allen, Gordon Moore,
and Nathan Myhrvold.  The SETI Institute receives no government
funding whatsoever, although some researchers in its employ, mostly
those working on astrobiology, exoplanets, and other topics not
directly related to SETI, are supported by research grants from
NASA and the National Science Foundation.  Fund raising was a
skill which did not come naturally to Tarter, but it was mission
critical, and so she mastered the art.  Today, the SETI Institute
is considered one of the most savvy privately-funded research
institutions, both in seeking large donations and in grass-roots
fundraising.
&lt;&#x2F;p&gt;&lt;p&gt;
By the early 1990s, it appeared the pendulum had swung once
again, and NASA was back in the SETI game.  In 1992, a program was
funded to conduct a two-pronged effort: a targeted search of 800
nearby stars, and an all-sky survey looking for stronger beacons.
Both would employ what were then state-of-the-art spectrum analysers
able to monitor 15 million channels simultaneously.  After
just a year of observations, congress once again pulled the plug.
The SETI Institute would have to go it alone.
&lt;&#x2F;p&gt;&lt;p&gt;
Tarter launched
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.seti.org&#x2F;seti-institute&#x2F;project&#x2F;details&#x2F;project-phoenix&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Project Phoenix&lt;&#x2F;a&gt;,
to continue the NASA targeted search program using the orphaned
NASA spectrometer hardware and whatever telescope time could be
purchased from donations to the SETI Institute.  In 1995,
observations resumed at the Parkes radio telescope in Australia,
and subsequently a telescope at the National Radio Astronomy
Observatory in Green Bank, West Virginia, and the 300 metre dish
at Arecibo Observatory in Puerto Rico.  The project continued
through 2004.
&lt;&#x2F;p&gt;&lt;p&gt;
What should SETI look like in the 21st century?  Much had changed since
the early days in the 1960s and 1970s.  Digital electronics and
computers had increased in power a billionfold, not only making it
possible to scan a billion channels simultaneously and automatically
search for candidate signals, but to combine the signals from a
large number of independent, inexpensive antennas (essentially,
glorified satellite television dishes), synthesising the aperture of
a huge, budget-busting radio telescope.  With progress in electronics
expected to continue in the coming decades, any capital investment in
antenna hardware would yield an exponentially growing science harvest
as the ability to analyse its output grew over time.  But to take
advantage of this technological revolution, SETI could no longer rely
on piggyback observations, purchased telescope time, or allocations
at the whim of research institutions: “SETI needs its own
telescope”—one optimised for the mission and designed to
benefit from advances in electronics over its lifetime.
&lt;&#x2F;p&gt;&lt;p&gt;
In a series of meetings from 1998 to 2000, the specifications of such an
instrument were drawn up: 350 small antennas, each 6 metres in diameter,
independently steerable (and thus able to be used all together, or in
segments to simultaneously observe different targets), with electronics
to combine the signals, providing an effective aperture of 900 metres
with all dishes operating.  With initial funding from Microsoft
co-founder Paul Allen (and with his name on the project, the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Allen_Telescope_Array&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Allen Telescope
Array&lt;&#x2F;a&gt;), the project began construction in 2004.  In 2007, observations
began with the first 42 dishes.  By that time, Paul Allen had lost
interest in the project, and construction of additional dishes was placed
on hold until a new benefactor could be found.  In 2011, a funding crisis
caused the facility to be placed in hibernation, and the
observatory was sold to SRI International for US$ 1.  Following
a crowdfunding effort led by the SETI Institute, the observatory was
re-opened later that year, and continues operations to this date.  No
additional dishes have been installed: current work concentrates on
upgrading the electronics of the existing antennas to increase
sensitivity.
&lt;&#x2F;p&gt;&lt;p&gt;
Jill Tarter retired as co-director of the SETI Institute in 2012,
but remains active in its scientific, fundraising, and outreach
programs.  There has never been more work in SETI underway than
at the present.  In addition to observations with the Allen
Telescope Array, the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Breakthrough_Listen&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Breakthrough
Listen&lt;&#x2F;a&gt; project, funded at US$ 100 million over ten years by
Russian billionaire Yuri Milner, is using thousands of hours of
time on large radio telescopes, with a goal of observing a million
nearby stars and the centres of a hundred galaxies.  All data are
available to the public for analysis.  A new frontier, unimagined in
the early days of SETI, is optical SETI.  A pulsed laser, focused
through a telescope of modest aperture, is able to easily outshine the
Sun in a detector sensitive to its wavelength and pulse duration.
In the optical spectrum, there&#39;s no need for fancy electronics to
monitor a wide variety of wavelengths: all you need is a prism or
diffraction grating.  The SETI Institute has just successfully completed
a US$ 100,000 Indiegogo campaign to crowdfund the first phase of the
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.indiegogo.com&#x2F;projects&#x2F;laser-seti-first-ever-all-sky-all-the-time-search-science#&#x2F;&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;Laser
SETI&lt;&#x2F;a&gt; project, which has as its ultimate goal an all-sky,
all-the-time search for short pulses of light which may be
signals from extraterrestrials or new natural phenomena to which
no existing astronomical instrument is sensitive.
&lt;&#x2F;p&gt;&lt;p&gt;
People often ask Jill Tarter what it&#39;s like to spend your entire
career looking for something and not finding it.  But she, and
everybody involved in SETI, always knew the search would not be
easy, nor likely to succeed in the short term.  The reward for
engaging in it is being involved in founding a new field of
scientific inquiry and inventing and building the tools which allow
exploring this new domain.  The search is vast, and to date we have
barely scratched the surface.  About all we can rule out, after more
than half a century, is a Star Trek-like universe
where almost every star system is populated by aliens chattering
away on the radio.  Today, the SETI enterprise, entirely privately
funded and minuscule by the standards of “big science”,
is strongly coupled to the exponential growth in computing power
and hence, roughly doubles its ability to search around every
two years.
&lt;&#x2F;p&gt;&lt;p&gt;
The question “are we alone?” is one which has profound
implications either way it is answered.  If we discover one or more
advanced technological civilisations (and they will almost certainly
be more advanced than we—we&#39;ve only had radio for a little more
than a century, and there are stars and planets in the galaxy
billions of years older than ours), it will mean it&#39;s possible to
grow out of the daunting problems we face in the adolescence of our
species and look forward to an exciting and potentially unbounded future.
If, after exhaustive searches (which will take at least another
fifty years of continued progress in expanding the search space),
it looks like we&#39;re alone, then intelligent life is so rare that we
may be its only exemplar in the galaxy and, perhaps, the universe.
Then, &lt;em&gt;it&#39;s up to us&lt;&#x2F;em&gt;.  Our destiny, and duty, is to ensure that
this spark, lit within us, will never be extinguished.
&lt;&#x2F;p&gt;
</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-09/001709.html"/>
    <published>2017-09-07T00:14:05.000Z</published>
  </entry>
  <entry>
    <title>Using Atomic Transactions to Power an Idempotent API | Brandur Leach</title>
    <content type="html">&lt;p&gt;The software industry as a whole contains a lot of people
doing a lot of different things, but for every developer
working on new embedded firmware, there’s about ten
building the linchpin of modern software – CRUD apps that
serve requests over HTTP. A lot of these apps are backed by
MVC frameworks like Ruby on Rails or ASP.NET, and backed by
ACID-compliant relational databases like Postgres or SQL
Server.&lt;&#x2F;p&gt;

&lt;p&gt;Sharp edges in production can lead to all kinds of
unexpected cases during the execution of an HTTP request –
client disconnects, application bugs that fail a request
midway through, and timeouts are all extraordinary
conditions that will occur regularly given enough request
volume. Databases can protect applications against
integrity problems with their transactions, and it’s worth
taking a little time to think about how to make best use of
them.&lt;&#x2F;p&gt;

&lt;p&gt;There’s a surprising symmetry between an HTTP request and a
database’s transaction. Just like the transaction, an HTTP
request is a transactional unit of work – it’s got a
clear beginning, end, and result. The client generally
expects a request to execute atomically and will behave as
if it will (although that of course varies based on
implementation). Here we’ll look at an example service to
see how HTTP requests and transactions apply nicely to one
another.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#one-to-one&quot;&gt;The 1:1 Model&lt;&#x2F;a&gt;

&lt;p&gt;I’m going to make the case that for a common idempotent
HTTP request, requests should map to backend transactions
at 1:1. For every request, all operations are committed or
aborted as part of a single transaction within it.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;http-transactions&#x2F;http-transactions.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  Transactions (tx1, tx2, tx3) mapped to HTTP requests at a 1:1 ratio.


&lt;p&gt;At first glance requiring idempotency may sound like a
sizeable caveat, but in many APIs operations can be made to
be idempotent by massaging endpoint verbs and behavior, and
moving non-idempotent operations like network calls to
background jobs.&lt;&#x2F;p&gt;

&lt;p&gt;Some APIs can’t be made idempotent and those will need a
little extra consideration. We’ll look at what to do about
them in more detail later as a follow up to this article.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#create-user&quot;&gt;A simple user creation service&lt;&#x2F;a&gt;

&lt;p&gt;Let’s build a simple test service with a single “create
user” endpoint. A client hits it with an &lt;code&gt;email&lt;&#x2F;code&gt; parameter,
and the endpoint responds with status &lt;code&gt;201 Created&lt;&#x2F;code&gt; to
signal that the user’s been created. The endpoint is also
idempotent so that if a client hits the endpoint again with
the same parameter, it responds with status &lt;code&gt;200 OK&lt;&#x2F;code&gt; to
signal that everything is still fine.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;PUT &#x2F;users?email&#x3D;jane@example.com
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;On the backend, we’re going to do three things:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;Check if the user already exists, and if so, break and
do nothing.&lt;&#x2F;li&gt;
&lt;li&gt;Insert a new record for the user.&lt;&#x2F;li&gt;
&lt;li&gt;Insert a new “user action” record. It’ll serve as an
audit log which comes with a reference to a user’s ID,
an action name, and a timestamp.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;We’ll build our implementation with Postgres, Ruby, and an
ORM in the style of ActiveRecord or Sequel, but these
concepts apply beyond any specific technology.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#database-schema&quot;&gt;Database schema&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;The service defines a simple Postgres schema containing
tables for its users and user actions &lt;a href&#x3D;&quot;#footnote-1&quot;&gt;1&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;CREATE TABLE users (
    id    BIGSERIAL PRIMARY KEY,
    email TEXT      NOT NULL CHECK (char_length(email) &amp;lt;&#x3D; 255)
);

-- our &amp;quot;user action&amp;quot; audit log
CREATE TABLE user_actions (
    id          BIGSERIAL   PRIMARY KEY,
    user_id     BIGINT      NOT NULL REFERENCES users (id),
    action      TEXT        NOT NULL CHECK (char_length(action) &amp;lt; 100),
    occurred_at TIMESTAMPTZ NOT NULL DEFAULT now()
);
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#implementation&quot;&gt;Backend implementation&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;The server route checks to see if the user exists. If so,
it returns immediately. If not, it creates the user and
user action, and returns. In both cases, the transaction
commits successfully.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;put &amp;quot;&#x2F;users&#x2F;:email&amp;quot; do |email|
  DB.transaction(isolation: :serializable) do
    user &#x3D; User.find(email)
    halt(200, &#39;User exists&#39;) unless user.nil?

    # create the user
    user &#x3D; User.create(email: email)

    # create the user action
    UserAction.create(user_id: user.id, action: &#39;created&#39;)

    # pass back a successful response
    [201, &#39;User created&#39;]
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;The SQL that’s generated in the case of a successful
insertion looks roughly like:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;START TRANSACTION
    ISOLATION LEVEL SERIALIZABLE;

SELECT * FROM users
    WHERE email &#x3D; &#39;jane@example.com&#39;;

INSERT INTO users (email)
    VALUES (&#39;jane@example.com&#39;);

INSERT INTO user_actions (user_id, action)
    VALUES (1, &#39;created&#39;);

COMMIT;
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;a href&#x3D;&quot;#concurrency-protection&quot;&gt;Concurrency protection&lt;&#x2F;a&gt;

&lt;p&gt;Readers with sharp eyes may have noticed a potential
problem: our &lt;code&gt;users&lt;&#x2F;code&gt; table doesn’t have a &lt;code&gt;UNIQUE&lt;&#x2F;code&gt;
constraint on its &lt;code&gt;email&lt;&#x2F;code&gt; column. The lack of one could
potentially allow two interleaved transactions to run their
&lt;code&gt;SELECT&lt;&#x2F;code&gt; phase one concurrently and get empty results.
They’d both follow up with an &lt;code&gt;INSERT&lt;&#x2F;code&gt;, leaving a
duplicated row.&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;http-transactions&#x2F;concurrent-race.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  A data race causing two concurrent HTTP requests to insert the same row.


&lt;p&gt;Luckily, in this example we’ve used an even more powerful
mechanism than &lt;code&gt;UNIQUE&lt;&#x2F;code&gt; to protect our data’s correctness.
Invoking our transaction with &lt;code&gt;DB.transaction(isolation:
:serializable)&lt;&#x2F;code&gt; starts it in &lt;code&gt;SERIALIZABLE&lt;&#x2F;code&gt;; an isolation
level so powerful that its guarantees might seem
practically magical.  It emulates serial transaction
execution as if each outstanding transaction had been
executed one after the other, rather than concurrently. In
cases like the above where a race condition would have
caused one transaction to taint the results of another, one
of the two will fail to commit with a message like this
one:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;ERROR:  could not serialize access due to read&#x2F;write dependencies among transactions
DETAIL:  Reason code: Canceled on identification as a pivot, during commit attempt.
HINT:  The transaction might succeed if retried.
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;We’re not going to look into how &lt;code&gt;SERIALIZABLE&lt;&#x2F;code&gt; works, but
sufficed to say it may detect a number of different data
races for us, and if it does it’ll abort a transaction when
it tries to commit.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#abort-retry&quot;&gt;Retrying an abort&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;Even though in our example a race should be rare, we’d
prefer to handle it correctly in our application code so
that it doesn’t bubble up as a 500 to a client. This is
possible by wrapping the request’s core operations in a
loop:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;MAX_ATTEMPTS &#x3D; 2

put &amp;quot;&#x2F;users&#x2F;:email&amp;quot; do |email|
  MAX_ATTEMPTS.times do
    begin
      DB.transaction(isolation: :serializable) do
        ...
      end

      # Success! Leave the loop.
      break

    rescue Sequel::SerializationFailure
      log.error &amp;quot;Failed to commit serially: #{$!}&amp;quot;
      # Failure: fall through to the next loop.
    end
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;In this case, we might have more than one of the same
transaction mapped to the HTTP request like so:&lt;&#x2F;p&gt;


  &lt;p&gt;&lt;a href&#x3D;&quot;&#x2F;assets&#x2F;http-transactions&#x2F;transaction-retry.svg&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
  An aborted transaction being retried within the same request.


&lt;p&gt;These loops will be more expensive than usual, but again,
we’re protecting ourselves against an unusual race. In
practice, unless callers are particularly contentious,
they’ll rarely occur.&lt;&#x2F;p&gt;

&lt;p&gt;Gems like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;jeremyevans&#x2F;sequel&quot;&gt;Sequel&lt;&#x2F;a&gt; can handle this for you
automatically (this code will behave similarly to the loop
above):&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;DB.transaction(isolation: :serializable,
    retry_on: [Sequel::SerializationFailure]) do
  ...
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#layers&quot;&gt;Data protection in layers&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;I’ve taken the opportunity to demonstrate the power of a
serializable transaction, but in real life you’d want to
put in a &lt;code&gt;UNIQUE&lt;&#x2F;code&gt; constraint on &lt;code&gt;email&lt;&#x2F;code&gt; even if you
intended to use the serializable isolation level. Although
&lt;code&gt;SERIALIZABLE&lt;&#x2F;code&gt; will protect you from a duplicate insert, an
added &lt;code&gt;UNIQUE&lt;&#x2F;code&gt; will act as one more check to protect your
application against incorrectly invoked transactions or
buggy code. It’s worth having it in there.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#background-jobs&quot;&gt;Background jobs&lt;&#x2F;a&gt;

&lt;p&gt;It’s a common pattern to add jobs to a background queue
during an HTTP request so that they can be worked
out-of-band and a waiting client doesn’t have to block on
an expensive operation.&lt;&#x2F;p&gt;

&lt;p&gt;Let’s add one more step to our user service above. In
addition to creating user and user action records, we’ll
also make an API request to an external support service to
tell it that a new account’s been created. We’ll do that by
queuing a background job because there’s no reason that it
has to happen in-band with the request.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;put &amp;quot;&#x2F;users&#x2F;:email&amp;quot; do |email|
  DB.transaction(isolation: :serializable) do
    ...

    # enqueue a job to tell an external support service
    # that a new user&#39;s been created
    enqueue(:create_user_in_support_service, email: email)

    ...
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;If we used a common job queue like Sidekiq to do this work,
then in the case of a transaction rollback (like we talked
about above where two transactions conflict), we could end
up with an invalid job in the queue. It’s referencing data
that no longer exists, so no matter how many times job
workers retried it, it can never succeed.&lt;&#x2F;p&gt;

&lt;h3&gt;&lt;a href&#x3D;&quot;#staged-jobs&quot;&gt;Transaction-staged jobs&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;

&lt;p&gt;A way around this is to create a job staging table into our
database. Instead of sending jobs to the queue directly,
they’re sent to a staging table first, and an &lt;strong&gt;&lt;em&gt;enqueuer&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;
pulls them out in batches and puts them to the job queue.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;CREATE TABLE staged_jobs (
    id       BIGSERIAL PRIMARY KEY,
    job_name TEXT      NOT NULL,
    job_args JSONB     NOT NULL
);
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;The enqueuer selects jobs, enqueues them, and then removes
them from the staging table &lt;a href&#x3D;&quot;#footnote-2&quot;&gt;2&lt;&#x2F;a&gt;. Here’s a rough
implementation:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;loop do
  DB.transaction do
    # pull jobs in large batches
    job_batch &#x3D; StagedJobs.order(&#39;id&#39;).limit(1000)

    if job_batch.count &amp;gt; 0
      # insert each one into the real job queue
      job_batch.each do |job|
        Sidekiq.enqueue(job.job_name, *job.job_args)
      end

      # and in the same transaction remove these records
      StagedJobs.where(&#39;id &amp;lt;&#x3D; ?&#39;, job_batch.last).delete
    end
  end
end
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Because jobs are inserted into the staging table from
within a transaction, its &lt;em&gt;isolation&lt;&#x2F;em&gt; property (ACID’s “I”)
guarantees that they’re not visible to any other
transaction until after the inserting transaction commits.
A staged job that’s rolled back is never seen by the
enqueuer, and doesn’t make it to the job queue.&lt;&#x2F;p&gt;

&lt;p&gt;I call this pattern a &lt;a href&#x3D;&quot;&#x2F;job-drain&quot;&gt;&lt;em&gt;transactionally-staged job
drain&lt;&#x2F;em&gt;&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;It’s also possible to just put the job queue directly in
the database itself with a library like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;chanks&#x2F;que&quot;&gt;Que&lt;&#x2F;a&gt;, but &lt;a href&#x3D;&quot;&#x2F;postgres-queues&quot;&gt;because
bloat can be potentially dangerous in systems like
Postgres&lt;&#x2F;a&gt;, this probably isn’t as good of an idea.&lt;&#x2F;p&gt;

&lt;a href&#x3D;&quot;#non-idempotent-requests&quot;&gt;Non-idempotent requests&lt;&#x2F;a&gt;

&lt;p&gt;What we’ve covered here works nicely for HTTP requests that
are idempotent. That’s probably a healthy majority given a
well-designed API, but there are always going to be some
endpoints that are not idempotent. Examples include calling
out to an external payment gateway with a credit card,
requesting a server to be provisioned, or anything else
that needs to make a synchronous network request.&lt;&#x2F;p&gt;

&lt;p&gt;For these types of requests we’re going to need to build
something a little more sophisticated, but just like in
this simpler case, our database has us covered. In part two
of this series we’ll look at how to implement &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stripe.com&#x2F;blog&#x2F;idempotency&quot;&gt;idempotency
keys&lt;&#x2F;a&gt; on top of multi-stage transactions.&lt;&#x2F;p&gt;


&lt;div&gt;
  &lt;p&gt;&lt;a href&#x3D;&quot;#footnote-1-source&quot;&gt;1&lt;&#x2F;a&gt; Note that for the purposes of this simple example we
could probably make this SQL more succinct, but for good
hygiene, we use length check, &lt;code&gt;NOT NULL&lt;&#x2F;code&gt;, and foreign key
constraints on our fields even if it’s a little more noisy
visually.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;#footnote-2-source&quot;&gt;2&lt;&#x2F;a&gt; Recall that like many job queues, the “enqueuer” system
shown guarantees “at least once” rather than “exactly once”
semantics, so the job themselves must be idempotent.&lt;&#x2F;p&gt;

&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="https://brandur.org/http-transactions"/>
    <published>2017-09-06T16:00:14.000Z</published>
  </entry>
  <entry>
    <title>Everything is Changing; So Should Antitrust | Stratechery</title>
    <content type="html">&lt;p&gt;Late last month WPP, the largest advertising group in the world, announced &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nytimes.com&#x2F;2017&#x2F;08&#x2F;23&#x2F;business&#x2F;media&#x2F;advertising-giant-wpp-lowers-forecast-as-clients-cut-back.html?mcubz&#x3D;0&amp;amp;_r&#x3D;0&quot;&gt;results and forecasts that were sharply down&lt;&#x2F;a&gt;. Those results, though, were not what I found striking about CEO Martin Sorrell’s &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;finance.yahoo.com&#x2F;news&#x2F;edited-transcript-wpp-l-earnings-235637417.html&quot;&gt;remarks on the group’s earnings call&lt;&#x2F;a&gt;; after all, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;tv-advertisings-surprising-strength-and-inevitable-fall&#x2F;&quot;&gt;I argued last summer&lt;&#x2F;a&gt; that such a decline was inevitable.&lt;&#x2F;p&gt;
&lt;p&gt;Rather, it was striking just how feeble Sorrell’s proposed response was:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  So what’s our response to all this? Well, further focus on our 4 strategic priorities. Horizontality, which we moved up from, I think it was #4 a year or so ago to #1, is our first critical priority. And it really means ensuring that our people work seamlessly. They’re accustomed to working vertically and by agency brand, but they work seamlessly horizontally across the group together through client teams, I’ll come on to those, and country managers and subregional managers to provide an integrated benefit for clients. And clients are pressurizing us for more effectiveness and more efficiency, this is the way, probably the most significant way that we can respond.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;Make no mistake, I’m &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2013&#x2F;the-uncanny-valley-of-a-functional-organization&#x2F;&quot;&gt;a student of organizational structure&lt;&#x2F;a&gt; and the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;apples-organizational-crossroads&#x2F;&quot;&gt;importance of aligning an organization&lt;&#x2F;a&gt; to the challenge at hand. Moreover, WPP’s conglomerate nature make any sort of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.wsj.com&#x2F;amp&#x2F;articles&#x2F;ad-giants-are-under-pressure-to-streamline-complex-structures-1503943756&quot;&gt;cross-agency collaboration challenging&lt;&#x2F;a&gt;; that, though gets at the real problem. If WPP must change the way it works internally, that by definition means the environment in which it is operating is fundamentally different than the one that existed while WPP grew into the organization it is today.&lt;&#x2F;p&gt;
&lt;h4&gt;Ad Agencies and the Internet&lt;&#x2F;h4&gt;
&lt;p&gt;I wrote about ad agencies earlier this year in the context of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;ad-agencies-and-accountability&#x2F;&quot;&gt;complaints about ads appearing next to objectionable content&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  Way back in 1841, Volney B. Palmer, the first ad agency, was opened in Philadelphia. In place of having to take out ads with multiple newspapers, an advertiser could deal directly with the ad agency, vastly simplifying the process of taking out ads. The ad agency, meanwhile, could leverage its relationships with all of those newspapers by serving multiple clients:&lt;&#x2F;p&gt;
&lt;p&gt;  &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;ad-agencies-and-accountability&#x2F;&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;  It’s a classic example of how being in the middle can be a really great business opportunity, and the utility of ad agencies only increased as more advertising formats like radio and TV became available. Particularly in the case of TV, advertisers not only needed to place ads, but also needed a lot more help in making ads; ad agencies invested in ad-making expertise because they could scale said expertise across multiple clients.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;Over the past few weeks (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;disney-follow-up-the-re-bundlers-medium-claps&#x2F;&quot;&gt;here&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;uber-ceo-follow-up-buzzfeed-adds-banner-ads-google-offers-cheaper-networking&#x2F;&quot;&gt;here&lt;&#x2F;a&gt;) I have been revisiting Clayton Christensen’s Law of Conservation of Attractive Profits, a theory I first explored in &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;netflix-and-the-conservation-of-attractive-profits&#x2F;&quot;&gt;this 2015 article about Netflix&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  Breaking up a formerly integrated system — commoditizing and modularizing it — destroys incumbent value while simultaneously allowing a new entrant to integrate a different part of the value chain and thus capture new value.&lt;&#x2F;p&gt;
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;netflix-and-the-conservation-of-attractive-profits&#x2F;&quot;&gt;&lt;&#x2F;a&gt;Commoditizing an incumbent’s integration allows a new entrant to create new integrations — and profit — elsewhere in the value chain.&lt;&#x2F;blockquote&gt;
&lt;p&gt;This starts to get at what is happening to WPP: the very idea of an ad agency arose from the opportunity to integrate the creation and placement of ads across disparate outlets, creating a one-stop shop for advertisers.&lt;&#x2F;p&gt;
&lt;p&gt;Those outlets, though, were only ever a proxy; advertisers don’t run ads for the sake of running ads, but rather to reach consumers. And on the Internet, where distribution is free and content abundant, more and more consumers found themselves relying on two services that focused on discovery and personalization: Google and Facebook. From that piece on ad agencies:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  There are really only two options for the sort of digital advertising that reaches every person an advertiser might want to reach:&lt;&#x2F;p&gt;
&lt;p&gt;  &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;ad-agencies-and-accountability&#x2F;&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;  That’s a problem for the ad agencies: when there are only two places an advertiser might want to buy ads, the fees paid to agencies to abstract complexity becomes a lot harder to justify.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;In fact, the issue is not even really about the money, but theory. Google and Facebook are the new integration points in the advertising value chain; it follows, then, that the rest of the value chain will modularize itself and re-organize around the integrated players. Or, as Sorrell put it, “horizontality.”&lt;&#x2F;p&gt;
&lt;p&gt;The problem for Sorrell is two fold: first, fundamentally re-orienting a business away from a vertical integrative approach to a horizontal modular approach is extremely difficult, both in terms of company culture and the effect on the bottom line. In truth I expect WPP to continue to lose business to digital agencies structured from day one with the assumption that Google and Facebook are the integrators in the advertising value chain.&lt;&#x2F;p&gt;
&lt;p&gt;The second point, though, is worse: what is happening to WPP is happening to the rest of WPP’s ecosystem — media on one side, and advertisers on the other.&lt;&#x2F;p&gt;
&lt;h4&gt;The Reorganization of Everything&lt;&#x2F;h4&gt;
&lt;p&gt;There used to be a limited number of media outlets — newspapers, radio, and television, primarily — all of which had substantial barriers to entry. That meant these outlets had a monopoly on reaching customers, leaving advertisers no choice but to pay up.&lt;&#x2F;p&gt;
&lt;p&gt;Now, though, there is an effectively unlimited amount of media: countless web pages, streaming music and podcasts, and services like Netflix and YouTube that, unbounded from the constraints of linearity, offer far more content than was ever accessible before. That, as noted above, meant that discovery mattered most, which meant Google and Facebook.&lt;&#x2F;p&gt;
&lt;p&gt;The parallel should be obvious: the clearest manifestation of how &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;popping-the-publishing-bubble&#x2F;&quot;&gt;the media value chain has been fundamentally reconfigured&lt;&#x2F;a&gt; is the fact that advertising has fled newspapers in particular; in other words, the media story is an advertising story, which is to say that given the upheaval in the media industry, the most surprising part of WPP’s struggles is that it took this long to manifest (thanks, primarily, to television’s resilience).&lt;&#x2F;p&gt;
&lt;p&gt;The exact same value chain reorganization is happening to WPP’s clients: major advertisers like consumer packaged goods companies which built their businesses on integrating the creation and distribution of consumer staples. From &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2016&#x2F;dollar-shave-club-and-the-disruption-of-everything&#x2F;&quot;&gt;Dollar Shave Club and the Disruption of Everything&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;
  P&amp;amp;G leveraged these resources in a simple formula that led to repeated success:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;Spend significant resources on developing new products (more blades!) that can command a price premium&lt;&#x2F;li&gt;
&lt;li&gt;Spend even more resources on advertising the new product (mostly on TV) to create consumer awareness and demand&lt;&#x2F;li&gt;
&lt;li&gt;Spend yet more resources to ensure the new product is front-and-center in retail locations everywhere&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;  In a world of scarcity this approach paid off time and again: P&amp;amp;G grew not only because its markets grew, but also because it continually justified price increases due to its innovations.
&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;The most obvious change has been the rise of Amazon: instead of limited shelf space, the selection is orders of magnitude greater than any bricks-and-mortar store, and integrated with a scaled fulfillment operation. That new integration means that suppliers and merchants have no choice but to modularize and build their businesses around Amazon.&lt;&#x2F;p&gt;
&lt;p&gt;Of course that isn’t the only option: new, smaller companies, like the aforementioned Dollar Shaving Club, can leverage the big platform providers — YouTube, Facebook, AWS, etc. — to compete with massive companies like P&amp;amp;G on far more equal terms than before.&lt;&#x2F;p&gt;
&lt;h4&gt;A New Reality&lt;&#x2F;h4&gt;
&lt;p&gt;For long time Stratechery readers this analysis isn’t that novel; the shift in value chains that result from the Internet enabling zero distribution and zero transactional costs are the foundation of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2015&#x2F;aggregation-theory&#x2F;&quot;&gt;Aggregation Theory&lt;&#x2F;a&gt;. It certainly is gratifying, in a way, to see the theory play out in what has long been the part of the value chain most resistant to upheaval (TV advertising and TV advertisers).&lt;&#x2F;p&gt;
&lt;p&gt;There is another context, though: the increasing appreciation outside of technology of just how dominant companies like Google, Facebook, Amazon, and even Netflix have become, and more and more discussion about whether antitrust is the answer. The problem is that much of this discussion is rooted in the old value chain, where power came from controlling distribution.&lt;&#x2F;p&gt;
&lt;p&gt;What is critical to understand is that that world is fading away; the fundamental nature of the Internet is abundance, and the critical competency is discovery. Moreover, the platform that harnesses discovery also harnesses a virtuous cycle between users and suppliers that leads to a winner-take-all situation inherent in two-sided networks. In other words, to the extent these platforms are monopolies, said monopoly is much more akin to AT&amp;amp;T than it is to Standard Oil.&lt;&#x2F;p&gt;
&lt;p&gt;This matters for three reasons:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;First, the fact that newspapers, for example, or perhaps one day WPP, are being driven out of business is not a reason for antitrust action; their problem is &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;the-local-news-business-model&#x2F;&quot;&gt;their business model&lt;&#x2F;a&gt; is obsolete. The world has changed, and invoking regulation to try to change that reality is a terrible idea.&lt;&#x2F;li&gt;
&lt;li&gt;Second, the consumer-friendly approach of these platform companies is no accident: when market power comes from owning demand, then the way to gain power is to create a great experience for consumers. The casual way in which many antitrust crusaders ignore the fact that, for example, Amazon is genuinely beloved by consumers — and for good reason! — is frustrating intellectually and eye-rolling politically.&lt;&#x2F;li&gt;
&lt;li&gt;Third, the presence of these platforms creates incredible new opportunities for businesses that were never before possible. I already described how Dollar Shaving Club was enabled by platform companies; Amazon has also enabled a multitude of merchants, Facebook an entire ecosystem of apps and personalized startups, and Google every possible service under the sun. &lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;In a 30-second commercial, of the sort that WPP might have made, drawing clear villains and easy narratives is valuable; the reality of aggregators is far more complicated. That Google, Facebook, Amazon, and other platforms are as powerful as they are is not due to their having acted illegally but rather to the fundamental nature of the Internet and the way it has reorganized value chains in industry after industry.&lt;&#x2F;p&gt;
&lt;p&gt;Moreover, these platforms have far more positive outcomes than distribution-based monopolies ever did: the consumer experience is better, and there are huge new opportunities to build new businesses (especially serving niches completely ignored in a distribution-based world) on top of them. That is a good thing, worth preserving.&lt;&#x2F;p&gt;
&lt;p&gt;To that end any antitrust regulation, if it comes, needs a fresh approach rooted in the reality of the Internet. I agree that too much concentrated power has inherent problems; I also believe a structural incentive to provide a great customer experience, along with the potential to create completely new kinds of businesses, is worth preserving. Antitrust crusaders, to whom &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;stratechery.com&#x2F;2017&#x2F;facebook-and-the-cost-of-monopoly&#x2F;&quot;&gt;I am clearly sympathetic&lt;&#x2F;a&gt;, ignore these realities at their political peril.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://stratechery.com/2017/everything-is-changing-so-should-antitrust/"/>
    <published>2017-09-06T14:23:46.000Z</published>
  </entry>
  <entry>
    <title>Sense of Urgency | Ron Jeffries</title>
    <content type="html">Mike (GeePaw) Hill storified about sense of urgency and an acronym RAMPS. I like what he said and will muse upon it.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/ramps/"/>
    <published>2017-09-06T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>Documenting The Pittsburgh Potty: An Architectural Mystery In Our Basements | Brad Frost</title>
    <content type="html">&lt;p&gt;I have a toilet in my basement. Not a bathroom, just a toilet sitting in my corner.&lt;&#x2F;p&gt;
&lt;p&gt;Lots of other Pittsburghers have Pittsburgh potties as well. In the steel industry’s heyday, workers would come home filthy from the mills, wash (worsh) up in the basement, then come upstairs for supper.&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;People say that mill workers came home, they were super dirty, they didn’t want to dirty the house, so they went in through the basement, showered in the basement and did their bathing in the basement and then came upstairs where the house was clean&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;This article proffers another explanation, that basements were servants’ quarters. While that’s no doubt true for some of the more gigantic houses in Pittsburgh, it can’t be true for all of them. My grandpa, who’s in his late 80s, still showers in the cinderblock shower stall in the small house where my dad was born and raised.&lt;&#x2F;p&gt;
&lt;p&gt; &lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/link/documenting-the-pittsburgh-potty-an-architectural-mystery-in-our-basements/"/>
    <published>2017-09-06T02:58:58.000Z</published>
  </entry>
  <entry>
    <title>Finding out if&#x2F;why a server is dropping packets | Julia Evans</title>
    <content type="html">&lt;p&gt;When packets are being dropped on a computer, they’re being dropped for
a &lt;em&gt;reason&lt;&#x2F;em&gt;. How do you find out whether&#x2F;why packets are being dropped?&lt;&#x2F;p&gt;

&lt;p&gt;Here’s the situations we want to understand:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;a packet enters the network stack of your computer (&lt;code&gt;RX&lt;&#x2F;code&gt;) (say on
port 8000). It gets dropped before the application listening on port
8000 receives it.&lt;&#x2F;li&gt;
&lt;li&gt;you send a packet (&lt;code&gt;TX&lt;&#x2F;code&gt;). Before it makes it out of your computer, it
gets dropped.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;I’m not interested here in “packets are being dropped somewhere else on the
internet, let’s diagnose it with traceroute &#x2F; by counting TCP retransmits”
(though that’s important too!)&lt;&#x2F;p&gt;

&lt;h3&gt;how do you even know if packets are being dropped?&lt;&#x2F;h3&gt;

&lt;p&gt;I asked on Twitter and got the very useful answer “look at &lt;code&gt;netstat -i&lt;&#x2F;code&gt;!”
Here’s what that looks like on my laptop:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;bork@kiwi~&amp;gt; sudo netstat -i
Kernel Interface table
Iface       MTU Met   RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
docker0    1500 0         0      0      0 0             0      0      0      0 BMU
enp0s25    1500 0   1235101      0    242 0        745760      0      0      0 BMRU
lo        65536 0     21558      0      0 0         21558      0      0      0 LRU
nlmon0     3776 0    551262      0      0 0             0      0      0      0 ORU
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;It looks like there are some received (&lt;code&gt;RX&lt;&#x2F;code&gt;) packets being lost on &lt;code&gt;enp0s25&lt;&#x2F;code&gt;
(my wireless card). No &lt;code&gt;TX&lt;&#x2F;code&gt; packets lost though!&lt;&#x2F;p&gt;

&lt;p&gt;Someone also told me that running &lt;code&gt;ethtool -S&lt;&#x2F;code&gt; is useful but my ethtool doesn’t have a &lt;code&gt;-S&lt;&#x2F;code&gt; option.&lt;&#x2F;p&gt;

&lt;h3&gt;how do you know &lt;strong&gt;why&lt;&#x2F;strong&gt; packets are being dropped&lt;&#x2F;h3&gt;

&lt;p&gt;I was googling and I found this cool tool called &lt;code&gt;dropwatch&lt;&#x2F;code&gt;. There isn’t any Ubuntu package for it but it’s on github: &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;pavel-odintsov&#x2F;drop_watch&quot;&gt;https:&#x2F;&#x2F;github.com&#x2F;pavel-odintsov&#x2F;drop_watch&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Here are the instructions that worked for me to compile it:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install -y libnl-3-dev libnl-genl-3-dev binutils-dev libreadline6-dev
git clone https:&#x2F;&#x2F;github.com&#x2F;pavel-odintsov&#x2F;drop_watch
cd drop_watch&#x2F;src
vim Makefile # comment out the -Werror argument to gcc
make
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;And here’s the output! It tells me at which kernel function I’m losing packets. Cool!&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;sudo .&#x2F;dropwatch -l kas
Initalizing kallsyms db
dropwatch&amp;gt; start
Enabling monitoring...
Kernel monitoring activated.
Issue Ctrl-C to stop monitoring

1 drops at tcp_v4_do_rcv+cd (0xffffffff81799bad)
10 drops at tcp_v4_rcv+80 (0xffffffff8179a620)
1 drops at sk_stream_kill_queues+57 (0xffffffff81729ca7)
4 drops at unix_release_sock+20e (0xffffffff817dc94e)
1 drops at igmp_rcv+e1 (0xffffffff817b4c41)
1 drops at igmp_rcv+e1 (0xffffffff817b4c41)
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;h3&gt;monitoring dropped packets with perf&lt;&#x2F;h3&gt;

&lt;p&gt;Here’s another cool way to debug what’s happening!&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;tgraf__&quot;&gt;thomas graf&lt;&#x2F;a&gt; told me that you can monitor the
&lt;code&gt;kfree_skb&lt;&#x2F;code&gt; event using perf, and that will tell you when packets are being
dropped (where in the kernel stack it happened):&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;sudo perf record -g -a -e skb:kfree_skb
sudo perf script
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;h3&gt;advanced reading&lt;&#x2F;h3&gt;

&lt;p&gt;There’s also these two cool articles:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.packagecloud.io&#x2F;eng&#x2F;2016&#x2F;06&#x2F;22&#x2F;monitoring-tuning-linux-networking-stack-receiving-data&#x2F;&quot;&gt;Monitoring and Tuning the Linux Networking Stack: Receiving Data&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.packagecloud.io&#x2F;eng&#x2F;2017&#x2F;02&#x2F;06&#x2F;monitoring-tuning-linux-networking-stack-sending-data&#x2F;&quot;&gt;Monitoring and Tuning the Linux Networking Stack: Sending Data&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;I still haven’t read them in full but they are extremely detailed and cool.&lt;&#x2F;p&gt;

&lt;h3&gt;tell me if you know more!&lt;&#x2F;h3&gt;

&lt;p&gt;I still haven’t ever used these tools to seriously debug a packet loss problem
yet, just wanted to write this down so that I have the notes if I do want to in
the future!&lt;&#x2F;p&gt;

&lt;p&gt;If you have better tips for debugging whether&#x2F;why packets are being dropped on
a computer, let me know!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/05/finding-out-where-packets-are-being-dropped/"/>
    <published>2017-09-05T23:39:28.000Z</published>
  </entry>
  <entry>
    <title>Building a design system for HealthCare.gov | Brad Frost</title>
    <content type="html">&lt;p&gt;This is a great post that lays out the nuts and bolts of the design system used to build Healthcare.gov. It details a lot of architecture and tooling, and I’m super happy to hear they took inspiration from my post about &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;css-architecture-for-design-systems&#x2F;&quot;&gt;css architecture for design systems&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/link/building-a-design-system-for-healthcare-gov/"/>
    <published>2017-09-05T12:53:49.000Z</published>
  </entry>
  <entry>
    <title>Over-abstraction | -dealloc</title>
    <content type="html">&lt;p&gt;Back in July I got myself into a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;UINT_MIN&#x2F;status&#x2F;887348345831698432&quot;&gt;discussion on Twitter&lt;&#x2F;a&gt; about whether some of the more algebraic concepts in functional programming were net-useful, after reading &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&quot;&gt;Brandon Williams&lt;&#x2F;a&gt;’ (great) articles on how they can be applied in Swift. &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;hkr.me&quot;&gt;Brandon Kase&lt;&#x2F;a&gt; suggested I watch his talk “Beyond Types in Swift” from this year’s &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;2017.funswiftconf.com&quot;&gt;Functional Swift&lt;&#x2F;a&gt; conference.&lt;&#x2F;p&gt;

&lt;p&gt;I admit I’m still unconvinced. I also admit that I might still just not get it. But I had two interesting thoughts that I wanted to write out in longform. I thought about cramming them both into one article, but figured it’d be better for discussion purposes to just do one at a time. So this is an exploration of the first idea, “Over-abstraction”. The next one will come in about a week or so.&lt;&#x2F;p&gt;

&lt;p&gt;(I’ve already loaded the discussion just from the title, but hey, it’s my blog.)&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;I think this is my primary problem with using algebraic abstractions for programming. It’s &lt;em&gt;true&lt;&#x2F;em&gt; to say that functions and Optionals are both &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;hackage.haskell.org&#x2F;package&#x2F;base-4.10.0.0&#x2F;docs&#x2F;Data-Monoid.html&quot;&gt;Monoids&lt;&#x2F;a&gt;, but is it useful? The criterion for this in the Swift standard library is usually “can you define any meaningful reusable generic operations on this protocol?”.&lt;&#x2F;p&gt;

&lt;p&gt;I’m not going to directly talk about whether Monoid itself has useful generic operations; it’s just an example. But it leads to people writing code like this:&lt;&#x2F;p&gt;

&lt;div&gt;&lt;pre&gt;&lt;code&gt;let fullArticle: View&amp;lt;Article, [Node]&amp;gt; &#x3D;
  articleHeader
    &amp;lt;&amp;gt; articleBody
    &amp;lt;&amp;gt; articleFooter
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;

&lt;p&gt;(from Williams’ “&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;swift&#x2F;html&#x2F;dsl&#x2F;2017&#x2F;06&#x2F;29&#x2F;composable-html-views-in-swift.html&quot;&gt;Composable HTML Views in Swift&lt;&#x2F;a&gt;”)&lt;&#x2F;p&gt;

&lt;p&gt;The trouble is I (hyperbolically) have no idea what that means. Because &lt;code&gt;&amp;lt;&amp;gt;&lt;&#x2F;code&gt; (or &lt;code&gt;mappend&lt;&#x2F;code&gt; in Haskell) is a high-level operation, I know that it has certain properties I can rely on, like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;simple.wikipedia.org&#x2F;wiki&#x2F;Associativity&quot;&gt;associativity&lt;&#x2F;a&gt;. But I don’t know what that means for a &lt;code&gt;View&lt;&#x2F;code&gt;. I can &lt;em&gt;guess,&lt;&#x2F;em&gt; but the generic name is in the domain of the abstraction rather than the concrete type.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;Let’s take an example from human language. Imagine a friend has a problem with their bird feeder: the seeds keep getting eaten before the birds can get there. “What’s been eating them?”, you ask. Now, it would be &lt;em&gt;valid&lt;&#x2F;em&gt; for your friend to say “mammals keep eating the seeds”, but you’d probably give them a funny look. “Cats and squirrels” would go over much better. If the abstraction level is too far removed from the domain, things get &lt;em&gt;harder&lt;&#x2F;em&gt; to understand.&lt;&#x2F;p&gt;

&lt;p&gt;(This also works in reverse. “Siamese cats, Maine coons, and Western gray squirrels” would be considered an over-specific answer. &lt;em&gt;Some&lt;&#x2F;em&gt; abstraction is usually a good thing.)&lt;&#x2F;p&gt;

&lt;p&gt;To stretch the example even further, let’s say you wanted to ask if the cats and squirrels could reach the bird feeder directly from the ground with their legs, or if they had to climb something to get to the delicious birdseed. But not all mammals have legs, so instead you have to ask whether their &lt;em&gt;appendages&lt;&#x2F;em&gt; are long enough. You’ve used the correct general term, but now it’s harder to understand.&lt;&#x2F;p&gt;

&lt;p&gt;I’ve tortured my poor metaphor enough, but hopefully you see what I’m getting at.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;Note that we already have some of this problem with just the Swift standard library. A &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;set&quot;&gt;Set&lt;&#x2F;a&gt; is a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;sequence&quot;&gt;Sequence&lt;&#x2F;a&gt;, which means you can call &lt;code&gt;dropFirst&lt;&#x2F;code&gt; on it. What’s the first element of an unordered set? What’s the “rest”? And yet you &lt;em&gt;can&lt;&#x2F;em&gt; use this to build useful reusable operations on Sequence, and then it’s useful to be able to apply those operations to a Set.&lt;&#x2F;p&gt;

&lt;p&gt;So, my thesis: Abstractions are good because they let you reuse both your intuitions and your code across different types…but they can also hurt comprehension when working with a type concretely. That leads to having to choose between sacrificing the domain-specific name in favor of the generic name, and having two names for the same operation.&lt;&#x2F;p&gt;

&lt;p&gt;(Also, it doesn’t help that the names chosen by mathematicians don’t feel very approachable.)&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;I &lt;em&gt;do&lt;&#x2F;em&gt; want to highlight some of the important criteria for inclusion of a new protocol in the Swift standard library:&lt;&#x2F;p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Are there generic operations that work with this protocol? That is, will there be protocol extension methods, or somewhere that uses this protocol as a generic constraint?&lt;&#x2F;p&gt;
  &lt;&#x2F;li&gt;
  &lt;li&gt;
    &lt;p&gt;Is there more than one concrete type that would conform to this protocol?&lt;&#x2F;p&gt;
  &lt;&#x2F;li&gt;
  &lt;li&gt;
    &lt;p&gt;If this protocol is part of a hierarchy, are there types that conform to the parent protocol and not this one? If not, it’s probably not worth making a separate protocol for it.&lt;&#x2F;p&gt;
  &lt;&#x2F;li&gt;
  &lt;li&gt;
    &lt;p&gt;Does the operation have any semantic requirements? (This is what keeps String’s &lt;code&gt;+&lt;&#x2F;code&gt; and Int’s &lt;code&gt;+&lt;&#x2F;code&gt; from being in a protocol.)&lt;&#x2F;p&gt;
  &lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;These criteria gave us the distinctions between &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;sequence&quot;&gt;Sequence&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;collection&quot;&gt;Collection&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;bidirectionalcollection&quot;&gt;BidirectionalCollection&lt;&#x2F;a&gt;, and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;randomaccesscollection&quot;&gt;RandomAccessCollection&lt;&#x2F;a&gt;, but not between &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.apple.com&#x2F;documentation&#x2F;swift&#x2F;numeric&quot;&gt;Numeric&lt;&#x2F;a&gt; and a hypothetical “&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Semiring#Definition&quot;&gt;Additive&lt;&#x2F;a&gt;” that doesn’t support subtraction. There just aren’t enough concrete types that only support addition &lt;em&gt;and&lt;&#x2F;em&gt; still make sense to write generic algorithms over for this to be in the standard library.&lt;&#x2F;p&gt;

&lt;p&gt;How the algebraic abstractions we’ve been talking about match up against these criteria is a matter of debate. And of course, just because something’s not in the standard library doesn’t mean it can’t be useful. But I think the loss of domain-specific terminology is a high price to pay in the common case; the benefit you get should be commensurate.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;P.S. One idea that came out of the original Twitter discussion was a distinction between abstractions as &lt;em&gt;protocols&lt;&#x2F;em&gt; (“type classes” in Haskell) and abstractions as &lt;em&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;dimsumthinking&#x2F;status&#x2F;887498387293167618&quot;&gt;design patterns&lt;&#x2F;a&gt;.&lt;&#x2F;em&gt; It’s &lt;em&gt;useful&lt;&#x2F;em&gt; to know when an operation is associative, because that lets you perform folds (&lt;code&gt;reduce&lt;&#x2F;code&gt;) in parallel; this is a key part of the “&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fewbutripe.com&#x2F;swift&#x2F;math&#x2F;algebra&#x2F;2015&#x2F;02&#x2F;17&#x2F;algebraic-structure-and-protocols.html#semigroup&quot;&gt;semigroup&lt;&#x2F;a&gt;” abstraction. And even when you can’t build meaningful generic operations on top of a particular abstraction, it may still be useful to other developers reading your code or using your types to get that shared intuition of how something behaves.&lt;&#x2F;p&gt;

&lt;p&gt;However, the difference between a design pattern and a language feature is that the compiler usually won’t check that you’re using a design pattern correctly, which means using actual protocols does have value. I’ll return to this idea in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;belkadan.com&#x2F;blog&#x2F;2017&#x2F;09&#x2F;The-New-Kingdom-of-Nouns&#x2F;&quot;&gt;the next (much longer) post&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;P.P.S. After I posted this, Brandon Williams made a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;mbrandonw&#x2F;status&#x2F;905458906121547778&quot;&gt;bit of a response&lt;&#x2F;a&gt; in tweetstorm format, and Elviro Rocca made a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;broomburgo.github.io&#x2F;fun-ios&#x2F;post&#x2F;on-abstraction&#x2F;&quot;&gt;blog post&lt;&#x2F;a&gt; a few days after. You can also read &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;UINT_MIN&#x2F;status&#x2F;905452666771226624&quot;&gt;other Twitter people’s responses&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://belkadan.com/blog/2017/09/Over-abstraction/"/>
    <published>2017-09-05T07:00:00.000Z</published>
  </entry>
  <entry>
    <title>Monitoring and Observability | Cindy Sridharan</title>
    <content type="html">&lt;p&gt;During lunch with a few friends in late July, the topic of observability came up. I have a talk coming up at &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;conferences.oreilly.com&#x2F;velocity&#x2F;vl-ny&quot;&gt;Velocity&lt;&#x2F;a&gt; in less than a month called &lt;strong&gt;&lt;em&gt;Monitoring in the time of Cloud Native&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;, so I’ve been speaking with friends about how they approach monitoring where they work. During this conversation, one of my friends mentioned:&lt;&#x2F;p&gt;&lt;blockquote&gt;&lt;p&gt;OH - &amp;quot;Observability - because devs don&#39;t like to do &amp;quot;monitoring&amp;quot; we need to package it in new nomenclature to make it palatable and trendy.&lt;&#x2F;p&gt;&lt;p&gt; — &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;copyconstruct&#x2F;status&#x2F;891066003844546560&quot;&gt;@copyconstruct&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;&lt;p&gt;He was only half joking. I’ve heard several variations of this zinger, some of them being:&lt;&#x2F;p&gt;&lt;blockquote&gt;— Why call it monitoring? That’s not sexy enough anymore.&lt;&#x2F;blockquote&gt;&lt;blockquote&gt;— Observability, because rebranding Ops as DevOps wasn’t bad enough, now they’re devopsifying monitoring too&lt;&#x2F;blockquote&gt;&lt;blockquote&gt;— I’m an engineer that can help provide monitoring to the other engineers in the organization&lt;br &#x2F;&gt;&amp;gt; Great, here’s $80k.&lt;br &#x2F;&gt;I’m an architect that can help provide observability for cloud-native, container-based applications&lt;br &#x2F;&gt;&amp;gt; Awesome! Here’s $300k!&lt;&#x2F;blockquote&gt;&lt;blockquote&gt;— Is that supposed to be like the second coming of DevOps? Or was it the Second Way? I can’t remember. It all felt so cultish anyway.&lt;&#x2F;blockquote&gt;&lt;p&gt;So then. What is the difference between “monitoring” and “observability”, if any? Or is the latter just the latest buzzword on the block, to be flogged and shoved down our throats until it has been milked for all its worth?&lt;&#x2F;p&gt;&lt;h4&gt;Once upon a time there was “Monitoring”&lt;&#x2F;h4&gt;&lt;p&gt;“Monitoring” traditionally was an Ops preserve. The term often invokes not very pleasant memories in minds of many who’ve been doing it for long enough they can remember the time when Nagios was state-of-the-art. In the eyes of many, “monitoring” harks back to many dysfunctional aspects of the old school way of operating software, not least the unsophistication of tooling available back in the day that ruled the roost so consummately that the term “monitoring” to this day causes some people to think of simple up&#x2F;down checks.&lt;&#x2F;p&gt;&lt;p&gt;While it’s true that a decade ago, up&#x2F;down checks might’ve been all a “monitoring” tool would have been capable of, in the recent years “monitoring” tools have evolved &lt;em&gt;greatly&lt;&#x2F;em&gt;, to the point where many, many, many people no longer think of “monitoring” as just external pings. While they might still call it “monitoring”, the methods and tools they use are more powerful and streamlined. Time series, logs and traces are all more in vogue than ever these days and are forms of “&lt;em&gt;whitebox &lt;&#x2F;em&gt;monitoring”, which refers to a category of “monitoring” based on the information derived from the internals of systems.&lt;&#x2F;p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;rakyll&quot; target&#x3D;&quot;_blank&quot;&gt;@rakyll&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;copyconstruct&quot; target&#x3D;&quot;_blank&quot;&gt;@copyconstruct&lt;&#x2F;a&gt; Though I personally also use the term &amp;quot;monitoring&amp;quot; to be more broad, including time series collection, alerting, possibly even logs + traces&lt;&#x2F;p&gt;&lt;p&gt; — &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;juliusvolz&#x2F;status&#x2F;891348711795830784&quot;&gt;@juliusvolz&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;&lt;p&gt;Whitebox monitoring isn’t really a revolutionary idea anymore, at least not since Etsy published the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;codeascraft.com&#x2F;2011&#x2F;02&#x2F;15&#x2F;measure-anything-measure-everything&#x2F;&quot;&gt;seminal blog post&lt;&#x2F;a&gt; introducing statsd. The blog post goes on to state that:&lt;&#x2F;p&gt;&lt;blockquote&gt;In general, we tend to measure at three levels: network, machine, and application. Application metrics are usually the hardest, yet most important, of the three. They’re very specific to your business, and they change as your applications change (and Etsy changes a lot). Instead of trying to plan out everything we wanted to measure and putting it in a classical &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.opscode.com&#x2F;chef&#x2F;&quot;&gt;configuration management system&lt;&#x2F;a&gt;, we decided to make it ridiculously simple for any engineer to get anything they can count or time into a graph with almost no effort.&lt;&#x2F;blockquote&gt;&lt;p&gt;For all its flaws, statsd was a &lt;em&gt;game changer&lt;&#x2F;em&gt;, its popularity and ubiquity being a testament to how it struck the right chord with huge swathes of the industry, so much so that most open source time series based systems as well as vendors have supported statsd style metrics for years now. While not perfect, statsd style metrics collection was a huge improvement over the way one did “monitoring” previously.&lt;&#x2F;p&gt;&lt;h4&gt;Baby’s first Observability&lt;&#x2F;h4&gt;&lt;p&gt;“Observability”, on the other hand, was a term I first encountered while reading a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.twitter.com&#x2F;engineering&#x2F;en_us&#x2F;a&#x2F;2013&#x2F;observability-at-twitter.html&quot;&gt;post&lt;&#x2F;a&gt; on Twitter’s tech blog a few years ago and have been hearing the term ever since, not in real life or at the places where I’ve worked but at tech conferences. Twitter has since published a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.twitter.com&#x2F;engineering&#x2F;en_us&#x2F;a&#x2F;2016&#x2F;observability-at-twitter-technical-overview-part-i.html&quot;&gt;two&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.twitter.com&#x2F;engineering&#x2F;en_us&#x2F;a&#x2F;2016&#x2F;observability-at-twitter-technical-overview-part-ii.html&quot;&gt;part&lt;&#x2F;a&gt; blog post on its current Observability stack. The posts are more about the architecture of the different components than the term itself, but the first post begins by stating that:&lt;&#x2F;p&gt;&lt;blockquote&gt;These are the four pillars of the Observability Engineering team’s charter:&lt;&#x2F;blockquote&gt;&lt;blockquote&gt;- Monitoring&lt;br &#x2F;&gt;- Alerting&#x2F;visualization&lt;br &#x2F;&gt;- Distributed systems tracing infrastructure&lt;br &#x2F;&gt;- Log aggregation&#x2F;analytics&lt;&#x2F;blockquote&gt;&lt;p&gt;“Observability”, according to this definition, is a &lt;em&gt;superset&lt;&#x2F;em&gt; of “monitoring”, providing certain benefits and insights that “monitoring” tools come a cropper at. Before examining what these gains might be and when they are even needed, let’s first understand what “monitoring” really is, what its shortcomings are and why “monitoring” alone isn’t sufficient for certain&lt;em&gt; &lt;&#x2F;em&gt;use cases.&lt;&#x2F;p&gt;&lt;h4&gt;Monitoring is for symptom based Alerting&lt;&#x2F;h4&gt;&lt;p&gt;The &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;landing.google.com&#x2F;sre&#x2F;book&#x2F;index.html&quot;&gt;SRE book&lt;&#x2F;a&gt; states:&lt;&#x2F;p&gt;&lt;blockquote&gt;Your monitoring system should address two questions: what’s broken, and why? The “what’s broken” indicates the symptom; the “why” indicates a (possibly intermediate) cause.“What” versus “why” is one of the most important distinctions in writing good monitoring with maximum signal and minimum noise.&lt;&#x2F;blockquote&gt;&lt;p&gt;Blackbox monitoring — that is, monitoring a system from the outside by treating it as a blackbox — is something I find very good at answering the &lt;em&gt;what &lt;&#x2F;em&gt;and&lt;em&gt; &lt;&#x2F;em&gt;for alerting about a problem that’s already occurring (and ideally end user-impacting). Whitebox monitoring, on the other hand, is fantastic for the signals we can &lt;em&gt;anticipate &lt;&#x2F;em&gt;in advance and be on the lookout for. In other words, whitebox monitoring is for the &lt;strong&gt;&lt;em&gt;known, hard &lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;failure modes of a system, the sort that lend themselves well toward exhibiting any deviation in a &lt;em&gt;dashboardable&lt;&#x2F;em&gt; manner, as it were.&lt;&#x2F;p&gt;&lt;p&gt;A good example of something that needs “monitoring” would be a storage server running out of disk space or a proxy server running out of file descriptors. An I&#x2F;O bound service has different failure modes compared to a memory bound one. An HA system has different failure moves compared to a CP system.&lt;&#x2F;p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;mipsytipsy&quot; target&#x3D;&quot;_blank&quot;&gt;@mipsytipsy&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;lizthegrey&quot; target&#x3D;&quot;_blank&quot;&gt;@lizthegrey&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;honeycombio&quot; target&#x3D;&quot;_blank&quot;&gt;@honeycombio&lt;&#x2F;a&gt; So for example, I am oncall for a global key value store that has three alerts: error rate, query latency, and repl latency&lt;&#x2F;p&gt;&lt;p&gt; — &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;jaqx0r&#x2F;status&#x2F;898709693178105856&quot;&gt;@jaqx0r&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;&lt;p&gt;Building “monitorable” systems requires being able to understand the failure domain of the critical components of the system &lt;strong&gt;&lt;em&gt;proactively. &lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;And that’s a tall order. &lt;em&gt;Especially &lt;&#x2F;em&gt;for complex systems. More so for simple systems that interact &lt;em&gt;complexly&lt;&#x2F;em&gt; with one another.&lt;&#x2F;p&gt;One of my favorite kellabyte rants of all time&lt;p&gt;The more mature a system, the better understood are its failure modes. Battle hardened, &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;mcfunley.com&#x2F;choose-boring-technology&quot;&gt;“boring” technology&lt;&#x2F;a&gt; often comes with &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;medium.com&#x2F;@Pinterest_Engineering&#x2F;learn-to-stop-using-shiny-new-things-and-love-mysql-3e1613c2ce14&quot;&gt;well-publicized, well-understood and &lt;em&gt;monitorable &lt;&#x2F;em&gt;failure modes&lt;&#x2F;a&gt;. Being able to entirely architect away a failure mode is the best thing one can do while building systems. The next best thing one can do is to be able to “monitor” impending failures and alert accordingly.&lt;&#x2F;p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;sarahmei&quot; target&#x3D;&quot;_blank&quot;&gt;@sarahmei&lt;&#x2F;a&gt; &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;mipsytipsy&quot; target&#x3D;&quot;_blank&quot;&gt;@mipsytipsy&lt;&#x2F;a&gt; if goal is to build *monitorable* systems, then one can have predictable failure modes and be on the lookout for them. else all bets are off&lt;&#x2F;p&gt;&lt;p&gt; — &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;copyconstruct&#x2F;status&#x2F;902651610890813440&quot;&gt;@copyconstruct&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;&lt;p&gt;As strange as it might sound, I’m beginning to think one of the design goals while building systems should be to make it as &lt;em&gt;monitorable &lt;&#x2F;em&gt;as possible — which means minimizing the number of unknown-unknowns. For monitoring to be &lt;em&gt;effective, &lt;&#x2F;em&gt;it becomes salient to be able to identify a small set of hard failure modes of a system or a core set of metrics that has the potential to offset one’s assumptions underpinning some of the system design choices. Some believe that the ideal number of signals to be “monitored” is anywhere between 3–5, and definitely no more than 7-10. One of the common pain points that keeps cropping up in my conversations with friends is how &lt;em&gt;noisy &lt;&#x2F;em&gt;their “monitoring” is. Or as one of my friends put it,&lt;&#x2F;p&gt;&lt;blockquote&gt;We have a &lt;strong&gt;ton&lt;&#x2F;strong&gt;&lt;em&gt; &lt;&#x2F;em&gt;of metrics, all right. We try to collect &lt;strong&gt;&lt;em&gt;everything&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;em&gt; &lt;&#x2F;em&gt;but the vast majority of these metrics are never looked at. It leads to a case of severe metric fatigue to the point where some of our engineers now don’t see the point of adding new metrics to the mix, because why bother when only a handful are ever really used?&lt;&#x2F;blockquote&gt;&lt;p&gt;This is something the SRE book warns against:&lt;&#x2F;p&gt;&lt;blockquote&gt;The sources of potential complexity are never-ending. Like all software systems, monitoring can become so complex that it’s fragile, complicated to change, and a maintenance burden. Therefore, design your monitoring system with an eye toward simplicity. In choosing what to monitor, keep the following guidelines in mind:&lt;&#x2F;blockquote&gt;&lt;blockquote&gt;- The rules that catch real incidents most often should be as &lt;strong&gt;simple, predictable, and reliable&lt;&#x2F;strong&gt; as possible.&lt;br &#x2F;&gt;- Data collection, aggregation, and alerting configuration that is rarely exercised (e.g., less than once a quarter for some SRE teams) should be up for removal.&lt;br &#x2F;&gt;- Signals that are collected, but not exposed in any prebaked dashboard nor used by any alert, are candidates for removal.&lt;&#x2F;blockquote&gt;&lt;p&gt;The corollary of the aforementioned points is that &lt;em&gt;monitoring &lt;&#x2F;em&gt;data&lt;em&gt; &lt;&#x2F;em&gt;needs to &lt;em&gt;actionable. &lt;&#x2F;em&gt;What I’ve gathered talking to many people is that when not used to directly drive alerts, monitoring data should be optimized for providing a bird’s eye view of the &lt;em&gt;overall health&lt;&#x2F;em&gt; of a system. In the event of a failure, monitoring data should immediately be able to provide visibility into impact of the failure as well as the effect of any fix deployed. As one of my friends put it:&lt;&#x2F;p&gt;&lt;blockquote&gt;It should be obvious, but the most important requirement of a system is that it should be &lt;strong&gt;up&lt;&#x2F;strong&gt;&lt;em&gt;. &lt;&#x2F;em&gt;The second most important requirement of a system is that it should be &lt;strong&gt;healthy&lt;&#x2F;strong&gt;. Slow is defect and a bug, but it’s still preferable to being flat out &lt;strong&gt;down&lt;&#x2F;strong&gt;&lt;em&gt;. &lt;&#x2F;em&gt;When a system is &lt;strong&gt;down&lt;&#x2F;strong&gt;, there’s nothing I want more than for it to be back &lt;strong&gt;up&lt;&#x2F;strong&gt; again. What I really want my monitoring system to tell me when I’m down is how widespread the impact is, and how any fix deployed — and many a time it’s a stopgap fix — is helping us get back to being as healthy as we can hope, given the circumstances.&lt;&#x2F;blockquote&gt;&lt;p&gt;The crucial thing to understand here is that monitoring doesn’t guarantee that failure can be completely avoided. Monitoring provides a good &lt;em&gt;approximation &lt;&#x2F;em&gt;of the health of a system, but monitoring doesn’t &lt;em&gt;prevent&lt;&#x2F;em&gt; failure entirely.&lt;&#x2F;p&gt;&lt;p&gt;I feel especially poignant writing this because just the previous week we had several hours of degraded performance where I work. It wasn’t a void in our monitoring that caused it. It was MySQL exhibiting one of its nastiest failure modes. Boring old MySQL which was chosen a few years ago with eyes wide open for its boringness and its maturity and our prior experience with it. Boring old MySQL which was the right choice when it was introduced into the stack, which isn’t the right choice anymore given our evolving needs. Like monitoring, boring technology, in and of itself, isn’t a panacea.&lt;&#x2F;p&gt;&lt;p&gt;Monitoring can furnish one with a panoramic view of systems’ performance and behavior in the wild. Monitoring can also greatly assist in understanding the shortcomings and the evolving needs. Monitoring, as such, is an absolute &lt;em&gt;requirement&lt;&#x2F;em&gt; for building, operating and running systems. It, however, does not make our systems completely &lt;em&gt;impregnable&lt;&#x2F;em&gt; to failure, and that shouldn’t be its &lt;em&gt;goal &lt;&#x2F;em&gt;either.&lt;&#x2F;p&gt;&lt;h4&gt;And then there’s “Observability”&lt;&#x2F;h4&gt;&lt;p&gt;Quoting the SRE book again:&lt;&#x2F;p&gt;&lt;blockquote&gt;It can be tempting to combine monitoring with other aspects of inspecting complex systems, such as detailed system profiling, single-process debugging, tracking details about exceptions or crashes, load testing, log collection and analysis, or traffic inspection. While most of these subjects share commonalities with basic monitoring, blending together too many results in overly complex and fragile systems.&lt;&#x2F;blockquote&gt;&lt;p&gt;The SRE book doesn’t quite use the term “observability”, but clearly lays out everything that “monitoring” isn’t and shouldn’t aim to be. I find this to be an interesting paradox, that the “monitoring” of complex systems should itself be &lt;em&gt;simple&lt;&#x2F;em&gt;. And yet it makes perfect sense, since the alternative is empirically proving to be falling short.&lt;&#x2F;p&gt;&lt;p&gt;The goals of “monitoring” and “observability” are different. “Observability” isn’t a substitute for “monitoring” nor does it obviate the need for “monitoring”; they are complementary. “Observability” might be a fancy new term on the horizon, but it really isn’t a novel idea. Events, tracing, exception tracking are all a derivative of logs, and if one has been using any of these tools, one already has some form of “observability”. True, new tools and new vendors will have their own definition and understanding of the term, but in essence “observability” captures what “monitoring” doesn’t (and ideally, &lt;em&gt;shouldn’t&lt;&#x2F;em&gt;).&lt;&#x2F;p&gt;&lt;p&gt;“Monitoring” is best suited to report the overall health of systems. Aiming to “monitor everything” can prove to be an anti-pattern. Monitoring, as such, is best limited to key business and systems metrics derived from time-series based instrumentation, known failure modes as well as blackbox tests. “Observability”, on the other hand, aims to provide highly granular insights into the behavior of systems &lt;strong&gt;&lt;em&gt;along with rich context&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;, perfect for debugging purposes. Since it’s still not possible to predict every single failure mode a system could potentially run into or predict every possible way in which a system could &lt;em&gt;misbehave&lt;&#x2F;em&gt;, it becomes important that we build systems that can be &lt;strong&gt;&lt;em&gt;debugged&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt; armed with evidence and not conjecture.&lt;&#x2F;p&gt;&lt;h4&gt;&lt;strong&gt;Debugging&lt;&#x2F;strong&gt;&lt;&#x2F;h4&gt;&lt;p&gt;Two of my favorite recent talks were &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.slideshare.net&#x2F;bcantrill&#x2F;debugging-under-fire-keeping-your-head-when-systems-have-lost-their-mind&quot;&gt;&lt;strong&gt;&lt;em&gt;Debugging under fire: Keeping your head when systems have lost their mind&lt;&#x2F;em&gt;&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.slideshare.net&#x2F;bcantrill&#x2F;zebras-all-the-way-down-the-engineering-challenges-of-the-data-path&quot;&gt;&lt;strong&gt;Zebras all the way down: The engineering challenges of the data path&lt;&#x2F;strong&gt;&lt;&#x2F;a&gt;, both by Bryan Cantrill. Since I possibly can’t say it better, I’m going to borrow a couple of slides from those talks here (the entire deck is definitely worth checking out).&lt;&#x2F;p&gt;&lt;p&gt;Debugging is an &lt;em&gt;iterative&lt;&#x2F;em&gt; process, involving iterative introspection of the various observations and facts reported by the system, making the right deductions and testing whether the theory holds water. Evidence cannot be conjured out of thin air nor can it be extrapolated from aggregates, averages, percentiles, historic patterns or any other forms of data primarily collected for &lt;em&gt;monitoring &lt;&#x2F;em&gt;purposes. Evidence needs to be &lt;em&gt;reported&lt;&#x2F;em&gt; by the systems in the form of highly precise and contextual facts and observations, which can later be used while debugging to theorize as to why something might be not working as expected.&lt;&#x2F;p&gt;&lt;p&gt;Furthermore, unlike “monitoring” which is &lt;em&gt;known&lt;&#x2F;em&gt; &lt;em&gt;failure centric&lt;&#x2F;em&gt;, “observability” doesn’t necessarily have to be closely tied to an outage or a user complaint. It can be used as a way to better understand system performance and behavior, even during the what can be perceived as “normal” operation of a system.&lt;&#x2F;p&gt;&lt;h4&gt;Context Matters&lt;&#x2F;h4&gt;&lt;p&gt;Another theme that came up during my recent conversations is how simply buying or setting up a tool doesn’t lead to everyone in the organization actually using it. As one of the people I spoke with noted in dismay:&lt;&#x2F;p&gt;&lt;blockquote&gt;We have Zipkin! We went to great lengths to rope in developers to instrument everything and get Zipkin up and running, but the dev teams don’t use it very much. In retrospect, it wasn’t worth the effort.&lt;&#x2F;blockquote&gt;&lt;p&gt;Tools can only help so much. Before buying or building a tool, it becomes important to evaluate the maximum utility it can provide for the unique set of engineering challenges specific teams face. Yet another one of my friends who works on an extremely popular open source project modeled along the lines of an internal tool at a big company said to me:&lt;&#x2F;p&gt;&lt;blockquote&gt;When we open sourced [redacted] a few years ago, the questions in the mailing list were extremely intelligent and high quality. Now that [redacted] has gotten really popular, what we’re seeing is that the quality of questions is plummeting. We now have enterprises ask us if we can provide [redacted] as a SaaS service, since by their own admission their developers aren’t the hipster types who want to or will be able to run [redacted] themselves.&lt;&#x2F;blockquote&gt;&lt;p&gt;Context is key. A tool that worked swimmingly well at company X won’t necessarily work just as well at company Y. This is &lt;em&gt;especially &lt;&#x2F;em&gt;true when it comes to bringing big company tooling to the masses. The organization structure and culture, quality of developers and Operations engineers, tooling already in use, state of the codebase, appetite for risk all play a huge part into how successful a tool will prove to be if introduced.&lt;&#x2F;p&gt;&lt;h4&gt;One last thing&lt;&#x2F;h4&gt;&lt;p&gt;Observations can lead a developer to the answers, it can’t make them necessarily find it. The process of examining the evidence (observations) at hand and being able to deduce still requires a good understanding of the system, the domain as well as a good sense of intuition. No amount of “observability” or “monitoring” tooling can ever be a substitute to good engineering intuition and instincts.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://medium.com/@copyconstruct/monitoring-and-observability-8417d1952e1c?source=rss-87c8c84f24b1------2"/>
    <published>2017-09-05T04:52:44.000Z</published>
  </entry>
  <entry>
    <title>How I Finally Fixed My Parents Dodgy Wifi With AmpliFi | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;I have no idea who it was that first modified &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Maslow%27s_hierarchy_of_needs&quot;&gt;Maslow&#39;s hierarchy of needs&lt;&#x2F;a&gt; in this fashion, but I do know that&#39;s it&#39;s never been truer than now:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;More wifi things used by more people in more corners of the house. Many people do now consider connectivity to be a pretty essential need in their life yet as our wifi demands have increased, many people are still attempting to make do with the networking gear of yesteryear. I was one of those people, at least I was until late last year when I finally lost my mind and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;ubiquiti-all-the-things-how-i-finally-fixed-my-dodgy-wifi&#x2F;&quot;&gt;installed Ubiquiti&#39;s UniFi devices all through the house&lt;&#x2F;a&gt;. Ubiquiti is actually the world&#39;s largest producer of wireless access points and their UniFi range is a suite of products that all integrate together to provide this really neat centralised management experience.&lt;&#x2F;p&gt;
&lt;p&gt;I moved on and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;how-i-finally-fixed-the-dodgy-wifi-on-my-jet-ski-with-ubiquitis-unifi-mesh&#x2F;&quot;&gt;extended the network out to my jet ski with their Mesh products&lt;&#x2F;a&gt;, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;wiring-a-home-network-from-the-ground-up-with-ubiquiti&#x2F;&quot;&gt;did a ground-up build in my brother&#39;s house&lt;&#x2F;a&gt; (which I remain jealous of) and just last month, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;heres-what-this-ubiquiti-unifi-stuff-is-all-about&#x2F;&quot;&gt;released a free course on UniFi commissioned by Ubiquiti&lt;&#x2F;a&gt;. Clearly, I&#39;m a UniFi convert.&lt;&#x2F;p&gt;
&lt;p&gt;But UniFi isn&#39;t for everyone. It&#39;s a &amp;quot;prosumer&amp;quot; product which means it&#39;s great for everyone from technical people installing it in their homes through to professionals building out entire shopping centres or stadiums with the gear. But it&#39;s not great for non-techies; there&#39;s both design and setup involved and frankly, a heap of features they&#39;ll never need. That&#39;s where &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.amplifi.com&#x2F;&quot;&gt;AmpliFi&lt;&#x2F;a&gt; comes in, Ubiquiti&#39;s consumer line for the home. When I wrote the aforementioned course, Ubiquiti sent me out all the UniFi components which went into that build but they also chucked in an AmpliFi box:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Now frankly, I have no need for more wifi; I have enough access points running in my house at present to easily kit out a place 5 times the size. But my parents, well, their wifi wasn&#39;t so hot and that seemed like a good opportunity to play with tech bits :) Besides, I&#39;ve been asked by enough people what I thought of AmpliFi and if they should get that or UniFi so I thought I&#39;d write up the install process then comment on which way I think you should go under what circumstances.&lt;&#x2F;p&gt;
&lt;p&gt;Firstly, here&#39;s what&#39;s in the box:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;What you&#39;re looking at here is a base station in the middle accompanied by 2 wireless mesh points. This is the same basic premise as having multiple UniFi access points - you need more connectivity these days than what a single central unit provides so you augment it with remote APs. The base station has the circular interface you see above as well as a bunch of ethernet jacks on the rear:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;All three of the units have wifi access points and you place them around the house in order to provide connectivity where required. Like the UniFi gear, it all forms a &amp;quot;mesh&amp;quot; of wifi that devices seamlessly roam between as you move around the house. More so than the UniFi gear, this should be dead simple for pretty much anyone to setup so that&#39;s what I want to do - go through the entire process in an entirely non-techie fashion and see how accessible the gear really is to mere mortals.&lt;&#x2F;p&gt;
&lt;p&gt;First impression after taking bits out of the box is that everything feels very Apple-like in terms of packaging and quality. Whereas the UniFi gear is very utilitarian in its packaging (neat, functional but not showy), this is all plastic protective wrap on polished surfaces and a box opening ceremony that&#39;s clearly designed to show of the product.&lt;&#x2F;p&gt;
&lt;p&gt;Doing my best &amp;quot;I&#39;m just an average everyday consumer&amp;quot; impression, I start following the instructions (this is hard for me!) which means kicking off with &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;itunes.apple.com&#x2F;au&#x2F;app&#x2F;amplifi-wifi&#x2F;id1115225220?mt&#x3D;8&quot;&gt;the AmpliFi app on my iPhone&lt;&#x2F;a&gt;. While that&#39;s loading, I kill power to the old unit mum and dad have been running for probably the last decade and power up the AmpliFi base station:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Well, &lt;em&gt;eventually&lt;&#x2F;em&gt; I power it up because it took a while to figure out where to put it such that the very short USB Type-C power cable would reach. That&#39;s going to be one of the few things I&#39;ll fault in this writeup and it&#39;s a minor (albeit unnecessary) gripe. I uplink it to the old modem via the WAN port on the back (it has the little globe and blue surrounds on it) because as crappy as that old device is, it&#39;s still how internet gets into the house via the built-in ADSL modem. Keep that in mind folks - you still need inbound internet somewhere upstream of the AmpliFi kit. Power up the old modem again, open the app and we&#39;re ready to go:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Now about here I should mention 2 things:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;I don&#39;t think I&#39;ve ever setup a wireless access point without a PC before. It&#39;s just always &amp;quot;what you did&amp;quot;, but not this time.&lt;&#x2F;li&gt;
&lt;li&gt;You don&#39;t &lt;em&gt;have&lt;&#x2F;em&gt; to use a mobile device, you can actually configure everything on the base station itself via the touch screen. Yeah, I didn&#39;t know you could control it like this either until I began the setup.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;Moving on, you can either setup a whole new system, just a mesh point or connect to an existing one:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Obviously, this is a newie so I begin the setup which kicks off a step by step wizard which I&#39;d already done anyway by following the instructions in the box:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Each one of the steps above animates and shows you precisely what to plug in to where. Putting my everyday consumer hat back on, this is pretty cool and makes it &lt;em&gt;very&lt;&#x2F;em&gt; hard to screw something up. When it&#39;s all done, AmpliFi appears:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The app actually connects via Bluetooth which is a pretty neat way of initiating the setup. Select it and wait for the connection to be established:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Whilst connecting, the display on the physical unit gives feedback as to what&#39;s going on:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Once that&#39;s ready, the app progresses to the setup screen:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This is pretty self-explanatory but also a reminder of the consumer-centric nature of it. By default, AmpliFi is going to use the same password for connecting to the wifi as it is to administer the whole thing. This makes it easier for everyday folks, but it also means that if you give someone else the password for the wifi you&#39;re also giving them the password that allows everything to be reconfigured. Let&#39;s not do that:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I call the network &amp;quot;Josephine&amp;quot; after the street they live on and elect to define a different password for the admin which causes it to go away and think for a bit:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;And then we&#39;re done:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;It&#39;s only been on Bluetooth up until now so I still need to actually connect to the wifi network which I do next (and yeah, I chose the old network name originally):&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Flick back to the AmpliFi app and I get the first glimpse of the system overview. Apparently, everything is great:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Around this time, the device advises an update is available:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This is one of the things I love about UniFi, namely that even after I bought all the gear, it keeps getting better. I can&#39;t remember &lt;em&gt;ever&lt;&#x2F;em&gt; updating my old wireless access points for either security fixes or new features but have since grown used to Ubiquiti pushing out new bits to the UniFi range. Touch the screen above, wait for our lousy Aussie bandwidth to do its thing then it&#39;s job done.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Once the upgrade is complete, the base station defaults to the date and time which it&#39;s automatically worked out (I assume based on outbound IP address):&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Touching the screen causes the unit to cycle through to another display so I flick through each one to see what you get:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;They&#39;re all pretty self-explanatory so I won&#39;t dwell on them here. I connect dad&#39;s iPhone too then click on the &amp;quot;Clients&amp;quot; icon in the system page:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The first thing you see here is the ability to pause internet connectivity on all devices. One area where AmpliFi excels over UniFi is simple access to features like this. You can certainly do this with UniFi, but it&#39;s clear this is meant to be a &amp;quot;family friendly&amp;quot; approach. Same again with the ability to create profiles which can schedule allowable periods for devices. Mum and dad won&#39;t need this but were we all 30 years earlier on in life, it&#39;d be handy for keeping the kids&#39; internet access under control.&lt;&#x2F;p&gt;
&lt;p&gt;We&#39;re seeing dad&#39;s iPhone listed then mine under that. The pause button to the left of the clients immediately cuts off internet to that device which again, is far more easily accessible than in the UniFi world. Seeing the bandwidth next to the client is also really useful and I&#39;ll give you a great example of why: mum and dad get 4Mbs down. No, not a typo, welcome to semi-rural Australia! If they&#39;re sitting there trying to watch some Netflix (and yes, that does actually work with only 4Mbps) and it&#39;s buffering like crazy, they can pull out the app and see the PC pulling down an update then just cut that machine off without getting off the couch. That&#39;s actually pretty cool.&lt;&#x2F;p&gt;
&lt;p&gt;I drill down on my phone:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Another big pause button plus the ability to change the device&#39;s traffic priority (I later set the Apple TV to &amp;quot;streaming&amp;quot; which should give it a higher priority). While I&#39;m there, I click on my device name and give it a friendlier title then do the same with Dad&#39;s too, just like I would with UniFi:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ve never seen the AmpliFi UI so I have a browse around and check out the performance details:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;It&#39;s some basic throughput info but it&#39;s the ability to do an ISP test that I found more interesting. This is not dissimilar to just using &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;beta.speedtest.net&#x2F;&quot;&gt;Speedtest&lt;&#x2F;a&gt; but I like that it&#39;s built into the access point and keeps a history of the results in a central location. Depressing, aren&#39;t they? :(&lt;&#x2F;p&gt;
&lt;p&gt;Moving on, I thought I&#39;d check out the &amp;quot;Diagnose&amp;quot; page:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Pretty basic stuff as it stands, but I can see how it&#39;d be useful if things were playing up. But that red mark on the mesh points has gotta go so it&#39;s time to plug one of those in. We go down to the very far end of the house to the spare room and plug in a mesh unit:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The lights animate in a fashion that implies it&#39;s looking for a signal. A few minutes later, just the 2 bottom ones remain lit. I open up the app again and see the unit now connected:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;From a &amp;quot;how easy is this to use&amp;quot; perspective, this is an absolute no-brainer. The mesh point was automatically identified and joined to the network, I didn&#39;t need to do a thing. All the times on the top of the iPhone are legit too - I first opened the app at 11:47 and 39 minutes later I had the base station configured, devices connected and named plus the mesh unit joined to the whole thing. Plus, I screen capped stuff, took photos and started drafting this post :)&lt;&#x2F;p&gt;
&lt;p&gt;I drilled down on the mesh unit by clicking on it in the image above:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The signal strength is the main thing that stood out at me, that and the use of the 2.4G network rather than 5G. This is at the absolute other end of the house with many walls and rooms in between including a laundry with a hot water heater in it, a bathroom with tiled walls, a toilet, a kitchen and a dining area so signal strength was always going to cop it. I angled the antenna as best I could (it swivels on a magnetic base), but that was the best I could get.&lt;&#x2F;p&gt;
&lt;p&gt;Time for the other mesh unit and I put this one in the rumpus room which causes the lights to do the same dance. That takes a few minutes so I go off and connect a bunch of other devices to the new network. Shortly later, 3 lights remain illuminated on the second mesh unit:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Back in the app, I drill down into both the mesh units and name them in a more logical fashion then jump back to the system page to review it all:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Clearly the rumpus room has a better signal quality and I also note it&#39;s connected over 5G (faster speed but less range). That stands to reason as there&#39;s a lot less stuff between it and the base station. It&#39;s only a little bit closer physically, but there&#39;s a lot more open space. You can get a rough sense of the positioning from the overview below with the spare room towards the left of screen and the rumpus room towards the top with the base station at far right:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This is all looking pretty neat now, but it looks like there&#39;s more updating to be done:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The mesh units obviously run firmware too and between the time they&#39;ve shipped and we&#39;ve eventually installed them, updates have landed. As the updates begin, the mesh units drop off the system page:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Just like the UniFi range, access points can come and go and clients will simply hop to whatever is still available. Having spent a heap of time with UniFi now, the family ties are obvious, they just manifest themselves here at a higher level that&#39;s more consumer friendly.&lt;&#x2F;p&gt;
&lt;p&gt;While the mesh units are updating, I connect the Apple TV then set the client to be optimised for streaming:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;A few minutes later and the mesh units are back online:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I wanted to have a play with the guest network while I was there. There&#39;s no problem doing guest networks with the UniFi gear (at least not if you&#39;re a techie), but I could see it being a challenge for everyday folks. I jump in and take a look at the AmpliFi interface:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The guest network name defaults to the name of the primary one with a &amp;quot;-guest&amp;quot; suffix and allows up to 3 guests for a predefined period of time before the network will be turned off. From a UX perspective, this is good as it&#39;s immediately clear. I start the network:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Seems easy enough so I grab another machine and look for the network:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Um, &amp;quot;Open&amp;quot;? Turns out the guest network defaults to not being password protected. That&#39;s not going to do so it&#39;s back to the AmpliFi app and into the settings where the security can be changed to something more appropriate:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;d prefer to see WPA2 on by default. I get that this is about minimising friction and that the network may only be active for a little while, but I worry that you&#39;ll end up with people having an open network for a longer period of time and putting themselves at risk. In mum and dad&#39;s case, I create a password that won&#39;t be hard for guests to enter but will keep out those who aren&#39;t meant to be in there. Looking at it again yields a much more pleasing result:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I connect to the network and then out of curiosity, grab my iPhone and look at the client details:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This is again reminiscent of UniFi in terms of the breadth of data exposed. My Yoga 910 has connected to the rumpus room mesh unit over 5G and has a 67% signal strength and a fantastic connection speed (too bad about the internet speed once it makes any outbound requests...)&lt;&#x2F;p&gt;
&lt;p&gt;Jumping back to the diagnostics now, it looks like we&#39;re all done:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I connect all the remaining devices and review them in the app:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Just for kicks, I&#39;ve paused the connection on my Yoga 910. Every time I do that, the base station beeps and the lights flash whilst immediately killing the internet connection on the device. This could provide endless &amp;quot;entertainment&amp;quot; for folks wanting to mess with their kids :)&lt;&#x2F;p&gt;
&lt;p&gt;Finally, because the old hardware is now just there to provide internet, I killed the wifi on it (I&#39;ll set it merely to run in bridge mode next time I visit):&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;So that&#39;s all the fundamentals and looking back on it with my consumer hat on, it was definitely the easiest wifi setup I&#39;ve ever done. You can still drill down into the settings of that base station unit and tweak all the usual things like port forwarding and DHCP, but that&#39;s stuff your everyday folks are rarely going to touch. Have a read through &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;amplifi.com&#x2F;docs&#x2F;AmpliFi_UG.pdf&quot;&gt;the AmpliFi user guide&lt;&#x2F;a&gt; if you&#39;d like to better understand all the options there.&lt;&#x2F;p&gt;
&lt;p&gt;I installed all this yesterday, walked around a bit and made sure devices roamed and reached a good distance outside then left. Subsequently, I can&#39;t comment on the long-term performance or how it behaves with a heap of devices or any other attributes that are only observable over time, but given Ubiquiti&#39;s reputation for quality and how rock solid all the UniFi builds I&#39;ve done have been I think it&#39;s a pretty foregone conclusion. By coincidence, I bumped into one of my neighbours the day before doing this install and he&#39;d rolled out AmpliFi after I&#39;d shown him the box of bits Ubiquiti sent me. He was rapt - totally sorted out his dead spots, he had the kids under control and he now wanted to invest in the company (he works in the finance industry), so that&#39;s pretty positive feedback.&lt;&#x2F;p&gt;
&lt;p&gt;The only real gripe I have (other than the power cable length), is that I&#39;d like some more &amp;quot;secure by default&amp;quot; approaches. I understand why they&#39;re reusing the admin password by default and not protecting a guest network by default, but I&#39;d like to see them nudging people in the right direction. It&#39;d only take a short sentence underneath to do it: &amp;quot;Using the same password could allow anyone you share it with to reconfigure your network&amp;quot;. But of course, in terms of a prospective purchaser, the security is still configurable anyway.&lt;&#x2F;p&gt;
&lt;p&gt;So, AmpliFi or UniFi? Well firstly, if you&#39;ve got an existing network that covers everywhere you need and it performs fine, you may not want either. You&#39;d have to actually &lt;em&gt;need&lt;&#x2F;em&gt; some of those features that AmpliFi offers above and beyond your old gear to justify it. Ok, either need or &amp;quot;want&amp;quot; because it is pretty slick and features like scheduled hours for the kids, traffic prioritisation and good visibility of which clients are sucking down data (and the ability to pause them), are really pretty neat. But you need to remember that this is a cost &lt;em&gt;on top of&lt;&#x2F;em&gt; an existing modem so for many people that will mean having whatever basic device it is the ISP shipped them then going and spending money on AmpliFi too.&lt;&#x2F;p&gt;
&lt;p&gt;If you&#39;re an everyday non-techie consumer &lt;em&gt;or&lt;&#x2F;em&gt; are tech-minded but simply don&#39;t need features beyond what I&#39;ve described here, you&#39;ll be very happy with AmpliFi. My friend &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.hanselman.com&#x2F;blog&#x2F;ReviewTheAmpliFiHDHighDensityHomeWiFiMeshNetworkingSystem.aspx&quot;&gt;Scott Hanselman recently installed AmpliFi&lt;&#x2F;a&gt; and he&#39;s certainly a very techie bloke who is very happy with the decision. AmpliFi does actually do some things UniFi doesn&#39;t too; it&#39;s more accessible to perform a range of tasks plus the base station with the real time readouts is actually pretty cool and if I&#39;m honest, I wish I had something to that effect myself.&lt;&#x2F;p&gt;
&lt;p&gt;There are multiple cases where UniFi makes more sense and the first is in scenarios like &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;wiring-a-home-network-from-the-ground-up-with-ubiquiti&#x2F;&quot;&gt;the install I did in my brother&#39;s house&lt;&#x2F;a&gt;. We did a ground-up install whilst he was renovating which meant putting in-wall access points in every room and running Cat6 back to a central patch board and switch. This is a &lt;em&gt;very&lt;&#x2F;em&gt; neat install which has fantastic coverage plus gives him a couple of RJ45 jacks in every room (one with PoE). In a perfect world, this is what you want in your house.&lt;&#x2F;p&gt;
&lt;p&gt;In my house, the whole place was already wired with a couple of jacks in every room and a patch board in the garage. Plugging UniFi access points directly into a wired connection is &lt;em&gt;always&lt;&#x2F;em&gt; going to yield a better result than AmpliFi mesh units wirelessly up-linking to the base station through walls and floors and that sort of thing. Plus, there&#39;s a lot more options in terms of how the network is designed given how many different styles of access point and switches there are (check out &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;heres-what-this-ubiquiti-unifi-stuff-is-all-about&#x2F;&quot;&gt;my free UniFi course&lt;&#x2F;a&gt; for more on this).&lt;&#x2F;p&gt;
&lt;p&gt;There&#39;s a heap more control and configurability with UniFi because it&#39;s meant to be used in far more complex configurations. The sort of things I mean here is everything from deep packet inspection (which devices are talking to which external services), automatically generated topology maps (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;content&#x2F;images&#x2F;2017&#x2F;03&#x2F;Topology-Map.png&quot;&gt;a visual map of what&#39;s connected to where&lt;&#x2F;a&gt;) and a huge amount of configurability on each AP itself (channel width, transmit power, minimum RSSI etc). Thing is though, you need to decide if that&#39;s any use to you.&lt;&#x2F;p&gt;
&lt;p&gt;Lastly, a determining factor is inevitably cost. I spent over A$2k setting my house up with UniFi. Admittedly, I did go a bit overboard but it was about the same for my brother&#39;s setup too. You can definitely get in much cheaper than that - less than half if you&#39;re frugal - but you can &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.wireless4now.com.au&#x2F;ubiquiti-amplifi-high-density-hd-home-wi-fi-router.html&quot;&gt;get into AmpliFi for only a couple of hundred bucks&lt;&#x2F;a&gt;. That&#39;s just the base station that&#39;ll still give you all the features above but without the additional range from the mesh units, you&#39;re looking at &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.wireless4now.com.au&#x2F;ubiquiti&#x2F;ubiquiti-amplifi&#x2F;ubiquiti-amplifi-afi-high-density-home-wi-fi-mesh-technology.html&quot;&gt;well over $500 for the setup I put into mum and dad&#39;s&lt;&#x2F;a&gt;. But for many people, that&#39;ll easily be worth it for the sanity and productivity of actually having reliable internet everywhere!&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/AVLepeXMlBo/"/>
    <published>2017-09-04T08:13:41.000Z</published>
  </entry>
  <entry>
    <title>Debugging netlink requests | Julia Evans</title>
    <content type="html">&lt;p&gt;This week I was working on a Kubernetes networking problem. Basically
our container network backend was reporting that it couldn’t delete
routes, and we didn’t know why.&lt;&#x2F;p&gt;

&lt;p&gt;I started reading the code that was failing, and it was using a library
called “netlink”. I’d never heard of that before this week.&lt;&#x2F;p&gt;

&lt;h3&gt;what’s netlink?&lt;&#x2F;h3&gt;

&lt;p&gt;Wikipedia says:&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;Netlink socket family is a Linux kernel interface used for
inter-process communication (IPC) between both the kernel and
userspace processes, and between different userspace processes, in a
way similar to the Unix domain sockets.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;The program I was debugging was creating&#x2F;deleting routes from the route table.
It seems like netlink is capable of doing lots of things (communicate kernel
&amp;lt;-&amp;gt; userspace and userspace &amp;lt;-&amp;gt; userspace), but in this case what was happening
was pretty simple&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;userspace program creates a netlink socket&lt;&#x2F;li&gt;
&lt;li&gt;userspace program sends a message with that socket asking the kernel
to delete a route&lt;&#x2F;li&gt;
&lt;li&gt;kernel deletes the route (or in our case, fails and returns an error message)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;h3&gt;how to see netlink messages with strace&lt;&#x2F;h3&gt;

&lt;p&gt;Let’s create some netlink messages! Luckily this is easy: if we use the
&lt;code&gt;ip&lt;&#x2F;code&gt; tool to create and delete a route, it uses netlink.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;ip route add 172.16.5.0&#x2F;24 via 127.0.0.1 dev lo
ip route del 172.16.5.0&#x2F;24 via 127.0.0.1 dev lo
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Cool, let’s strace it! Here’s the command:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;strace -s 100 -f -o out -x ip route add 172.16.5.0&#x2F;24 via 127.0.0.1 dev lo
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;and the output:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;socket(PF_NETLINK, SOCK_RAW|SOCK_CLOEXEC, NETLINK_ROUTE) &#x3D; 3
bind(3, {sa_family&#x3D;AF_NETLINK, pid&#x3D;0, groups&#x3D;00000000}, 12) &#x3D; 0
getsockname(3, {sa_family&#x3D;AF_NETLINK, pid&#x3D;13058, groups&#x3D;00000000},
sendmsg(3, {msg_name(12)&#x3D;{sa_family&#x3D;AF_NETLINK, pid&#x3D;0, groups&#x3D;00000000},
    msg_iov(1)&#x3D;[{&amp;quot;\x34\x00\x00\x00\x18\x00\x05\x06\x6e\xbc\xac\x59\x00\x00\x00\x00\x02\x18\x00\x00\xfe\x03\x00\x01\x00\x00\x00\x00\x08\x00\x01\x00\xac\x10\x05\x00\x08\x00\x05\x00\x7f\x00\x00\x01\x08\x00\x04\x00\x01\x00\x00\x00&amp;quot;,
    52}], msg_controllen&#x3D;0, msg_flags&#x3D;0}, 0) &#x3D; 52
recvmsg(3, {msg_name(12)&#x3D;{sa_family&#x3D;AF_NETLINK, pid&#x3D;0,
    msg_iov(1)&#x3D;[{&amp;quot;\x24\x00\x00\x00\x02\x00\x00\x00\x6e\xbc\xac\x59\x02\x33\x00\x00\x00\x00\x00\x00\x34\x00\x00\x00\x18\x00\x05\x06\x6e\xbc\xac\x59\x00\x00\x00\x00&amp;quot;,
    32768}], msg_controllen&#x3D;0, msg_flags&#x3D;0}, 0) &#x3D; 36

&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;So we see that it:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;creates the netlink socket &amp;amp; binds to it&lt;&#x2F;li&gt;
&lt;li&gt;sends a message (&lt;code&gt;\x34\x00...&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;receives a response&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Okay, but what does that message &lt;strong&gt;say&lt;&#x2F;strong&gt;? Here’s the message again:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;\x34\x00\x00\x00\x18\x00\x05\x06\x9e\xbc\xac\x59\x00\x00\x00\x00\x02\x18\x00\x00\xfe\x03\x00\x01\x00\x00\x00\x00\x08\x00\x01\x00\xac\x10\x05\x00\x08\x00\x05\x00\x7f\x00\x00\x01\x08\x00\x04\x00\x01\x00\x00\x00
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Not super understandable, right? Well, luckily there’s a Python tool
that can help us understand it! We’ll save this to a file called
&lt;code&gt;message&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;

&lt;h3&gt;decoding netlink messages with pyroute2&lt;&#x2F;h3&gt;

&lt;p&gt;I googled how to decode netlink messages and I found this great page:
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.pyroute2.org&#x2F;debug.html&quot;&gt;http:&#x2F;&#x2F;docs.pyroute2.org&#x2F;debug.html&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Decoding my netlink message turned out to be pretty simple: I just had
to run this:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;pip install pyroute2
wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;svinota&#x2F;pyroute2&#x2F;72e444714f37a313fb15bdb22734e517feefa9e9&#x2F;tests&#x2F;decoder&#x2F;decoder.py
python decoder.py pyroute2.netlink.rtnl.rtmsg.rtmsg message
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Here’s the output!&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;{&#39;attrs&#39;: [(&#39;RTA_DST&#39;, &#39;172.16.5.0&#39;),
           (&#39;RTA_GATEWAY&#39;, &#39;127.0.0.1&#39;),
           (&#39;RTA_OIF&#39;, 1)],
 &#39;dst_len&#39;: 24,
 &#39;family&#39;: 2,
 &#39;flags&#39;: 0,
 &#39;header&#39;: {&#39;flags&#39;: 1541,
            &#39;length&#39;: 52,
            &#39;pid&#39;: 0,
            &#39;sequence_number&#39;: 1504493250,
            &#39;type&#39;: 24},
 &#39;proto&#39;: 3,
 &#39;scope&#39;: 0,
 &#39;src_len&#39;: 0,
 &#39;table&#39;: 254,
 &#39;tos&#39;: 0,
 &#39;type&#39;: 1}
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;I don’t understand all of this but we’re just going to focus on this part:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;{&#39;attrs&#39;: [(&#39;RTA_DST&#39;, &#39;172.16.5.0&#39;),
           (&#39;RTA_GATEWAY&#39;, &#39;127.0.0.1&#39;),
           (&#39;RTA_OIF&#39;, 1)],
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;The dst and gateway fields are pretty easy to understand there!&lt;&#x2F;p&gt;

&lt;h3&gt;why the program I was debugging wasn’t working&lt;&#x2F;h3&gt;

&lt;p&gt;You see this &lt;code&gt;RTA_OIF&lt;&#x2F;code&gt; field? This field is a &lt;strong&gt;network interface id&lt;&#x2F;strong&gt;. For
example, on my laptop right now I have 5 network interfaces, numbered 1 through
5. The (correct) message above has &lt;code&gt;RTA_OIF&lt;&#x2F;code&gt; set to 1, for the &lt;code&gt;lo&lt;&#x2F;code&gt; loopback interface.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1
    link&#x2F;loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s25: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link&#x2F;ether 3c:97:0e:55:b3:7f brd ff:ff:ff:ff:ff:ff
3: wlp3s0: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc mq state DOWN mode DORMANT group default qlen 1000
    link&#x2F;ether 60:67:20:eb:7b:bc brd ff:ff:ff:ff:ff:ff
4: docker0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default 
    link&#x2F;ether 02:42:a0:c5:c1:be brd ff:ff:ff:ff:ff:ff
5: nlmon0: &amp;lt;NOARP,UP,LOWER_UP&amp;gt; mtu 3776 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1
    link&#x2F;netlink 
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;But in our errant program, the &lt;code&gt;RTA_OIF&lt;&#x2F;code&gt; field was set to 0! 0 is not even a
valid value for this field, I don’t think! (0 is not a valid network interface ID)&lt;&#x2F;p&gt;

&lt;h3&gt;pyroute2 is great&lt;&#x2F;h3&gt;

&lt;p&gt;pyroute2 is really cool, if I wanted to write a quick script to understand
what’s going on with my network interfaces &amp;amp; routes I would 100% definitely try
pyroute2. There are a lot of &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.pyroute2.org&#x2F;general.html#rtnetlink-sample&quot;&gt;great examples here&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;For example! If I want to run the equivalent of &lt;code&gt;ip route add 172.16.5.0&#x2F;24 via 127.0.0.1 dev lo&lt;&#x2F;code&gt;, that’s:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;from pyroute2 import IPRoute
ip &#x3D; IPRoute()
ip.route(&#39;add&#39;,
         dst&#x3D;&#39;172.16.0.0&#x2F;24&#39;,
         gateway&#x3D;&#39;127.0.0.1&#39;,
         oif&#x3D;1)
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Super simple! &lt;code&gt;oif&#x3D;1&lt;&#x2F;code&gt; means the same as &lt;code&gt;dev lo&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;

&lt;h3&gt;other ways to capture netlink messages: tcpdump + wireshark&lt;&#x2F;h3&gt;

&lt;p&gt;You can also use tcpdump to capture netlink messages! here’s how:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;# create the network interface
sudo ip link add  nlmon0 type nlmon
sudo ip link set dev nlmon0 up
sudo tcpdump -i nlmon0 -w netlink.pcap # capture your packets
wireshark netlink.pcap # look at the results with wireshark
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;I tried this but had trouble for a couple reasons&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;It didn’t work for me on the server I was working on (though it works on my laptop now)&lt;&#x2F;li&gt;
&lt;li&gt;I actually found it harder to work with than the strace method – it captured too many packets and I found it hard to filter them in Wireshark.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;h3&gt;ip monitor&lt;&#x2F;h3&gt;

&lt;p&gt;You can also run &lt;code&gt;ip monitor&lt;&#x2F;code&gt; and it’ll tell you some netlink requests. when I run it it prints out this stuff:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo ip monitor
fd68:29:f8f6::1 dev enp0s25 lladdr c4:6e:1f:95:d8:3e router STALE
fe80::c66e:1fff:fe95:d83e dev enp0s25 lladdr c4:6e:1f:95:d8:3e router STALE
192.168.1.144 dev enp0s25 lladdr 14:30:c6:ba:e4:6c STALE
192.168.1.144 dev enp0s25 lladdr 14:30:c6:ba:e4:6c PROBE
192.168.1.144 dev enp0s25 lladdr 14:30:c6:ba:e4:6c STALE
192.168.1.144 dev enp0s25 lladdr 14:30:c6:ba:e4:6c REACHABLE
fd68:29:f8f6::1 dev enp0s25 lladdr c4:6e:1f:95:d8:3e router PROBE
fd68:29:f8f6::1 dev enp0s25 lladdr c4:6e:1f:95:d8:3e router REACHABLE
fe80::c66e:1fff:fe95:d83e dev enp0s25 lladdr c4:6e:1f:95:d8:3e router PROBE
fe80::c66e:1fff:fe95:d83e dev enp0s25 lladdr c4:6e:1f:95:d8:3e router REACHABLE
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;It didn’t give me the information I wanted though.&lt;&#x2F;p&gt;

&lt;h3&gt;nltrace&lt;&#x2F;h3&gt;

&lt;p&gt;There’s also &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;github.com&#x2F;socketpair&#x2F;nltrace&quot;&gt;nltrace&lt;&#x2F;a&gt; (for instance &lt;code&gt;nltrace ip route list&lt;&#x2F;code&gt;) but in this case it didn’t give me the information I wanted. It’s not a maintained project but looks maybe useful!&lt;&#x2F;p&gt;

&lt;h3&gt;that’s all!&lt;&#x2F;h3&gt;

&lt;p&gt;It always makes me happy when I learn about a NEW LINUX THING during the course
of my job. When I was in the middle of this I tweeted&lt;&#x2F;p&gt;

&lt;blockquote&gt;
&lt;p&gt;kubernetes is cool but definitely not easy, my experience is definitely like
“learn how all the networking works in excruciating detail”&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;which definitely feels true, it’s less like “set up networking and it works”
and more like “pick a networking backend, wait a month, discover weird
problems, strace it, learn things about netlink and what a &lt;code&gt;RTA_OIF&lt;&#x2F;code&gt; is, fix
the bugs, eventually it works”. Maybe that isn’t everyone’s experience but that
is my experience so far!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/03/debugging-netlink-requests/"/>
    <published>2017-09-03T21:46:00.000Z</published>
  </entry>
  <entry>
    <title>What&amp;#39;s a network interface? | Julia Evans</title>
    <content type="html">&lt;p&gt;I’ve been working with container networking a bunch this week. When learning
about new unfamiliar stuff (like container networking &#x2F; virtual ethernet
devices &#x2F; bridges &#x2F; iptables), I often realize that I don’t fully understand
something much more fundamental.&lt;&#x2F;p&gt;

&lt;p&gt;This week, that thing was: network interfaces!!&lt;&#x2F;p&gt;

&lt;p&gt;You know, when you run &lt;code&gt;ifconfig&lt;&#x2F;code&gt; and it lists devices like &lt;code&gt;lo&lt;&#x2F;code&gt;, &lt;code&gt;eth0&lt;&#x2F;code&gt;,
&lt;code&gt;br0&lt;&#x2F;code&gt;, &lt;code&gt;docker0&lt;&#x2F;code&gt;, &lt;code&gt;wlan0&lt;&#x2F;code&gt;, or whatever. Those.&lt;&#x2F;p&gt;

&lt;p&gt;This is a thing I &lt;strong&gt;thought&lt;&#x2F;strong&gt; I understood but it turns out there are at least
2 things I didn’t know about them.&lt;&#x2F;p&gt;

&lt;p&gt;I’m not going to try to give you a crisp definition, instead we’re going to
make some observations, do some experiments, ask some questions, and make some
guesses.&lt;&#x2F;p&gt;

&lt;h3&gt;What happens if you don’t have any network interfaces?&lt;&#x2F;h3&gt;

&lt;p&gt;I was messing around with network namespaces, and I created a new one with:&lt;&#x2F;p&gt;

&lt;p&gt;&lt;code&gt;sudo ip netns add ns1&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;

&lt;p&gt;It turns out that when you create a new network namespace, it doesn’t have any
network interfaces at all! What does that mean?  Let’s explore and see what it
looks like:&lt;&#x2F;p&gt;

&lt;p&gt;We can run commands inside this new network namespace with &lt;code&gt;sudo ip netns exec ns1 COMMAND&lt;&#x2F;code&gt;. I’m just going to run a shell inside this network namespace, and then
try out some things.&lt;&#x2F;p&gt;

&lt;p&gt;So let’s start with &lt;code&gt;sudo ip netns exec ns1 bash&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo ip netns exec ns1 bash
$ ifconfig
(no output)
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;That makes sense, this is a new network namespace so there are no network
interfaces set up yet. Still inside that network namespace, let’s try to make a
webserver and connect to it.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ nc -l 8900 &amp;amp; # make a server on port 8900
$ netstat -tulpn # list open ports
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address   PID&#x2F;Program name
tcp        0      0 0.0.0.0:8900    2918&#x2F;nc 
$ curl localhost:8900
curl: (7) Couldn&#39;t connect to server
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Okay, so this is sort of interesting. I can create a server on port 8900 with
&lt;code&gt;nc -l 8900&lt;&#x2F;code&gt;. And netstat shows that that server exists. But when I try to
&lt;code&gt;curl localhost:8900&lt;&#x2F;code&gt;, nothing happens!&lt;&#x2F;p&gt;

&lt;p&gt;What if I try to create a server listening on 127.0.0.1?&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;sudo nc -l 127.0.0.1 8080
nc: Cannot assign requested address
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;Doesn’t work. Makes sense.&lt;&#x2F;p&gt;

&lt;p&gt;I think what’s happening here is:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;nc -l 8900&lt;&#x2F;code&gt; is listening on 0.0.0.0:8900, which means “all network interfaces”&lt;&#x2F;li&gt;
&lt;li&gt;but there are no network interfaces&lt;&#x2F;li&gt;
&lt;li&gt;so when we do &lt;code&gt;curl localhost:8900&lt;&#x2F;code&gt;, no packets actually get sent (when I ran tcpdump, no packets show up)&lt;&#x2F;li&gt;
&lt;li&gt;so &lt;code&gt;nc&lt;&#x2F;code&gt; never receives any packets&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Let’s do an experiment to try to confirm our hypotheses: let’s add a network
interface! The idea is that if we have a &lt;code&gt;lo&lt;&#x2F;code&gt; network interface, then &lt;code&gt;curl
localhost:8900&lt;&#x2F;code&gt; will actually send packets, &lt;code&gt;nc&lt;&#x2F;code&gt; will receive them, and
everything will work.&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ ip link set dev lo up # this sets uo the &#39;lo&#39; loopback interface
$ curl localhost:8900                                                                               
# BAM! this totally works! 
# the backgrounded netcat prints out this output:
GET &#x2F; HTTP&#x2F;1.1
User-Agent: curl&#x2F;7.35.0
Host: localhost:8900
Accept: *&#x2F;*
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;This is rad. What we know now:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;if you don’t have any network interfaces, you can’t do any networking (but you can start servers on 0.0.0.0 and netstat shows those servers)&lt;&#x2F;li&gt;
&lt;li&gt;when we add a network interface, our server starts working right away (without having to restart the server)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;h3&gt;A packet can appear multiple times in tcpdump&lt;&#x2F;h3&gt;

&lt;p&gt;Something I’ve been observing recently but haven’t fully understood is – sometimes I’ll be on a machine which has&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;virtual network interfaces for each container (&lt;code&gt;vethXXXXXXX&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;a bridge interface (&lt;code&gt;cni0&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;and a “real” network interface to the outside world (&lt;code&gt;eth0&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;When containers send packets to the outside world and I’m running &lt;code&gt;sudo tcpdump -i any&lt;&#x2F;code&gt;, I’ll see those packets &lt;strong&gt;3 times&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;I know a few more things about how tcpdump works:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;I can run &lt;code&gt;sudo tcpdump -i cni0&lt;&#x2F;code&gt; to listen on a specific interface. When I do that, the packets appear only once&lt;&#x2F;li&gt;
&lt;li&gt;tcpdump happens at the “beginning” of the network stack. I think that means that packets are captured by tcpdump when packets enter a network interface&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;What does “enter a network interface” actually mean, though? I tried to look at
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.packagecloud.io&#x2F;eng&#x2F;2016&#x2F;06&#x2F;22&#x2F;monitoring-tuning-linux-networking-stack-receiving-data&#x2F;&quot;&gt;this 20,000 word article on the iinux network stack&lt;&#x2F;a&gt;
and I think I have a workable theory!&lt;&#x2F;p&gt;

&lt;h3&gt;What happens when a packet is created?&lt;&#x2F;h3&gt;

&lt;p&gt;Okay, so I skimmed &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;blog.packagecloud.io&#x2F;eng&#x2F;2016&#x2F;06&#x2F;22&#x2F;monitoring-tuning-linux-networking-stack-receiving-data&#x2F;&quot;&gt;Monitoring and Tuning the Linux Networking Stack: Receiving Data&lt;&#x2F;a&gt; and I think I have a working hypothesis for how packets&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;get assigned network interfaces&lt;&#x2F;li&gt;
&lt;li&gt;get captured by tcpdump&lt;&#x2F;li&gt;
&lt;li&gt;can be assigned more than one network interface&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;First thing first, this document refers to “network interfaces” as “network devices”. I think those are the same thing.&lt;&#x2F;p&gt;

&lt;p&gt;So!! Let’s say I create a packet on my computer.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;step 0&lt;&#x2F;strong&gt;: iptables prerouting rules&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;step 1&lt;&#x2F;strong&gt;: the packet gets &lt;strong&gt;routed&lt;&#x2F;strong&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;Routing a packet means “assigning it a network device”.&lt;&#x2F;p&gt;

&lt;p&gt;Let’s do a tiny experiment in routing – I have 3 interfaces on my computer right now&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ ifconfig
docker0   Link encap:Ethernet  HWaddr 02:42:ef:ab:0d:ac  
          inet addr:172.17.0.1  Bcast:0.0.0.0  Mask:255.255.0.0

enp0s25   Link encap:Ethernet  HWaddr 3c:97:0e:55:b3:7g  
          inet addr:192.168.1.213  Bcast:192.168.1.255  Mask:255.255.255.0

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;and here are the routes:&lt;&#x2F;p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo ip route list table all
default via 192.168.1.1 dev enp0s25  proto static  metric 100 
169.254.0.0&#x2F;16 dev docker0  scope link  metric 1000 linkdown 
172.17.0.0&#x2F;16 dev docker0  proto kernel  scope link  src 172.17.0.1 linkdown 
192.168.1.0&#x2F;24 dev enp0s25  proto kernel  scope link  src 192.168.1.213  metric 100 
local 127.0.0.0&#x2F;8 dev lo  table local  proto kernel  scope host  src 127.0.0.1 
local 127.0.0.1 dev lo  table local  proto kernel  scope host  src 127.0.0.1 
local 172.17.0.1 dev docker0  table local  proto kernel  scope host  src 172.17.0.1 
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;

&lt;p&gt;So – if I make a request to 172.17.0.1 (&lt;code&gt;curl 172.17.0.1:8080&lt;&#x2F;code&gt;), it seems like that would end up on the
&lt;code&gt;docker0&lt;&#x2F;code&gt; device. Right? Wrong, apparently.&lt;&#x2F;p&gt;

&lt;p&gt;If I run &lt;code&gt;tcpdump -i lo&lt;&#x2F;code&gt; packets to 172.17.0.1 show up, and if I run &lt;code&gt;tcpdump -i docker0&lt;&#x2F;code&gt;,
the packets don’t show up. So it seems right now, on my machine,
packets sent to 172.17.0.1 go through the &lt;code&gt;lo&lt;&#x2F;code&gt; device.&lt;&#x2F;p&gt;

&lt;p&gt;The reason they get sent to &lt;code&gt;lo&lt;&#x2F;code&gt; instead of &lt;code&gt;docker0&lt;&#x2F;code&gt; is that there’s a route
for 172.17.0.1  in my route table that says &lt;code&gt;local&lt;&#x2F;code&gt; – the same reasons that
packets to &lt;code&gt;127.0.0.1&lt;&#x2F;code&gt; get sent to &lt;code&gt;lo&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;step 2&lt;&#x2F;strong&gt; tcpdump gets the packet&lt;&#x2F;p&gt;

&lt;p&gt;This is pretty straightforward – once there’s a network device attached to the
packet, then tcpdump gets the packet.&lt;&#x2F;p&gt;

&lt;p&gt;That’s all I know for now!&lt;&#x2F;p&gt;

&lt;h3&gt;ok so what do we know about network interfaces?&lt;&#x2F;h3&gt;

&lt;p&gt;Here’s what I think so far:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;they can be physical network interfaces (like &lt;code&gt;eth0&lt;&#x2F;code&gt;) or virtual interfaces (like &lt;code&gt;lo&lt;&#x2F;code&gt; and &lt;code&gt;docker0&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;li&gt;you can list them with &lt;code&gt;ifconfig&lt;&#x2F;code&gt; or &lt;code&gt;ip link list&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;if you don’t have any network interfaces, your packets don’t enter the linux network stack at all really. To go through the network stack you need network interfaces.&lt;&#x2F;li&gt;
&lt;li&gt;When you send a packet to an IP address, your &lt;strong&gt;route table&lt;&#x2F;strong&gt; decides which network interface that packet goes through. This is one of the first things that happens in the network stack.&lt;&#x2F;li&gt;
&lt;li&gt;tcpdump captures packets after they’re routed  (assigned an interface) Though there’s a &lt;code&gt;PREROUTING&lt;&#x2F;code&gt; chain in iptables that happens before routing!&#x60;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Some of this is probably wrong, let me know what! I’m on Twitter as always (&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;b0rk&quot;&gt;https:&#x2F;&#x2F;twitter.com&#x2F;b0rk&lt;&#x2F;a&gt;)&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/03/network-interfaces/"/>
    <published>2017-09-03T21:42:00.000Z</published>
  </entry>
  <entry>
    <title>Telling people what you&amp;#39;re working on | Julia Evans</title>
    <content type="html">&lt;p&gt;At work sometimes people send “kickoff” emails, basically announcing “hey,
we’re going to start working on this project, here’s why”.&lt;&#x2F;p&gt;

&lt;p&gt;The format is basically:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;explain the goals (why is this gonna be awesome?)&lt;&#x2F;li&gt;
&lt;li&gt;explain who’s affected by the project&lt;&#x2F;li&gt;
&lt;li&gt;maybe talk about the risks a little&lt;&#x2F;li&gt;
&lt;li&gt;talk a little about timelines&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;h3&gt;announcing what you’re working on can be scary&lt;&#x2F;h3&gt;

&lt;p&gt;I find it kind of scary to tell people what I’m working on! Once I was
talking about plans with a Very Experienced Person and they said “yeah, sharing
tentative plans with lots of other people &lt;strong&gt;is&lt;&#x2F;strong&gt; scary” and I was so happy that it
wasn’t just me.&lt;&#x2F;p&gt;

&lt;p&gt;Some reasons I think it’s sort of scary:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;what if I fail and everyone thinks I’m terrible at my job?&lt;&#x2F;li&gt;
&lt;li&gt;what if something unexpected happens and we have to completely change the plan?&lt;&#x2F;li&gt;
&lt;li&gt;what if this takes way longer to do than we think?&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;It seems much safer to:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;start working on a thing&lt;&#x2F;li&gt;
&lt;li&gt;hide in a corner until it’s done&lt;&#x2F;li&gt;
&lt;li&gt;announce “look, we did it, it worked”&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;After all, if I only tell people about things when they’re finished and
amazing, then everything I announce will have succeeded! 100% success rate!!
What could be better?&lt;&#x2F;p&gt;

&lt;p&gt;But this pattern of “let me hide in a corner until I’m done this project,
or at least I won’t tell anyone outside my team” sounds suspiciously like “I won’t
push my code to github until it’s perfect”, and we know it’s important to share
works in progress when you’re coding! :)&lt;&#x2F;p&gt;

&lt;h3&gt;reasons announcing plans is good&lt;&#x2F;h3&gt;

&lt;p&gt;A few reasons announcing plans is useful:&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;Everyone else is trying to plan their work all the time. If I announce what I’m planning, that helps people who are working on related projects! For example, my team just announced a project that interacts a lot with another team’s work, so that team is going to allocate someone to work on it!&lt;&#x2F;li&gt;
&lt;li&gt;If we advertise a plan maybe someone will notice an important problem with it and tell us!&lt;&#x2F;li&gt;
&lt;li&gt;Writing a plan forces your clarify your goals&lt;&#x2F;li&gt;
&lt;li&gt;Communicating clear plans helps management… manage.&lt;&#x2F;li&gt;
&lt;li&gt;I think announcing &lt;em&gt;ambitious&lt;&#x2F;em&gt; plans can help kind of.. inspire the people around you? Like I sometimes see that someone else is kicking off a Very Important Project and I think, wow, that’s really cool, maybe we can do something cool like that.&lt;&#x2F;li&gt;
&lt;li&gt;It’s exciting to see people starting and finishing projects, like it creates momentum for the whole company if everyone talks about what they’re doing!&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;I think the shared planning aspect is probably the most important though! If
everyone hides in a corner and doesn’t tell people what they’re doing until
they’re done… well, that wouldn’t really be a very effective way to work
together.&lt;&#x2F;p&gt;

&lt;p&gt;One of our sibling teams always announces what they’re working on VERY LOUDLY
(like they send tons of announcement emails) and I kind of love it because I
always know what’s going on with them. Their plans don’t always work out
exactly as planned! Sometimes they change direction! But it’s really awesome to
know how they’re spending their time &amp;amp; what to expect from them in the near
future.&lt;&#x2F;p&gt;

&lt;h3&gt;ways to make it less scary&lt;&#x2F;h3&gt;

&lt;p&gt;Remember &lt;strong&gt;it’s my job&#x2F;responsibility&lt;&#x2F;strong&gt; to talk about what I’m doing. We’re all
trying to build something together, and as a team we can’t do that if we don’t
talk about our plans. (I think as I get more experienced this becomes more and
more my job)&lt;&#x2F;p&gt;

&lt;p&gt;Another thing I think might help me is &lt;strong&gt;assume everything I do will succeed&lt;&#x2F;strong&gt;.
I feel like I sometimes waste a lot of time worrying “oh no, what if this goes
wrong”. And of course to some extent worrying is useful! Every project has
risks and it’s important to think about how to manage those risks. But I think
if I start with the assumption that the thing I’m embarking on will probably
work, it’ll be easier to execute and tell people about. It seems like
confidence is pretty important when you’re trying to do something hard.&lt;&#x2F;p&gt;

&lt;p&gt;It’s definitely important to &lt;strong&gt;tell people plans that are mostly true&lt;&#x2F;strong&gt;. Plans
don’t need to be 100% right (everything always changes), but for them to be
useful, they need to be at least mostly right. Like maybe do a proof of concept
first and chat with the stakeholders.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;strong&gt;Just tell the people who need to know about it&lt;&#x2F;strong&gt;. Like – this week we sent a
kickoff email. It was for a networking thing that is relevant to many
developers, but nobody outside engineering will really be affected by it. So we
just sent the email to the developers mailing list!&lt;&#x2F;p&gt;

&lt;p&gt;Maybe that’s it? Like, if when we’re planning something, we just&lt;&#x2F;p&gt;

&lt;ol&gt;
&lt;li&gt;come up with a reasonable plan and think&#x2F;talk about it with folks&lt;&#x2F;li&gt;
&lt;li&gt;do at least some preliminary work, I think it’s good to at least do a
prototype or something first to get some confidence in the approach&lt;&#x2F;li&gt;
&lt;li&gt;assume that our plan will work (that when we run into problems, we’ll figure
out a way to solve them)&lt;&#x2F;li&gt;
&lt;li&gt;loudly communicate that plan to a reasonable list of people (not too much
bigger than it needs to be)&lt;&#x2F;li&gt;
&lt;li&gt;listen to the feedback we get and incorporate it when we need to&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;

&lt;p&gt;then that will be fine!&lt;&#x2F;p&gt;

&lt;h3&gt;reasons hiding in a corner might be good&lt;&#x2F;h3&gt;

&lt;p&gt;I think sometimes there are actually good reasons &lt;strong&gt;not&lt;&#x2F;strong&gt; to tell people what
you’re doing.&lt;&#x2F;p&gt;

&lt;p&gt;In some work cultures, sometimes people can put out a lot of stop energy! If
you say “hey this is what we’re planning”, you might get back “hello here are
100000 reasons why what you’re doing won’t work &#x2F; is a bad idea”. I think if
people do this a lot it is actually maybe kind of reasonable to react with “ok,
we’re just not going to tell people what we’re doing until we’re further
along”.&lt;&#x2F;p&gt;

&lt;p&gt;Philip Guo has a great vlog about how &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.pgbovine.net&#x2F;PG-Vlog-8-private-creative-projects.htm&quot;&gt;it’s important to start personal creative projects privately&lt;&#x2F;a&gt; –
if you don’t tell anyone about an early stage baby idea, it can give you the
space&#x2F;safety to develop it! That’s really important! So I think there’s a
caveat here, like “early-stage ideas are fragile and need to be sheltered” :)&lt;&#x2F;p&gt;

&lt;h3&gt;hiding in a corner with my keyboard is not for me though&lt;&#x2F;h3&gt;

&lt;p&gt;Right now I’m planning a biggish (big for me, anyway! I actually want people to
use it!) open source project I’m going to start in January and I.. don’t really
know if it will work? So it feels scary to announce “hey, I’m planning X, these
are my goals”. But I will definitely announce it! :)&lt;&#x2F;p&gt;

&lt;p&gt;In the past I’ve definitely worried about getting excessive stop energy &#x2F;
bikeshedding when talking about plans. I think where I work it’s better to tell
people what I’m working on though! And lately when we share plans with
people, almost all of the feedback I see is super helpful!&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://jvns.ca/blog/2017/09/03/telling-people-what-you-re-working-on/"/>
    <published>2017-09-03T19:08:54.000Z</published>
  </entry>
  <entry>
    <title>Flat UI Elements Attract Less Attention and Cause Uncertainty | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; Flat interfaces often use weak signifiers. In an eyetracking experiment comparing different kinds of clickability clues, UIs with weak signifiers required more user effort than strong ones.&lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; The popularity of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.nngroup.com&#x2F;articles&#x2F;flat-design&#x2F;&quot;&gt;  flat design &lt;&#x2F;a&gt; in digital interfaces has coincided with a scarcity of &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;jnd.org&#x2F;dn.mss&#x2F;signifiers_not_affordances.html&quot;&gt;  signifiers &lt;&#x2F;a&gt; . Many modern UIs have ripped out the perceptible cues that users rely on to understand what is clickable.&lt;&#x2F;p&gt;&lt;p&gt; Using eyetracking equipment to track and visualize users’ eye movements across interfaces, we investigated how &lt;strong&gt;  strong clickability signifiers &lt;&#x2F;strong&gt; (traditional clues such as underlined, blue text or a glossy 3D button) and &lt;strong&gt;  weak or absent signifiers &lt;&#x2F;strong&gt; (for example, linked text styled as static text or a ghost button) impact the ways users process and understand web pages.&lt;&#x2F;p&gt; About the Study&lt;p&gt; There are many factors that influence a user’s interaction with an interface. To directly investigate the differences between traditional, weak, and absent signifiers in the visual treatments of interactive elements, we needed to remove any confounding variables.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;flat-ui-less-attention-cause-uncertainty&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/flat-ui-less-attention-cause-uncertainty/"/>
    <published>2017-09-03T16:00:01.000Z</published>
  </entry>
  <entry>
    <title>Counterfeit or Credible? UX Design for Authenticity in China | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;strong&gt;Summary:&lt;&#x2F;strong&gt; In China, websites must work harder than in other markets to gain users’ trust. Displaying the company’s local presence, past client work, and being available to answer questions via online chat are critical.&lt;&#x2F;p&gt;&lt;hr &#x2F;&gt;&lt;br &#x2F;&gt;&lt;p&gt; Counterfeiting is not uncommon in China. Thus, a main concern for Chinese web shoppers is making sure that the products they see online are authentic. Some Chinese online marketplaces are assumed to contain fake products, and past negative experiences with these fakes — ink cartridges that don’t last or don’t quite print the correct color — cause consumers to be extra wary when shopping online.&lt;&#x2F;p&gt;&lt;p&gt; This guardedness is exacerbated by the restrictive Chinese return policies. It’s rare that sellers will take back a product with “no questions asked.” Chinese consumers who are displeased with a purchase will often choose to absorb the cost and treat it as a lesson rather than attempt a troublesome return process.&lt;&#x2F;p&gt;&lt;p&gt; Participants in our latest round of usability studies conducted in China displayed a heightened awareness of fakes, and were on the lookout for markers of authenticity and trustworthiness while researching various products and services.&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;articles&#x2F;credibility-china&#x2F;&quot;&gt;Read Full Article&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/articles/credibility-china/"/>
    <published>2017-09-03T16:00:00.000Z</published>
  </entry>
  <entry>
    <title>GapP, Oracles, and Quantum Supremacy | Shtetl-Optimized</title>
    <content type="html">&lt;p&gt;Let me start with a few quick announcements before the main entrée:&lt;&#x2F;p&gt;
&lt;p&gt;First, the website &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;haspvsnpbeensolved.com&quot;&gt;haspvsnpbeensolved.com&lt;&#x2F;a&gt; is now live!  Thanks so much to my friend Adam Chalmers for setting it up.  Please try it out on your favorite P vs. NP solution paper—I think you’ll be impressed by how well our secret validation algorithm performs.&lt;&#x2F;p&gt;
&lt;p&gt;Second, some readers might enjoy a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v&#x3D;fUGjv44_X4Q&amp;amp;index&#x3D;4&amp;amp;list&#x3D;PLUz_4vZOI0H1XnMEj9uk4Ezp9AUJBVAPE&quot;&gt;YouTube video&lt;&#x2F;a&gt; of me lecturing about the computability theory of closed timelike curves, from the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;cchep2017.quics.umd.edu&#x2F;&quot;&gt;Workshop on Computational Complexity and High Energy Physics&lt;&#x2F;a&gt; at the University of Maryland a month ago.  &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.youtube.com&#x2F;playlist?list&#x3D;PLUz_4vZOI0H1XnMEj9uk4Ezp9AUJBVAPE&quot;&gt;Other videos&lt;&#x2F;a&gt; from the workshop—including of talks by John Preskill, Daniel Harlow, Stephen Jordan, and other names known around &lt;em&gt;Shtetl-Optimized&lt;&#x2F;em&gt;, and of a panel discussion in which I participated—are worth checking out as well.  Thanks so much to Stephen for organizing such a great workshop!&lt;&#x2F;p&gt;
&lt;p&gt;Third, thanks to everyone who’s emailed to ask whether I’m holding up OK with Hurricane Harvey, and whether I know how to swim (I do).  As it happens, I haven’t been in Texas for two months—I spent most of the summer visiting NYU and doing other travel, and this year, Dana and I are doing an early sabbatical at Tel Aviv University.  However, I understand from friends that Austin, being several hours’ drive further inland, got &lt;em&gt;nothing&lt;&#x2F;em&gt; compared to what Houston did, and that UT is open on schedule for the fall semester.  Hopefully our house is still standing as well!  Our thoughts go to all those affected by the disaster in Houston.  Eventually, the Earth’s rapidly destabilizing climate almost certainly means that Austin will be threatened as well by “500-year events” happening every year or two, as for that matter will a large portion of the earth’s surface.  For now, though, Austin lives to be weird another day.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;p&gt;&lt;strong&gt;GapP, Oracles, and Quantum Supremacy&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;by Scott Aaronson&lt;&#x2F;p&gt;
&lt;p&gt;Stuart Kurtz 60th Birthday Conference, Columbia, South Carolina &lt;&#x2F;p&gt;
&lt;p&gt;August 20, 2017&lt;&#x2F;p&gt;
&lt;p&gt;It’s great to be here, to celebrate the life and work of Stuart Kurtz, which could never be … &lt;em&gt;eclipsed&lt;&#x2F;em&gt; … by anything.&lt;&#x2F;p&gt;
&lt;p&gt;I wanted to say something about work in structural complexity and counting complexity and oracles that Stuart was involved with “back in the day,” and how that work plays a major role in issues that concern us right now in quantum computing.  A major goal for the next few years is the unfortunately-named Quantum Supremacy.  What this means is to get a clear quantum speedup, for &lt;em&gt;some&lt;&#x2F;em&gt; task: not necessarily a useful task, but something that we can be as confident as possible is classically hard.  For example, consider the 49-qubit superconducting chip that Google is planning to fabricate within the next year or so.  This won’t yet be good enough for running Shor’s algorithm, to factor numbers of any interesting size, but it hopefully &lt;em&gt;will&lt;&#x2F;em&gt; be good enough to sample from a probability distribution over n-bit strings—in this case, 49-bit strings—that’s hard to sample from classically, taking somewhere on the order of 249 steps.&lt;&#x2F;p&gt;
&lt;p&gt;Furthermore, the evidence that that sort of thing is indeed classically hard, might actually be &lt;em&gt;stronger&lt;&#x2F;em&gt; than the evidence that factoring is classically hard.  As I like to say, a fast classical factoring algorithm would “merely” collapse the world’s electronic commerce—as far as we know, it wouldn’t collapse the polynomial hierarchy!  By contrast, a fast classical algorithm to simulate quantum sampling &lt;em&gt;would&lt;&#x2F;em&gt; collapse the polynomial hierarchy, assuming the simulation is exact.  Let me first go over the argument for that, and then explain some of the more recent things we’ve learned.&lt;&#x2F;p&gt;
&lt;p&gt;Our starting point will be two fundamental complexity classes, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Sharp-P&quot;&gt;#P&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;GapP&quot;&gt;GapP&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;#P is the class of all nonnegative integer functions f, for which there exists a nondeterministic polynomial-time Turing machine M such that f(x) equals the number of accepting paths of M(x).  Less formally, #P is the class of problems that boil down to summing up an exponential number of nonnegative terms, each of which is efficiently computable individually.&lt;&#x2F;p&gt;
&lt;p&gt;GapP—introduced by &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;citeseerx.ist.psu.edu&#x2F;viewdoc&#x2F;summary?doi&#x3D;10.1.1.42.5938&quot;&gt;Fenner, Fortnow, and Kurtz&lt;&#x2F;a&gt; in 1992—can be defined as the set {f-g : f,g∈#P}; that is, the closure of #P under subtraction.  Equivalently, GapP is the class of problems that boil down to summing up an exponential number of terms, each of which is efficiently computable individually, but which could be either positive or negative, and which can therefore cancel each other out.  As you can see, GapP is a class that in some sense anticipates quantum computing!&lt;&#x2F;p&gt;
&lt;p&gt;For our purposes, the most important difference between #P and GapP is that #P functions can at least be multiplicatively &lt;em&gt;approximated&lt;&#x2F;em&gt; in the class BPPNP, by using Stockmeyer’s technique of approximating counting with universal hash functions.  By contrast, even if you just want to approximate a GapP function to within (say) a factor of 2—or for that matter, just decide whether a GapP function is positive or negative—it’s not hard to see that that’s already a #P-hard problem.  For, supposing we had an oracle to solve this problem, we could then shift the sum this way and that by adding positive and negative dummy terms, and use binary search, to zero in on the sum’s &lt;em&gt;exact&lt;&#x2F;em&gt; value in polynomial time.&lt;&#x2F;p&gt;
&lt;p&gt;It’s also not hard to see that a quantum computation can encode an arbitrary GapP function in one of its amplitudes.  Indeed, let s:{0,1}n→{1,-1} be any Boolean function that’s given by a polynomial-size circuit.  Then consider the quantum circuit below.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;When we run this circuit, the probability that we see the all-0 string as output is&lt;&#x2F;p&gt;
&lt;p&gt;$$ \left( \frac{1}{\sqrt{2^n}} \sum_{z\in \{0,1\}^n} s(z) \right)^2 &#x3D; \frac{1}{2^n} \sum_{z,w\in \{0,1\}^n} s(z) s(w) $$&lt;&#x2F;p&gt;
&lt;p&gt;which is clearly in GapP, and clearly #P-hard even to approximate to within a multiplicative factor.&lt;&#x2F;p&gt;
&lt;p&gt;By contrast, suppose we had a probabilistic polynomial-time classical algorithm, call it M, to sample the output distribution of the above quantum circuit.  Then we could rewrite the above probability as Prr[M(r) outputs 0…0], where r consists of the classical random bits used by M.  This is again an exponentially large sum, with one term for each possible r value—but now it’s a sum of &lt;em&gt;nonnegative&lt;&#x2F;em&gt; terms (probabilities), which is therefore approximable in BPPNP.&lt;&#x2F;p&gt;
&lt;p&gt;We can state the upshot as follows.  Let ExactSampBPP be the class of &lt;em&gt;sampling problems&lt;&#x2F;em&gt;—that is, families of probability distributions {Dx}x, one for each input x∈{0,1}n—for which there exists a polynomial-time randomized algorithm that outputs a sample exactly from Dx, in time polynomial in |x|.  Let ExactSampBQP be the same thing except that we allow a polynomial-time quantum algorithm.  Then we have that, if ExactSampBPP &#x3D; ExactSampBQP, then squared sums of both positive and negative terms, could efficiently be rewritten as sums of nonnegative terms only—and hence P#P&#x3D;BPPNP.  This, in turn, would collapse the polynomial hierarchy to the third level, by Toda’s Theorem that PH⊆P#P, together with the result BPPNP⊆∑3.  To summarize:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Theorem 1.&lt;&#x2F;strong&gt;  Quantum computers can efficiently solve exact sampling problems that are classically hard unless the polynomial hierarchy collapses.&lt;&#x2F;p&gt;
&lt;p&gt;(In fact, the argument works not only if the classical algorithm exactly samples Dx, but if it samples from any distribution in which the probabilities are multiplicatively close to Dx‘s.  If we really only care about exact sampling, then we can strengthen the conclusion to get that PH collapses to the second level.)&lt;&#x2F;p&gt;
&lt;p&gt;This sort of reasoning was implicit in several early works, including those of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;quant-ph&#x2F;9812056&quot;&gt;Fenner et al.&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;quant-ph&#x2F;0205133&quot;&gt;Terhal and DiVincenzo&lt;&#x2F;a&gt;.  It was made fully explicit in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;theoryofcomputing.org&#x2F;articles&#x2F;v009a004&#x2F;v009a004.pdf&quot;&gt;my paper with Alex Arkhipov&lt;&#x2F;a&gt; on BosonSampling in 2011, and in the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1005.1407&quot;&gt;independent work&lt;&#x2F;a&gt; of Bremner, Jozsa, and Shepherd on the IQP model.  These works actually showed something stronger, which is that we get a collapse of PH, not merely from a fast classical algorithm to simulate &lt;em&gt;arbitrary&lt;&#x2F;em&gt; quantum systems, but from fast classical algorithms to simulate various special quantum systems.  In the case of BosonSampling, that special system is a collection of identical, non-interacting photons passing through a network of beamsplitters, then being measured at the very end to count the number of photons in each mode.  In the case of IQP, the special system is a collection of qubits that are prepared, subjected to some commuting Hamiltonians acting on various subsets of the qubits, and then measured.  These special systems don’t seem to be capable of universal quantum computation (or for that matter, even universal classical computation!)—and correspondingly, many of them seem easier to realize in the lab than a full universal quantum computer.&lt;&#x2F;p&gt;
&lt;p&gt;From an experimental standpoint, though, &lt;em&gt;all&lt;&#x2F;em&gt; these results are unsatisfactory, because they all talk only about the classical hardness of &lt;em&gt;exact&lt;&#x2F;em&gt; (or very nearly exact) sampling—and indeed, the arguments are based around the hardness of estimating just a single, exponentially-small amplitude.  But any real experiment will have tons of noise and inaccuracy, so it seems only fair to let the classical simulation be subject to serious noise and inaccuracy as well—but as soon as we do, the previous argument collapses.&lt;&#x2F;p&gt;
&lt;p&gt;Thus, from the very beginning, Alex Arkhipov and I took it as our “real” goal to show, under some reasonable assumption, that there’s a distribution D that a polynomial-time quantum algorithm can sample from, but such that no polynomial-time classical algorithm can sample from any distribution that’s even &lt;em&gt;ε-close&lt;&#x2F;em&gt; to D in variation distance.  Indeed, this goal is what led us to BosonSampling in the first place: we knew that we needed amplitudes that were not only #P-hard but “robustly” #P-hard; we knew that the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Permanent&quot;&gt;permanent&lt;&#x2F;a&gt; of an n×n matrix (at least over finite fields) was the canonical example of a “robustly” #P-hard function; and finally, we knew that systems of identical non-interacting bosons, such as photons, gave rise to amplitudes that were permanents in an extremely natural way.  The fact that photons actually exist in the physical world, and that our friends with quantum optics labs like to do experiments with them, was just a nice bonus!&lt;&#x2F;p&gt;
&lt;p&gt;A bit more formally, let ApproxSampBPP be the class of sampling problems for which there exists a classical algorithm that, given an input x∈{0,1}n and a parameter ε&amp;gt;0, samples a distribution that’s at most  away from Dx in variation distance, in time polynomial in n and 1&#x2F;ε.  Let ApproxSampBQP be the same except that we allow a quantum algorithm.  Then the “dream” result that we’d love to prove—both then and now—is the following.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Strong Quantum Supremacy Conjecture.&lt;&#x2F;strong&gt;  If ApproxSampBPP &#x3D; ApproxSampBQP, then the polynomial hierarchy collapses.&lt;&#x2F;p&gt;
&lt;p&gt;Unfortunately, Alex and I were only able to prove this conjecture assuming a further hypothesis, about the permanents of i.i.d. Gaussian matrices.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Theorem 2 (A.-Arkhipov).&lt;&#x2F;strong&gt;  Given an n×n matrix X of independent complex Gaussian entries, each of mean 0 and variance 1, assume it’s a #P-hard problem to approximate |Per(X)|2 to within ±ε⋅n!, with probability at least 1-δ over the choice of X, in time polynomial in n, 1&#x2F;ε, and 1&#x2F;δ.  Then the Strong Quantum Supremacy Conjecture holds.  Indeed, more than that: in such a case, even a fast approximate classical simulation of BosonSampling, in particular, would imply P#P&#x3D;BPPNP and hence a collapse of PH.&lt;&#x2F;p&gt;
&lt;p&gt;Alas, after some months of effort, we were unable to prove the needed #P-hardness result for Gaussian permanents, and it remains an outstanding open problem—there’s not even a consensus as to whether it should be true or false.  Note that there &lt;em&gt;is&lt;&#x2F;em&gt; a famous polynomial-time classical algorithm to approximate the permanents of &lt;em&gt;nonnegative&lt;&#x2F;em&gt; matrices, due to &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.cc.gatech.edu&#x2F;~vigoda&#x2F;Permanent.pdf&quot;&gt;Jerrum, Sinclair, and Vigoda&lt;&#x2F;a&gt;, but that algorithm breaks down for matrices with negative or complex entries.  This is once again the power of cancellations, the difference between #P and GapP.&lt;&#x2F;p&gt;
&lt;p&gt;Frustratingly, if we want the exact permanents of i.i.d. Gaussian matrices, we were able to prove that that’s #P-hard; and if we want the approximate permanents of arbitrary matrices, we also know that &lt;em&gt;that’s&lt;&#x2F;em&gt; #P-hard—it’s only when we have approximation and random inputs in the same problem that we no longer have the tools to prove #P-hardness.&lt;&#x2F;p&gt;
&lt;p&gt;In the meantime, one can also ask a meta-question.  How hard should it be to prove the Strong Quantum Supremacy Conjecture?  Were we right to look at slightly exotic objects, like the permanents of Gaussian matrices?  Or could Strong Quantum Supremacy have a “pure, abstract complexity theory proof”?&lt;&#x2F;p&gt;
&lt;p&gt;Well, one way to formalize that question is to ask whether Strong Quantum Supremacy has a &lt;em&gt;relativizing&lt;&#x2F;em&gt; proof, a proof that holds in the presence of an arbitrary oracle.  Alex and I explicitly raised that as an open problem in our BosonSampling paper.&lt;&#x2F;p&gt;
&lt;p&gt;Note that “weak” quantum supremacy—i.e., the statement that ExactSampBPP &#x3D; ExactSampBQP collapses the polynomial hierarchy—has a relativizing proof, namely the proof that I sketched earlier.  All the ingredients that we used—Toda’s Theorem, Stockmeyer approximate counting, simple manipulations of quantum circuits—were relativizing ingredients.  By contrast, all the way back in 1998, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;cs&#x2F;9811023&quot;&gt;Fortnow and Rogers&lt;&#x2F;a&gt; proved the following.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Theorem 3 (Fortnow and Rogers).&lt;&#x2F;strong&gt;  There exists an oracle relative to which P&#x3D;BQP and yet PH is infinite.&lt;&#x2F;p&gt;
&lt;p&gt;In other words, if you want to prove that P&#x3D;BQP collapses the polynomial hierarchy, the proof can’t be relativizing.  This theorem was subsequently &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;people.cs.uchicago.edu&#x2F;~fortnow&#x2F;papers&#x2F;obt.ps&quot;&gt;generalized&lt;&#x2F;a&gt; in a paper by Fenner, Fortnow, Kurtz, and Li, which used concepts like “generic oracles” that seem powerful but that I don’t understand.&lt;&#x2F;p&gt;
&lt;p&gt;The trouble is, Fortnow and Rogers’s construction was extremely tailored to making P&#x3D;BQP.  It didn’t even make PromiseBPP&#x3D;PromiseBQP (that is, it allowed that quantum computers might still be stronger than classical ones for &lt;em&gt;promise problems&lt;&#x2F;em&gt;), let alone did it collapse quantum with classical for sampling problems.&lt;&#x2F;p&gt;
&lt;p&gt;We can organize the various quantum&#x2F;classical collapse possibilities as follows:&lt;&#x2F;p&gt;
&lt;p&gt;ExactSampBPP &#x3D; ExactSampBQP&lt;br &#x2F;&gt;
⇓&lt;br &#x2F;&gt;
ApproxSampBPP &#x3D; ApproxSampBQP   ⇔   FBPP &#x3D; FBQP&lt;br &#x2F;&gt;
⇓&lt;br &#x2F;&gt;
PromiseBPP &#x3D; PromiseBQP&lt;br &#x2F;&gt;
⇓&lt;br &#x2F;&gt;
BPP &#x3D; BQP&lt;&#x2F;p&gt;
&lt;p&gt;Here FBPP is the class of &lt;em&gt;relation problems&lt;&#x2F;em&gt; solvable in randomized polynomial time—that is, problems where given an input x∈{0,1}n and a parameter ε&amp;gt;0, the goal is to produce any output in a certain set Sx, with success probability at least 1-ε, in time polynomial in n and 1&#x2F;ε.  FBQP is the same thing except for quantum polynomial time.&lt;&#x2F;p&gt;
&lt;p&gt;The equivalence between the two equalities ApproxSampBPP &#x3D; ApproxSampBQP and FBPP&#x3D;FBQP is not obvious, and was the main result in my 2011 paper &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.scottaaronson.com&#x2F;papers&#x2F;samprel.pdf&quot;&gt;The Equivalence of Sampling and Searching&lt;&#x2F;a&gt;.  While it’s easy to see that ApproxSampBPP &#x3D; ApproxSampBQP implies FBPP&#x3D;FBQP, the opposite direction requires us to take an arbitrary sampling problem S, and define a relation problem RS that has “essentially the same difficulty” as S (in the sense that RS has an efficient classical algorithm iff S does, RS has an efficient quantum algorithm iff S does, etc).  This, in turn, we do using Kolmogorov complexity: basically, RS asks us to output a tuple of samples that have large probabilities according to the requisite probability distribution from the sampling problem; and that also, conditioned on that, are close to algorithmically random.  The key observation is that, if a probabilistic Turing machine of fixed size can solve that relation problem for arbitrarily large inputs, then it &lt;em&gt;must&lt;&#x2F;em&gt; be doing so by sampling from a probability distribution close in variation distance to D—since any other approach would lead to outputs that were algorithmically compressible.&lt;&#x2F;p&gt;
&lt;p&gt;Be that as it may, staring at the chain of implications above, a natural question is which equalities in the chain collapse the polynomial hierarchy in a relativizing way, and which equalities collapse PH (if they do) only for deeper, non-relativizing reasons.&lt;&#x2F;p&gt;
&lt;p&gt;This is one of the questions that Lijie Chen and I took up, and settled, in our paper &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.scottaaronson.com&#x2F;papers&#x2F;quantumsupre.pdf&quot;&gt;Complexity-Theoretic Foundations of Quantum Supremacy Experiments&lt;&#x2F;a&gt;, which was presented at this summer’s Computational Complexity Conference (CCC) in Riga.  The “main” results in our paper—or at least, the results that the physicists care about—were about how confident we can be in the classical hardness of simulating quantum sampling experiments with random circuits, such as the experiments that the Google group will hopefully be able to do with its 49-qubit device in the near future.  This involved coming up with a new hardness assumption, which was tailored to those sorts of experiments, and giving a reduction from that new assumption, and studying how far existing algorithms come toward breaking the new assumption (tl;dr: not very far).&lt;&#x2F;p&gt;
&lt;p&gt;But our paper also had what I think of as a “back end,” containing results mainly of interest to complexity theorists, about what kinds of quantum supremacy theorems we can and can’t hope for in principle.  When I’m giving talks about our paper to physicists, I never have time to get to this back end—it’s always just “blah, blah, we also did some stuff involving structural complexity and oracles.”  But given that a large fraction of all the people on earth who enjoy those things are probably right here in this room, in the rest of this talk, I’d like to tell you about what was in the back end.&lt;&#x2F;p&gt;
&lt;p&gt;The first thing there was the following result.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Theorem 4 (A.-Chen).&lt;&#x2F;strong&gt;  There exists an oracle relative to which ApproxSampBPP &#x3D; ApproxSampBQP and yet PH is infinite. In other words, any proof of the Strong Quantum Supremacy Conjecture will require non-relativizing techniques.&lt;&#x2F;p&gt;
&lt;p&gt;Theorem 4 represents a substantial generalization of Fortnow and Rogers’s Theorem 3, in that it makes quantum and classical equivalent not only for promise problems, but even for approximate sampling problems.  There’s also a sense in which Theorem 4 is the best possible: as we already saw, there are no oracles relative to which ExactSampBPP &#x3D; ExactSampBQP and yet PH is infinite, because the opposite conclusion relativizes.&lt;&#x2F;p&gt;
&lt;p&gt;So how did we prove Theorem 4?  Well, we learned at this workshop that Stuart Kurtz pioneered the development of principled ways to prove oracle results just like this one, with multiple “nearly conflicting” requirements.  But, because we didn’t know that at the time, we basically just plunged in and built the oracle we wanted by hand!&lt;&#x2F;p&gt;
&lt;p&gt;In more detail, you can think of our oracle construction as proceeding in three steps.&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;We throw in an oracle for a PSPACE-complete problem.  This collapses ApproxSampBPP with ApproxSampBQP, which is what we want.  Unfortunately, it also collapses the polynomial hierarchy down to P, which is &lt;em&gt;not&lt;&#x2F;em&gt; what we want!&lt;&#x2F;li&gt;
&lt;li&gt;So then we need to add in a second part of the oracle that makes PH infinite again.  From Håstad’s seminal work in the 1980s until recently, even if we just wanted any oracle that makes PH infinite, without doing anything else at the same time, we only knew how to achieve that with quite special oracles.  But in their 2015 breakthrough, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1504.03398&quot;&gt;Rossman, Servedio, and Tan&lt;&#x2F;a&gt; have shown that even a &lt;em&gt;random&lt;&#x2F;em&gt; oracle makes PH infinite with probability 1.  So for simplicity, we might as well take this second part of the oracle to be random.  The “only” problem is that, along with making PH infinite, a random oracle will &lt;em&gt;also&lt;&#x2F;em&gt; re-separate ApproxSampBPP and ApproxSampBQP (and for that matter, even ExactSampBPP and ExactSampBQP)—for example, because of the Fourier sampling task performed by the quantum circuit I showed you earlier!  So we once again seem back where we started.&lt;br &#x2F;&gt;
(To ward off confusion: ever since Fortnow and Rogers posed the problem in 1998, it remains frustratingly open whether BPP and BQP can be separated by a random oracle—that’s a problem that I and others have worked on, making &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.scottaaronson.com&#x2F;papers&#x2F;struc.pdf&quot;&gt;partial progress&lt;&#x2F;a&gt; that makes a query complexity separation look unlikely without definitively ruling one out.  But separating the &lt;em&gt;sampling&lt;&#x2F;em&gt; versions of BPP and BQP by a random oracle is much, much easier.)&lt;&#x2F;li&gt;
&lt;li&gt;So, finally, we need to take the random oracle that makes PH infinite, and “scatter its bits around randomly” in such a way that a PH machine can still find the bits, but an ApproxSampBQP machine can’t.  In other words: given our initial random oracle A, we can make a new oracle B such that B(y,r)&#x3D;(1,A(y)) if r is equal to a single randomly-chosen “password” ry, depending on the query y, and B(y,r)&#x3D;(0,0) otherwise.  In that case, it takes just one more existential quantifier to guess the password ry, so PH can do it, but a quantum algorithm is stuck, basically because the linearity of quantum mechanics makes the algorithm not very sensitive to tiny random changes to the oracle string (i.e., the same reason why Grover’s algorithm can’t be arbitrarily sped up).  Incidentally, the reason why the password ry needs to depend on the query y is that otherwise the input x to the quantum algorithm could hardcode a password, and thereby reveal exponentially many bits of the random oracle A.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;We should now check: why does the above oracle “only” collapse ApproxSampBPP and ApproxSampBQP?  Why doesn’t it also collapse ExactSampBPP and ExactSampBQP—as we know that it can’t, by our previous argument?  The answer is: because a quantum algorithm &lt;em&gt;does&lt;&#x2F;em&gt; have an exponentially small probability of correctly guessing a given password ry.  And that’s enough to make the distribution sampled by the quantum algorithm differ, by 1&#x2F;exp(n) in variation distance, from the distribution sampled by any efficient classical simulation of the algorithm—an error that doesn’t matter for approximate sampling, but &lt;em&gt;does&lt;&#x2F;em&gt; matter for exact sampling.&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, it’s then just like seven pages of formalizing the above intuitions and you’re done!&lt;&#x2F;p&gt;
&lt;p&gt;OK, since there seems to be time, I’d like to tell you about &lt;em&gt;one more&lt;&#x2F;em&gt; result from the back end of my and Lijie’s paper.&lt;&#x2F;p&gt;
&lt;p&gt;If we can work relative to whatever oracle A we like, then it’s easy to get quantum supremacy, and indeed BPPA≠BQPA.  We can, for example, use Simon’s problem, or Shor’s period-finding problem, or &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.scottaaronson.com&#x2F;papers&#x2F;for.pdf&quot;&gt;Forrelation&lt;&#x2F;a&gt;, or other choices of black-box problems that admit huge, provable quantum speedups.  In the unrelativized world, by contrast, it’s clear that we have to make &lt;em&gt;some&lt;&#x2F;em&gt; complexity assumption for quantum supremacy—even if we just want ExactSampBPP ≠ ExactSampBQP.  For if (say) P&#x3D;P#P, then ExactSampBPP and ExactSampBQP would collapse as well.&lt;&#x2F;p&gt;
&lt;p&gt;Lijie and I were wondering: what happens if we try to “interpolate” between the relativized and unrelativized worlds?  More specifically, what happens if our algorithms are allowed to query a black box, &lt;em&gt;but&lt;&#x2F;em&gt; we’re promised that whatever’s inside the black box is efficiently computable (i.e., has a small circuit)?  How hard is it to separate BPP from BQP, or ApproxSampBPP from ApproxSampBQP, relative to an oracle A that’s constrained to lie in P&#x2F;poly?&lt;&#x2F;p&gt;
&lt;p&gt;Here, we’ll start with a beautiful observation that’s implicit in &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.cs.columbia.edu&#x2F;~rocco&#x2F;Public&#x2F;SG_041291_2.pdf&quot;&gt;2004 work by Servedio and Gortler&lt;&#x2F;a&gt;, as well as &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;eprint.iacr.org&#x2F;2012&#x2F;182.pdf&quot;&gt;2012 work by Mark Zhandry&lt;&#x2F;a&gt;.  In our formulation, this observation is as follows:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Theorem 5.&lt;&#x2F;strong&gt;  Suppose there exist cryptographic one-way functions (even just against classical adversaries).  Then there exists an oracle A∈P&#x2F;poly such that BPPA≠BQPA.&lt;&#x2F;p&gt;
&lt;p&gt;While we still need to make a computational hardness assumption here, to separate quantum from classical computing, the surprise is that the assumption is so much &lt;em&gt;weaker&lt;&#x2F;em&gt; than what we’re used to.  We don’t need to assume the hardness of factoring or discrete log—or for that matter, of &lt;em&gt;any&lt;&#x2F;em&gt; “structured” problem that could be a basis for, e.g., public-key cryptography.  Just a one-way function that’s hard to invert, that’s all!&lt;&#x2F;p&gt;
&lt;p&gt;The intuition here is really simple.  Suppose there’s a one-way function; then it’s well-known, by the HILL and GGM Theorems of classical cryptography, that we can bootstrap it to get a cryptographic &lt;em&gt;pseudorandom function family&lt;&#x2F;em&gt;.  This is a family of polynomial-time computable functions fs:{0,1}n→{0,1}n, parameterized by a secret seed s, such that fs can’t be distinguished from a truly random function f by any polynomial-time algorithm that’s given oracle access to the function and that doesn’t know s.  Then, as our efficiently computable oracle A that separates quantum from classical computing, we take an ensemble of functions like&lt;&#x2F;p&gt;
&lt;p&gt;gs,r(x) &#x3D; fs(x mod r),&lt;&#x2F;p&gt;
&lt;p&gt;where r is an exponentially large integer that serves as a “hidden period,” and s and r are both secrets stored by the oracle that are inaccessible to the algorithm that queries it.&lt;&#x2F;p&gt;
&lt;p&gt;The reasoning is now as follows: certainly there’s an efficient quantum algorithm to find r, or to solve some decision problem involving r, which we can use to define a language that’s in BQPA but not in BPPA.  That algorithm is just Shor’s period-finding algorithm!  (Technically, Shor’s algorithm needs certain assumptions on the starting function fs to work—e.g., it couldn’t be a constant function—but if those assumptions aren’t satisfied, then fs wasn’t pseudorandom anyway.)  On the other hand, suppose there were an efficient classical algorithm to find the period r.  In that case, we have a dilemma on our hands: would the classical algorithm still have worked, had we replaced fs by a &lt;em&gt;truly&lt;&#x2F;em&gt; random function?  If so, then the classical algorithm would violate well-known lower bounds on the classical query complexity of period-finding.  But if not, then by working on pseudorandom functions but not on truly random functions, the algorithm would be &lt;em&gt;distinguishing&lt;&#x2F;em&gt; the two—so fs wouldn’t have been a cryptographic pseudorandom function at all, contrary to assumption!&lt;&#x2F;p&gt;
&lt;p&gt;This all caused Lijie and me to wonder whether Theorem 5 could be strengthened even further, so that it wouldn’t use any complexity assumption at all.  In other words, why couldn’t we just prove &lt;em&gt;unconditionally&lt;&#x2F;em&gt; that there’s an oracle A∈P&#x2F;poly such that BPPA≠BQPA?  By comparison, it’s not hard to see that we can unconditionally construct an oracle A∈P&#x2F;poly such that PA≠NPA.&lt;&#x2F;p&gt;
&lt;p&gt;Alas, with the following theorem, we were able to explain why BPP vs. BQP (and even ApproxSampBPP vs. ApproxSampBQP) are different, and why &lt;em&gt;some&lt;&#x2F;em&gt; computational assumption is still needed to separate quantum from classical, even if we’re working relative to an efficiently computable oracle.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Theorem 6 (A.-Chen).&lt;&#x2F;strong&gt;  Suppose that, in the real world, ApproxSampBPP &#x3D; ApproxSampBQP and NP⊆BPP (granted, these are big assumptions!).  Then ApproxSampBPPA &#x3D; ApproxSampBQPA for all oracles A∈P&#x2F;poly.&lt;&#x2F;p&gt;
&lt;p&gt;Taking the contrapositive, this is saying that you can’t separate ApproxSampBPP from ApproxSampBQP relative to an efficiently computable oracle, without separating &lt;em&gt;some&lt;&#x2F;em&gt; complexity classes in the real world.  This contrasts not only with P vs. NP, but even with ExactSampBPP vs. ExactSampBQP, which &lt;em&gt;can&lt;&#x2F;em&gt; be separated unconditionally relative to efficiently computable oracles.&lt;&#x2F;p&gt;
&lt;p&gt;The proof of Theorem 6 is intuitive and appealing.  Not surprisingly, we’re going to heavily exploit the assumptions ApproxSampBPP &#x3D; ApproxSampBQP and NP⊆BPP.  Let Q be a polynomial-time quantum algorithm that queries an oracle A∈P&#x2F;poly.  Then we need to simulate Q—and in particular, sample close to the same probability distribution over outputs—using a polynomial-time &lt;em&gt;classical&lt;&#x2F;em&gt; algorithm that queries A.&lt;&#x2F;p&gt;
&lt;p&gt;Let&lt;&#x2F;p&gt;
&lt;p&gt;$$ \sum_{x,w} \alpha_{x,w} \left|x,w\right\rangle $$&lt;&#x2F;p&gt;
&lt;p&gt;be the state of Q immediately before its first query to the oracle A, where x is the input to be submitted to the oracle.  Then our first task is to get a bunch of samples from the probability distribution D&#x3D;{|αx,w|2}x,w, or something close to D in variation distance.  But this is easy to do, using the assumption ApproxSampBPP &#x3D; ApproxSampBQP.&lt;&#x2F;p&gt;
&lt;p&gt;Let x1,…,xk be our samples from D, marginalized to the x part.  Then next, our classical algorithm queries A on each of x1,…,xk, getting responses A(x1),…,A(xk).  The next step is to search for a function f∈P&#x2F;poly—or more specifically, a function of whatever &lt;em&gt;fixed&lt;&#x2F;em&gt; polynomial size is relevant—that agrees with A on the sample data, i.e. such that f(xi)&#x3D;A(xi) for all i∈[k].  This is where we’ll use the assumption NP⊆BPP (together, of course, with the fact that at least one such f exists, namely A itself!), to make the task of finding f efficient.  We’ll also appeal to a fundamental fact about the sample complexity of PAC-learning.  The fact is that, if we find a polynomial-size circuit f that agrees with A on a bunch of sample points drawn independently from a distribution, then f will probably agree with A on most further points drawn from the same distribution as well.&lt;&#x2F;p&gt;
&lt;p&gt;So, OK, we then have a pretty good “mock oracle,” f, that we can substitute for the real oracle on the first query that Q makes.  Of course f and A won’t &lt;em&gt;perfectly&lt;&#x2F;em&gt; agree, but the small fraction of disagreements won’t matter much, again because of the linearity of quantum mechanics (i.e., the same thing that prevents us from speeding up Grover’s algorithm arbitrarily).  So we can basically simulate Q’s first query, and now our classical simulation is good to go until Q’s &lt;em&gt;second&lt;&#x2F;em&gt; query!  But now you can see where this is going: we iterate the same approach, and reuse the same assumptions ApproxSampBPP &#x3D; ApproxSampBQP and NP⊆BPP, to find a new “mock oracle” that lets us simulate Q’s second query, and so on until all of Q’s queries have been simulated.&lt;&#x2F;p&gt;
&lt;p&gt;OK, I’ll stop there.  I don’t have a clever conclusion or anything.  Thank you.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://www.scottaaronson.com/blog/?p=3427"/>
    <published>2017-09-01T13:47:12.000Z</published>
  </entry>
  <entry>
    <title>New Online Seminar: Working with Observers (Wednesday, November 8, 2017 4:00 PM ET&#x2F;1:00 PM PT) | Nielsen Norman Group</title>
    <content type="html">&lt;p&gt;&lt;&#x2F;p&gt;&lt;p&gt;Working with users when doing usability testing or other user research involves some real skill. Experienced facilitators will tell you, though, that users are nothing compared to the people behind the glass or on the phone – your observers.&lt;&#x2F;p&gt;

&lt;p&gt;This presentation looks at tips and tricks you can use to make your relationship with your observers as productive, efficient, and positive as possible. These apply whether your observers are in the room with you, in an observation room next door, or on the phone. &lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;&lt;br &#x2F;&gt;&lt;br &#x2F;&gt;&lt;a href&#x3D;&quot;&#x2F;online-seminars&#x2F;working-observers&#x2F;&quot;&gt;See Full Description and Pricing&lt;&#x2F;a&gt;</content>
    <link rel="alternate" href="https://www.nngroup.com/online-seminars/working-observers/"/>
    <published>2017-09-01T13:45:00.000Z</published>
  </entry>
  <entry>
    <title>Weekly update 50 | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;Yep, hit right in the face with a dodgeball. There was blood. But retribution was swiftly mine as I hunted down the kids on the other team. Oh - and I also loaded 711 million records into HIBP.&lt;&#x2F;p&gt;
&lt;p&gt;That&#39;s the real story this week and I wanted to speak in depth about everything from where the data came from to why you can&#39;t get your password out of it to frankly, some of the kinda disappointing comments some people left. This is a very multifaceted issue and I hope I do it justice in the audio here.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;itunes.apple.com&#x2F;au&#x2F;podcast&#x2F;troy-hunts-weekly-update-podcast&#x2F;id1176454699&quot;&gt;iTunes podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;goo.gl&#x2F;app&#x2F;playmusic?ibi&#x3D;com.google.PlayMusic&amp;amp;isi&#x3D;691797987&amp;amp;ius&#x3D;googleplaymusic&amp;amp;link&#x3D;https:&#x2F;&#x2F;play.google.com&#x2F;music&#x2F;m&#x2F;If3tw7npymckucxq4q76762ncny?t%3DTroy_Hunt%27s_Weekly_Update_Podcast&quot;&gt;Google Play Music podcast&lt;&#x2F;a&gt; | &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.omnycontent.com&#x2F;d&#x2F;playlist&#x2F;1439345f-6152-486d-a9c2-a6bf0067f2b7&#x2F;3ba9af7f-3bfb-48fd-aae7-a6bf00689c10&#x2F;fde26e49-9fb8-457d-8f16-a6bf00696676&#x2F;podcast.rss&quot;&gt;RSS podcast&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;

References
&lt;ol&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;appsecday.com&#x2F;schedule&#x2F;training-hack-yourself-first-how-to-go-on-the-cyber-offence&#x2F;&quot;&gt;Last call for my Melbourne workshop!&lt;&#x2F;a&gt; (in fact, it&#39;s the last public workshop of the year so get down there if you&#39;re local)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;have-i-been-pwned-and-spam-lists-of-personal-information&#x2F;&quot;&gt;Here&#39;s why I decided to start loading spam lists into HIBP&lt;&#x2F;a&gt; (I totally get why 85% of people wanted this)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;inside-the-massive-711-million-record-onliner-spambot-dump&#x2F;&quot;&gt;711 &lt;em&gt;million&lt;&#x2F;em&gt; more records are now in HIBP&lt;&#x2F;a&gt; (this is a really interesting incident on many levels)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.symantec.com&#x2F;ready-secure-go&#x2F;bdm-ent&#x2F;?om_ext_cid&#x3D;ws_ad_TROY_DBC-Bulldog_IT-SMB_Speed&quot;&gt;Symantec&#39;s Norton Secured is sponsoring my blog this week&lt;&#x2F;a&gt; (&lt;em&gt;epicly&lt;&#x2F;em&gt; good timing guys, biggest week EVER!)&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/v5ajZ18ZbOA/"/>
    <published>2017-09-01T08:48:30.000Z</published>
  </entry>
  <entry>
    <title>Support This Site! | Ron Jeffries</title>
    <content type="html">If you value what I do, here are some ways you can support my work.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/support/"/>
    <published>2017-09-01T04:00:00.000Z</published>
  </entry>
  <entry>
    <title>Reading List: Drug Lord | Fourmilog - Fourmilab Change Log</title>
    <content type="html">
Casey, Doug and John Hunt.
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;1947449079&#x2F;?tag&#x3D;fourmilabwwwfour&quot; target&#x3D;&quot;Amazon_Fourmilab&quot;&gt;Drug Lord&lt;&#x2F;a&gt;.
Charlottesville, VA: HighGround Books, 2017.
ISBN 978-1-947449-07-7.

This is the second novel in the authors&#39; “High Ground”
series, chronicling the exploits of Charles Knight, an entrepreneur
and adventurer determined to live his life according to his own
moral code, constrained as little as possible by the rules and
regulations of coercive and corrupt governments.  The first
novel, &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fourmilab.ch&#x2F;documents&#x2F;reading_list&#x2F;?book&#x3D;1067&quot; target&#x3D;&quot;_top&quot;&gt;Speculator&lt;&#x2F;a&gt; (&lt;a href&#x3D;&quot;&#x2F;documents&#x2F;reading_list&#x2F;?month&#x3D;2016-10&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;October 2016&lt;&#x2F;a&gt;),
follows Charles&#39;s adventures in Africa as an investor in a
junior gold exploration company which just might have made
the discovery of the century, and in the financial markets as he
seeks to profit from what he&#39;s learned digging into the details.
Charles comes onto the radar of ambitious government agents seeking
to advance their careers by collecting his scalp.
&lt;p&gt;
Charles ends up escaping with his freedom and ethics intact, but
with much of his fortune forfeit.  He decides he&#39;s had enough of
“the land of the free” and sets out on his sailboat
to explore the world and sample the pleasures and opportunities
it holds for one who thinks for himself.
Having survived several attempts on his life and prevented a war
in Africa in the previous novel, seven years later he returns to a
&lt;em&gt;really dangerous&lt;&#x2F;em&gt; place, Washington DC, populated by
the Morlocks of Mordor.
&lt;&#x2F;p&gt;&lt;p&gt;
Charles has an idea for a new business.  The crony capitalism of
the U.S. pharmaceutical-regulatory complex has inflated the price
of widely-used prescription drugs to many times that paid
outside the U.S., where these drugs, whose patents have expired
under legal regimes less easily manipulated than that of the U.S.,
are manufactured in a chemically-identical form by thoroughly
professional generic drug producers.  Charles understands, as fully
as any engineer, that wherever there is nonlinearity the possibility
for gain exists, and when that nonlinearity is the result of the
action of coercive government, the potential profits from circumventing
its grasp on the throat of the free market can be very large,
indeed.
&lt;&#x2F;p&gt;&lt;p&gt;
When Charles&#39;s boat docked in the U.S., he had an undeclared cargo:
a large number of those little blue pills much in demand by men
of a certain age, purchased for pennies from a factory in India through
a cut-out in Africa he met on his previous adventure.  He has the
product, and a supplier able to obtain much more.  Now, all he needs
is distribution.  He must venture into the dark underside of DC to
make the connections that can get the product to the customers, and
persuade potential partners that they can make much more and far more
safely by distributing his products (which don&#39;t fall under the
purview of the Drug Enforcement Agency, and to which local cops not only
don&#39;t pay much attention, but may be potential customers).
&lt;&#x2F;p&gt;&lt;p&gt;
Meanwhile, Charles&#39;s uncle Maurice, who has been managing what was
left of his fortune during his absence, has made an investment in
a start-up pharmaceutical company, Visioryme, whose first product,
VR-210, or Sybillene, is threading its way through the FDA regulatory
gauntlet toward approval for use as an antidepressant.  Sybillene works
through a novel neurochemical pathway, and promises to be an effective
treatment for clinical depression while avoiding the many deleterious
side effects of other drugs.  In fact, Sybillene doesn&#39;t appear to
have any side effects at all—or hardly any—there&#39;s that
one curious thing that happened in animal testing, but not wishing
to commit corporate seppuku, Visioryme hasn&#39;t mentioned it to the
regulators or even their major investor, Charles.
&lt;&#x2F;p&gt;&lt;p&gt;
Charles pursues his two pharmaceutical ventures in parallel: one in the
DC ghetto and Africa; the other in the tidy suburban office park
where Visioryme is headquartered.  The first business begins to
prosper, and Charles must turn his ingenuity to solving the problems
attendant to any burgeoning enterprise: supply, transportation,
relations with competitors (who, in this sector of the economy,
not only are often armed but inclined to shoot first), expanding
the product offerings, growing the distribution channels, and
dealing with all of the money that&#39;s coming in, entirely in cash,
without coming onto the radar of any of the organs of the slavers
and their pervasive snooper-state.
&lt;&#x2F;p&gt;&lt;p&gt;
Meanwhile, Sybillene finally obtains FDA approval, and Visioryme begins
to take off and ramp up production.  Charles&#39;s connections in Africa
help the company obtain the supplies of bamboo required in production
of the drug.  It seems like he now has two successful ventures, on
the dark and light sides, respectively, of the pharmaceutical
business (which is dark and which is light depending on your view
of the FDA).
&lt;&#x2F;p&gt;&lt;p&gt;
Then, curious reports start to come in about doctors prescribing
Sybillene off-label in large doses to their well-heeled
patients.  Off-label prescription is completely legal and not
uncommon, but one wonders what&#39;s going on.  Then there&#39;s the talk
Charles is picking up from his other venture of demand for
a new drug on the street: Sybillene, which goes under names such
as Fey, Vatic, Augur, Covfefe, and most commonly, Naked Emperor.
Charles&#39;s lead distributor reports, “It helps people see
lies for what they are, and liars too.  I dunno.  I never tried
it.  Lots of people are asking though.  Society types.  Lawyers,
businessmen, doctors, even cops.”  It appears that
Sybillene, or Naked Emperor, taken in a high dose, is a powerful
nootropic which doesn&#39;t so much increase intelligence as, the
opposite of most psychoactive drugs, allows the user to think
&lt;em&gt;more clearly&lt;&#x2F;em&gt;, and see through the deception that
pollutes the intellectual landscape of a modern,
“developed”, society.
&lt;&#x2F;p&gt;&lt;p&gt;
In that fœtid city by the Potomac, the threat posed by such
clear thinking dwarfs that of other “controlled
substances” which merely turn their users into zombies.
Those atop an empire built on deceit, deficits, and debt cannot
run the risk of a growing fraction of the population beginning to
see through the funny money, Ponzi financing, Potemkin
military, manipulation of public opinion, erosion of
the natural rights of citizens, and the sham which is replacing
the last vestiges of consensual government.  Perforce, Sybillene must
become Public Enemy Number One, and if a bit of lying and
even murder is required, well, that&#39;s the price of preserving
the government&#39;s ability to lie and murder.
&lt;&#x2F;p&gt;&lt;p&gt;
Suddenly, Charles is involved in &lt;em&gt;two&lt;&#x2F;em&gt; illegal pharmaceutical
ventures.  As any wise entrepreneur would immediately ask himself,
“might there be synergies?”
&lt;&#x2F;p&gt;&lt;p&gt;
Thus begins a compelling, instructive, and inspiring tale of
entrepreneurship and morality confronted with dark forces constrained
by no limits whatsoever.  We encounter friends and foes from the first
novel, as once again Charles finds himself on point position
defending those in the enterprises he has created.  As I said in my
review of Speculator, this book reminds me of
Ayn Rand&#39;s &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.amazon.com&#x2F;dp&#x2F;0451191153&#x2F;?tag&#x3D;fourmilabwwwfour&quot; target&#x3D;&quot;Amazon_Fourmilab&quot;&gt;The Fountainhead&lt;&#x2F;a&gt;,
but it is even more effective because Charles Knight is not a
super-hero but rather a person with a strong sense of right and
wrong who is making up his life as he goes along and learning
from the experiences he has: good and bad, success and failure.
Charles Knight, even without Naked Emperor, has that gift of seeing
things precisely as they are, unobscured by the fog, cant, spin, and
lies which are the principal products of the city in which it is set.
&lt;&#x2F;p&gt;&lt;p&gt;
These novels are not just page-turning thrillers, they&#39;re
simultaneously an introductory course in becoming an international
man (or woman), transcending the lies of the increasingly obsolescent
nation-state, and finding the liberty that comes from seizing control
of one&#39;s own destiny.  They may be the most powerful fictional
recruiting tool for the libertarian and anarcho-capitalist world
view since the works of Ayn Rand and
&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.amazon.com&#x2F;gp&#x2F;search&#x2F;ref&#x3D;sr_adv_b&#x2F;?search-alias&#x3D;stripbooks&amp;amp;unfiltered&#x3D;1&amp;amp;field-author&#x3D;l+neil+smith&amp;amp;sort&#x3D;relevanceexprank&amp;amp;Adv-Srch-Books-Submit.x&#x3D;0&amp;amp;Adv-Srch-Books-Submit.y&#x3D;0&amp;amp;tag&#x3D;fourmilabwwwfour&amp;amp;tag&#x3D;fourmilabwwwfour&quot; target&#x3D;&quot;Amazon_Fourmilab&quot;&gt;L. Neil Smith&lt;&#x2F;a&gt;.
Speculator was my fiction
&lt;a href&#x3D;&quot;&#x2F;fourmilog&#x2F;archives&#x2F;2016-12&#x2F;001651.html&quot; target&#x3D;&quot;Fourmilab_readingListAux&quot;&gt;book of the year&lt;&#x2F;a&gt;
for 2016, and this sequel is in the running for 2017.
&lt;&#x2F;p&gt;
</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-08/001708.html"/>
    <published>2017-08-31T22:20:23.000Z</published>
  </entry>
  <entry>
    <title>The world in which IPv6 was a good design | apenwarr</title>
    <content type="html">&lt;p&gt;Last November I went to an IETF meeting for the first time.  The IETF is an
interesting place; it seems to be about 1&#x2F;3 maintenance grunt work, 1&#x2F;3
extending existing stuff, and 1&#x2F;3 blue sky insanity.  I attended mostly
because I wanted to see how people would react to &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;datatracker.ietf.org&#x2F;meeting&#x2F;97&#x2F;materials&#x2F;slides-97-iccrg-bbr-congestion-control&quot;&gt;TCP BBR, which was being
presented there for the first time&lt;&#x2F;a&gt;.  (Answer: mostly positively, but
with suspicion.  It kinda seemed too good to be true.)&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, the IETF meetings contain lots and lots of presentations about IPv6,
the thing that was supposed to replace IPv4, which is what the Internet runs
on.  (Some would say IPv4 is already being replaced; some would say it has
already happened.) Along with those presentations about IPv6, there were
lots of people who think it&#39;s great, the greatest thing ever, and they&#39;re
pretty sure it will finally catch on Any Day Now, and IPv4 is just a giant
pile of hacks that really needs to die so that the Internet can be elegant
again.&lt;&#x2F;p&gt;
&lt;p&gt;I thought this would be a great chance to really try to figure out what was
going on.  Why is IPv6 such a complicated mess compared to IPv4?  Wouldn&#39;t
it be better if it had just been &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;tools.ietf.org&#x2F;html&#x2F;rfc1710&quot;&gt;IPv4 with more address bits&lt;&#x2F;a&gt;?  But it&#39;s not,
oh goodness, is it ever not.  So I started asking around.  Here&#39;s what I found.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Buses ruined everything&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Once upon a time, there was the telephone network, which used physical
circuit switching.  Essentially, that meant moving connectors around so that
your phone connection was literally just a very long wire (&amp;quot;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;OSI_model&quot;&gt;OSI layer&lt;&#x2F;a&gt; 1&amp;quot;).  A
&amp;quot;leased line&amp;quot; was a very long wire that you leased from the phone
company.  You would put bits in one end of the wire, and they&#39;d come out the
other end, a fixed amount of time later.  You didn&#39;t need addresses because
there was exactly one machine at each end.&lt;&#x2F;p&gt;
&lt;p&gt;Eventually the phone company optimized that a bit.  Time-division
multiplexing (TDM) and &amp;quot;virtual circuit switching&amp;quot; was born.  The phone
company could transparently take the bits at a slower bit rate from multiple
lines, group them together with multiplexers and demultiplexers, and let
them pass through the middle of the phone system using fewer wires than
before.  Making that work was a little complicated, but as far as we
modem users were concerned, you still put bits in one end and they
came out the other end.  No addresses needed.&lt;&#x2F;p&gt;
&lt;p&gt;The Internet (not called the Internet at the time) was built on top of these
circuits.  You had a bunch of wires that you could put bits
into and have them come out the other side.  If one computer had two or
three interfaces, then it could, if given the right instructions, forward
bits from one line to another, and you could do something a lot more
efficient than a separate line between each pair of computers.  And so IP
addresses (&amp;quot;layer 3&amp;quot;), subnets, and routing were born.  Even then, with
these point-to-point links, you didn&#39;t need MAC addresses, because once a
packet went into the wire, there was only one place it could come out.  You
used IP addresses to decide where it should go after that.&lt;&#x2F;p&gt;
&lt;p&gt;Meanwhile, LANs got invented as an alternative.  If you wanted to connect
computers (or terminals and a mainframe) together at your local site, it was
pretty inconvenient to need multiple interfaces, one for each wire to each
satellite computer, arranged in a star configuration.  To save on
electronics, people wanted to have a &amp;quot;bus&amp;quot; network (also known as a
&amp;quot;broadcast domain,&amp;quot; a name that will be important later) where multiple
stations could just be plugged into a single wire, and talk to any other
station plugged into the same wire.  These were not the same people as the
ones building the Internet, so they didn&#39;t use IP addresses for this.  They
all invented their own scheme (&amp;quot;layer 2&amp;quot;).&lt;&#x2F;p&gt;
&lt;p&gt;One of the early local bus networks was arcnet, which is dear to my heart (I
wrote the first Linux arcnet driver &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;apenwarr.ca&#x2F;arcnet&#x2F;howto&#x2F;intro.html&quot;&gt;and arcnet poetry&lt;&#x2F;a&gt; way
back in the 1990s, long after arcnet was obsolete).  Arcnet layer 2
addresses were very simplistic: just 8 bits, set by jumpers or DIP switches
on the back of the network card.  As the network owner, it was your job to
configure the addresses and make sure you didn&#39;t have any duplicates, or all
heck would ensue.  This was kind of a pain, but arcnet networks were usually
pretty small, so it was only &lt;i&gt;kind&lt;&#x2F;i&gt; of a pain.&lt;&#x2F;p&gt;
&lt;p&gt;A few years later, ethernet came along and solved that problem once and for
all, by using many more bits (48, in fact) in the layer 2 address.  That&#39;s
enough bits that you can assign a different (sharded-sequential) address to
every device that has ever been manufactured, and not have any overlaps. 
And that&#39;s exactly what they did!  Thus the ethernet MAC address was born.&lt;&#x2F;p&gt;
&lt;p&gt;Various LAN technologies came and went, including one of my favourites, IPX
(Internetwork Packet Exchange, though it had nothing to do with the &amp;quot;real&amp;quot;
Internet) and Netware, which worked great as long as all the clients and
servers were on a single bus network.  You never had to configure any
addresses, ever.  It was beautiful, and reliable, and worked.  The golden
age of networking, basically.&lt;&#x2F;p&gt;
&lt;p&gt;Of course, someone had to ruin it: big company&#x2F;university networks.  They
wanted to have so many computers that sharing 10 Mbps of a single bus
network between them all became a huge bottleneck, so they needed a way to
have multiple buses, and then interconnect - &amp;quot;internetwork,&amp;quot; if you will -
those buses together.  You&#39;re probably thinking, of course! Use the Internet
Protocol for that, right?  Ha ha, no.  The Internet protocol, still not
called that, wasn&#39;t mature or popular back then, and nobody took it
seriously.  Netware-over-IPX (and the many other LAN protocols at the time)
were serious business, so as serious businesses do, they invented their own
thing(s) to extend the already-popular thing, ethernet.  Devices on
ethernet already had addresses, MAC addresses, which were about the only
thing the various LAN protocol people could agree on, so they decided to use
ethernet addresses as the keys for their routing mechanisms.  (Actually they
called it bridging and switching instead of routing.)&lt;&#x2F;p&gt;
&lt;p&gt;The problem with ethernet addresses is they&#39;re assigned sequentially at the
factory, so they can&#39;t be hierarchical.  That means the &amp;quot;bridging table&amp;quot; is
not as nice as a modern IP routing table, which can talk about the route for
a whole subnet at a time.  In order to do efficient bridging, you had to
remember which network bus each MAC address could be found on.  And humans
didn&#39;t want to configure each of those by hand, so it needed to figure
itself out automatically.  If you had a complex internetwork of bridges,
this could get a little complicated.  As I understand it, that&#39;s what led to
the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;etherealmind.com&#x2F;algorhyme-radia-perlman&#x2F;&quot;&gt;spanning tree
poem&lt;&#x2F;a&gt;, and I think I&#39;ll just leave it at that.  Poetry is very important
in networking.&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, it mostly worked, but it was a bit of a mess, and you got broadcast floods
every now and then, and the routes weren&#39;t always optimal, and it was pretty
much impossible to debug.  (You definitely couldn&#39;t write something like
traceroute for bridging, because none of the tools you need to make it work
- such as the ability for an intermediate bridge to even have an address -
exist in plain ethernet.)&lt;&#x2F;p&gt;
&lt;p&gt;On the other hand, all these bridges were hardware-optimized.  The whole
system was invented by hardware people, basically, as a way of fooling the
software, which had no idea about multiple buses and bridging between them,
into working better on large networks.  Hardware bridging means the bridging
could go really really fast - as fast as the ethernet could go.  Nowadays
that doesn&#39;t sound very special, but at the time, it was a big deal. 
Ethernet was 10 Mbps, because you could maybe saturate it by putting a bunch
of computers on the network all at once, not because any one computer could
saturate 10 Mbps.  That was crazy talk.&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, the point is, bridging was a mess, and impossible to debug, but it
was fast.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Internet over buses&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;While all that was happening, those Internet people were getting busy, and
were of course not blind to the invention of cool cheap LAN technologies.  I
think it might have been around this time that the ARPANET got actually
renamed to the Internet, but I&#39;m not sure.  Let&#39;s say it was, because the
story is better if I sound confident.&lt;&#x2F;p&gt;
&lt;p&gt;At some point, things progressed from connecting individual Internet
computers over point-to-point long distance links, to the desire to connect
whole LANs together, over point-to-point links.  Basically, you wanted a
long-distance bridge.&lt;&#x2F;p&gt;
&lt;p&gt;You might be thinking, hey, no big deal, why not just build a long distance
bridge and be done with it?  Sounds good, doesn&#39;t work.  I won&#39;t go into the
details right now, but basically the problem is &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Network_congestion&quot;&gt;congestion
control&lt;&#x2F;a&gt;.  The deep dark secret of ethernet bridging is that it assumes
all your links are about the same speed, and&#x2F;or completely uncongested,
because they have no way to slow down.  You just blast data as fast as you
can, and expect it to arrive.  But when your ethernet is 10 Mbps and your
point-to-point link is 0.128 Mbps, that&#39;s completely hopeless.  Separately,
the idea of figuring out your routes by flooding all the links to see which
one is right - this is the actual way bridging typically works - is hugely
wasteful for slow links.  And sub-optimal routing, an annoyance on local
networks with low latency and high throughput, is nasty on slow, expensive
long-distance links.  It just doesn&#39;t scale.&lt;&#x2F;p&gt;
&lt;p&gt;Luckily, those Internet people (if it was called the Internet yet) had been
working on that exact set of problems.  If we could just use Internet stuff
to connect ethernet buses together, we&#39;d be in great shape.&lt;&#x2F;p&gt;
&lt;p&gt;And so they designed a &amp;quot;frame format&amp;quot; for Internet packets over ethernet
(and arcnet, for that matter, and every other kind of LAN).&lt;&#x2F;p&gt;
&lt;p&gt;And that&#39;s when everything started to go wrong.&lt;&#x2F;p&gt;
&lt;p&gt;The first problem that needed solving was that now, when you put an Internet
packet onto a wire, it was no longer clear which machine was supposed to
&amp;quot;hear&amp;quot; it and maybe forward it along.  If multiple Internet routers were on
the same ethernet segment, you couldn&#39;t have them all picking it up and
trying to forward it; that way lies packet storms and routing loops.  No,
you had to choose &lt;i&gt;which&lt;&#x2F;i&gt; router on the ethernet bus is supposed to
pick it up.  We can&#39;t just use the IP destination field for that, because
we&#39;re already using that for the &lt;i&gt;final&lt;&#x2F;i&gt; destination, not the router
destination.  Instead, we identify the desired router using its MAC address
in the ethernet frame.&lt;&#x2F;p&gt;
&lt;p&gt;So basically, to set up your local IP routing table, you want to be able to
say something like, &amp;quot;send packets to IP address 10.1.1.1 via the router at
MAC address 11:22:33:44:55:66.&amp;quot;  That&#39;s the actual thing you want to
express.  This is important!  Your destination is an IP address, but your
router is a MAC address.  But if you&#39;ve ever configured a routing table, you
might have noticed that nobody writes it like that.  Instead, because the
writers of your operating system&#39;s TCP&#x2F;IP stack are stubborn, you write
something like &amp;quot;send packets to IP address 10.1.1.1 via the router at IP
address 192.168.1.1.&amp;quot;&lt;&#x2F;p&gt;
&lt;p&gt;In truth, that really is just complicating things.  Now your operating
system has to first look up the ethernet address of 192.168.1.1, find out
it&#39;s 11:22:33:44:55:66, and finally generate a packet with destination
ethernet address 11:22:33:44:55:66 and destination IP address 10.1.1.1. 
192.168.1.1 shows up nowhere in the packet; it&#39;s just an abstraction at the
human level.&lt;&#x2F;p&gt;
&lt;p&gt;To do that pointless intermediate step, you need to add ARP (address
resolution protocol), a simple non-IP protocol whose job it is to convert IP
addresses to ethernet addresses.  It does this by broadcasting to everyone
on the local ethernet bus, asking them all to answer if they own that
particular IP address.  If you have bridges, they all have to forward all
the ARP packets to all their interfaces, because they&#39;re ethernet broadcast
packets, and that&#39;s what broadcasting means.  On a big, busy ethernet with
lots of interconnected LANs, excessive broadcasts start becoming one of your
biggest nightmares.  It&#39;s especially bad on wifi.  As time went on, people
started making bridges&#x2F;switches with special hacks to avoid forwarding ARP
as far as it&#39;s technically supposed to go, to try to cut down on this
problem.  Some devices (especially wifi access points) just make fake ARP
answers to try to help.  But doing any of that is a hack, albeit sometimes a
necessary hack.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Death by legacy&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Time passed.  Eventually (and this actually took quite a while), people
pretty much stopped using non-IP protocols on ethernet at all.  So basically
all networks became a physical wire (layer 1), with multiple stations on a
bus (layer 2), with multiple buses connected over bridges (gotcha!  still
layer 2!), and those inter-buses connected over IP routers (layer 3).&lt;&#x2F;p&gt;
&lt;p&gt;After a while, people got tired of manually configuring IP addresses, arcnet
style, and wanted them to auto-configure, ethernet style, except it was too
late to literally do it ethernet style, because a) the devices had already
been manufactured with ethernet addresses, not IP addresses, and b) IP
addresses were only 32 bits, which is not enough to just manufacture them
forever with no overlaps, and c) just assigning IP addresses sequentially
instead of using subnets would bring us back to square one: it would just be
ethernet over again, and we already have ethernet.&lt;&#x2F;p&gt;
&lt;p&gt;So that&#39;s where bootp
and DHCP came from.  Those protocols, by the way, are special kinda like ARP
is special (except they pretend not to be special, by technically being IP
packets).  They have to be special, because an IP node has to be able to
transmit them before it has an IP address, which is of course impossible, so
it just fills the IP headers with essentially nonsense (albeit nonsense
specified by an RFC), so the headers might as well have been left out.  (You
know these &amp;quot;IP&amp;quot; headers are nonsense because the DHCP server has to open a raw
socket and fill them in by hand; the kernel IP layer can&#39;t do it.)  But
nobody would feel nice if they were inventing a whole new protocol that
wasn&#39;t IP, so they pretended it was IP, and then they felt nice.  Well, as
nice as one can feel when one is inventing DHCP.&lt;&#x2F;p&gt;
&lt;p&gt;Anyway, I digress.
The salient detail here is that unlike real IP services, bootp and DHCP need to
know about ethernet addresses, because after all, it&#39;s their job to hear
your ethernet address and assign you an IP address to go with it.  They&#39;re
basically the reverse of ARP, except we can&#39;t say that, because there&#39;s a
protocol called RARP that is literally the reverse of ARP.  Actually, RARP
worked quite fine and did the same thing as bootp and DHCP while being
much simpler, but we don&#39;t talk about that.&lt;&#x2F;p&gt;
&lt;p&gt;The point of all this is that ethernet and IP were getting further and
further intertwined.  They&#39;re nowadays almost inseparable.  It&#39;s hard to
imagine a network interface (except ppp0) without a 48-bit MAC address, and it&#39;s hard to imagine
that network interface working without an IP address.  You write your IP
routing table using IP addresses, but of course you know you&#39;re lying when
you name the router by IP address; you&#39;re just indirectly saying that you
want to route via a MAC address.  And you have ARP, which gets bridged but
not really, and DHCP, which is an IP packet but is really an ethernet
protocol, and so on.&lt;&#x2F;p&gt;
&lt;p&gt;Moreover, we still have both bridging and routing, and they both get more
and more complicated as the LANs and the Internet get more and more
complicated, respectively.  Bridging is still, mostly, hardware based and
defined by IEEE, the people who control the ethernet standards.  Routing is
still, mostly, software based and defined by the IETF, the people who
control the Internet standards.  Both groups still try to pretend the other
group doesn&#39;t exist.  Network operators basically choose bridging vs routing
based on how fast they want it to go and how much they hate configuring DHCP
servers, which they really hate very much, which means they use bridging as
much as possible and routing when they have to.&lt;&#x2F;p&gt;
&lt;p&gt;In fact, bridging has gotten so completely out of control that people
decided to extract the layer 2 bridging decisions out completely to a higher
level (with configuration exchanged between bridges using a protocol layered
over IP, of course!) so it can be centrally managed.  That&#39;s called
software-defined networking (SDN).  It helps a lot, compared to letting your
switches and bridges just do whatever they want, but it&#39;s also fundamentally
silly, because you know what&#39;s software defined networking?  IP.  It is
literally and has always been the software-defined network you use for
interconnecting networks that have gotten too big.  But the problem is, IPv4
was initially too hard to hardware accelerate, and anyway, it didn&#39;t get
hardware accelerated, and configuring DHCP really is a huge pain, so network
operators just learned how to bridge bigger and bigger things.  And nowadays
big data centers are basically just SDNed, and you might as well not be
using IP in the data center at all, because nobody&#39;s routing the packets. 
It&#39;s all just one big virtual bus network.&lt;&#x2F;p&gt;
&lt;p&gt;It is, in short, a mess.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Now forget I said all that...&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Great story, right?  Right.  Now pretend none of that happened, and we&#39;re
back in the early 1990s, when most of that had in fact already happened,
but people at the IETF were anyway pretending that it hadn&#39;t happened and
that the &amp;quot;upcoming&amp;quot; disaster could all be avoided.  This is the good part!&lt;&#x2F;p&gt;
&lt;p&gt;There&#39;s one thing I forgot to mention in that big long story above:
somewhere in that whole chain of events, &lt;b&gt;we completely stopped using bus
networks&lt;&#x2F;b&gt;.  Ethernet is not actually a bus anymore.  It just
&lt;i&gt;pretends&lt;&#x2F;i&gt; to be a bus.  Basically, we couldn&#39;t get ethernet&#39;s famous
&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Carrier-sense_multiple_access_with_collision_detection&quot;&gt;CSMA&#x2F;CD&lt;&#x2F;a&gt;
to keep working as speeds increased, so we went back to the good old star
topology.  We run bundles of cables from the switch, so that we can run one
cable from each station all the way back to the center point.  Walls and
ceilings and floors are filled with big, thick, expensive bundles of
ethernet, because we couldn&#39;t figure out how to make buses work well...  at
layer 1.  It&#39;s kinda funny actually when you think about it.  If you find
sad things funny.&lt;&#x2F;p&gt;
&lt;p&gt;In fact, in a bonus fit of insanity, even wifi - the ultimate bus network,
right, where literally everybody is sharing the same open-air &amp;quot;bus&amp;quot; - we
almost universally use wifi in a mode, called &amp;quot;infrastructure mode,&amp;quot; which
simulates a giant star topology.  If you have two wifi stations
connected to the same access point, they don&#39;t talk to each other directly,
even when they can hear each other just fine. 
They send a packet to the access point, but addressed to the MAC address of
the other node.  The access point then bounces it back out to the
destination node.&lt;&#x2F;p&gt;
&lt;p&gt;HOLD THE HORSES LET ME JUST REVIEW THAT FOR YOU.  There&#39;s a little catch
there.  When node X wants to send to Internet node Z, via IP router Y, via
wifi access point A, what does the packet look like?  Just to draw a
picture, here&#39;s what we want to happen:&lt;&#x2F;p&gt;
&lt;pre&gt;&lt;code&gt;X -&amp;gt; [wifi] -&amp;gt; A -&amp;gt; [wifi] -&amp;gt; Y -&amp;gt; [internet] -&amp;gt; Z
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Z is the IP destination, so obviously the IP destination field has to be Z. 
Y is the router, which we learned above that we specify by using its
ethernet MAC address in the ethernet destination field.  But in wifi, X
can&#39;t just send out a packet to Y, for various reasons (including that they
don&#39;t know each other&#39;s WPA2 encryption keys).  We have to send to A.  Where do
we put A&#39;s address, you might ask?&lt;&#x2F;p&gt;
&lt;p&gt;No problem!  802.11 has a thing called 3-address mode.  They add a &lt;em&gt;third&lt;&#x2F;em&gt;
ethernet MAC address to every frame, so they can talk about the real
ethernet destination, and the intermediate ethernet destination.  On top of
that, there are bit fields called &amp;quot;to-AP&amp;quot; and &amp;quot;from-AP,&amp;quot; which tell you if
the packet is going from a station to an AP, or from an AP to a station,
respectively.  But actually they can both be true at the same time, because
that&#39;s how you make wifi repeaters (APs send packets to APs).&lt;&#x2F;p&gt;
&lt;p&gt;Speaking of wifi repeaters!  If A is a repeater, it has to send back to the
base station, B, along the way, which looks like this:&lt;&#x2F;p&gt;
&lt;pre&gt;&lt;code&gt;X -&amp;gt; [wifi] -&amp;gt; A -&amp;gt; [wifi-repeater] -&amp;gt; B -&amp;gt; [wifi] -&amp;gt; Y -&amp;gt; [internet] -&amp;gt; Z
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;X-&amp;gt;A uses three-address mode, but A-&amp;gt;B has a problem: the ethernet source
address is X, and the ethernet destination address is Y, but the packet on
the air is actually being sent from A to B; X and Y aren&#39;t involved at all. 
Suffice it to say that there&#39;s a thing called 4-address mode, and it works
pretty much like you think.&lt;&#x2F;p&gt;
&lt;p&gt;(In 802.11s mesh networks, there&#39;s a 6-address mode, and that&#39;s about where
I gave up trying to understand.)&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Avery, I was promised IPv6, and you haven&#39;t even mentioned IPv6&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Oh, oops. This post went a bit off the rails, didn&#39;t it?&lt;&#x2F;p&gt;
&lt;p&gt;Here&#39;s the point of the whole thing.  The IETF people, when they were
thinking about IPv6, saw this mess getting made - and maybe predicted some
of the additional mess that would happen, though I doubt they could have
predicted SDN and wifi repeater modes - and they said, hey wait a minute,
stop right there.  We don&#39;t need any of this crap!  What if instead the
world worked like this?&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;No more physical bus networks (already done!)&lt;&#x2F;li&gt;
&lt;li&gt;No more layer 2 internetworks (that&#39;s what layer 3 is for)&lt;&#x2F;li&gt;
&lt;li&gt;No more broadcasts (layer 2 is always point-to-point, so where would you
   send the broadcast to?  replace it with multicast instead)&lt;&#x2F;li&gt;
&lt;li&gt;No more MAC addresses (on a point-to-point network, it&#39;s obvious who the
   sender and receiver are, and you can do multicast using IP addresses)&lt;&#x2F;li&gt;
&lt;li&gt;No more ARP and DHCP (no MAC addresses, no so mapping IP addresses to MAC
   addresses)&lt;&#x2F;li&gt;
&lt;li&gt;No more complexity in IP headers (so you can hardware accelerate IP
   routing)&lt;&#x2F;li&gt;
&lt;li&gt;No more IP address shortages (so we can go back to routing big subnets
   again)&lt;&#x2F;li&gt;
&lt;li&gt;No more manual IP address configuration except at the core (and there are
   so many IP addresses that we can recursively hand out subnets down the
   tree from there)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Imagine that we lived in such a world: wifi repeaters would just be IPv6
routers.  So would wifi access points.  So would ethernet switches.  So
would SDN.  ARP storms would be gone.  &amp;quot;IGMP snooping bridges&amp;quot; would be
gone.  Bridging loops would be gone.  Every routing problem would be
traceroute-able.  And best of all, we could drop 12 bytes (source&#x2F;dest ethernet
addresses) from every ethernet packet, and 18 bytes (source&#x2F;dest&#x2F;AP
addresses) from every wifi packet.  Sure, IPv6 adds an extra 24 bytes of
address (vs IPv4), but you&#39;re dropping 12 bytes of ethernet, so the added
overhead is only 12 bytes - pretty comparable to using two 64-bit IP addresses
but having to keep the ethernet header.  The idea that we could someday drop
ethernet addresses helped to justify the oversized IPv6 addresses.&lt;&#x2F;p&gt;
&lt;p&gt;It would have been beautiful.  Except for one problem: it never happened.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Requiem for a dream&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;One person at work put it best: &amp;quot;layers are only ever added, never removed.&amp;quot;&lt;&#x2F;p&gt;
&lt;p&gt;All this wonderfulness depended on the ability to start over and throw away
the legacy cruft we had built up.  And that is, unfortunately, pretty much
impossible.  Even if IPv6 hits 99% penetration, that doesn&#39;t mean we&#39;ll be
rid of IPv4.  And if we&#39;re not rid of IPv4, we won&#39;t be rid of ethernet
addresses, or wifi addresses.  And if we have to keep the IEEE 802.3 and
802.11 framing standards, we&#39;re never going to save those bytes.  So we will
always need the &amp;quot;IPv6 neighbour discovery&amp;quot; protocol, which is just a
more complicated ARP.  Even though we no longer have bus networks, we&#39;ll
always need some kind of simulator for broadcasts, because that&#39;s how ARP
works.  We&#39;ll need to keep running a local DHCP server at home so that our
obsolete IPv4 light bulbs keep working.  We&#39;ll keep needing NAT so that our
obsolete IPv4 light bulbs can keep reaching the Internet.&lt;&#x2F;p&gt;
&lt;p&gt;And that&#39;s not the worst of it. The worst of it is we still need the
infinite abomination that is layer 2 bridging, because of one more mistake
the IPv6 team &lt;i&gt;forgot to fix&lt;&#x2F;i&gt;.  Unfortunately, while they were
blue-skying IPv6 back in the 1990s, they neglected to solve the &amp;quot;mobile IP&amp;quot;
problem.  As I understand it, the idea was to get IPv6 deployed first - it
should only take a few years - and then work on it after IPv4 and MAC
addresses had been eliminated, at which time it should be much easier to
solve, and meanwhile, nobody really has a &amp;quot;mobile IP&amp;quot; device yet anyway.  I
mean, what would that even mean, like carrying your laptop around and
plugging into a series of one ethernet port after another while you ftp a
file?  Sounds dumb.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;The killer app: mobile IP&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Of course, with a couple more decades of history behind us, now we know a
few use cases for carrying around a computer - your phone - and letting it
plug into one &lt;strike&gt;ethernet port&lt;&#x2F;strike&gt; wireless access point
after another.  We do it all the time.  And with LTE, it even mostly works! 
With wifi, it works sometimes.  Good, right?&lt;&#x2F;p&gt;
&lt;p&gt;Not really, because of the Internet&#39;s secret shame: all that stuff only
works because of layer 2 bridging.  Internet routing can&#39;t handle mobility -
at all.  If you move around on an IP network, your IP address changes, and
that breaks any connections you have open.&lt;&#x2F;p&gt;
&lt;p&gt;Corporate wifi networks fake it for you, bridging their whole LAN together
at layer 2, so that the giant central DHCP server always hands you the same
IP address no matter which corporate wifi access point you join, and then
gets your packets to you, with at most a few seconds of confusion while the
bridge reconfigures.  Those newfangled home wifi systems with multiple
extenders&#x2F;repeaters do the same trick.  But if you switch from one wifi network to
another as you walk down the street - like if there&#39;s a &amp;quot;Public Wifi&amp;quot;
service in a series of stores - well, too bad.  Each of those gives you a
new IP address, and each time your IP address changes, you kill all your
connections.&lt;&#x2F;p&gt;
&lt;p&gt;LTE tries even harder.  You keep your IP address (usually an IPv6 address in
the case of mobile networks), even if you travel miles and miles and hop
between numerous cell towers.  How?  Well... they typically just tunnel all
your traffic back to a central location, where it all gets bridged together
(albeit with lots of firewalling) into one super-gigantic virtual layer 2
LAN.  And your connections keep going.  At the expense of a ton of
complexity, and a truly embarrassing amount of extra latency, which they
would really like to fix, but it&#39;s almost impossible.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Making mobile IP actually work1&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;p&gt;So okay, this has been a long story, but I managed to extract it from those
IETF people eventually.  When we got to this point - the problem of mobile
IP - I couldn&#39;t help but ask.  What went wrong?  Why can&#39;t we make it work?&lt;&#x2F;p&gt;
&lt;p&gt;The answer, it turns out, is surprisingly simple.  The great design flaw was
in how the famous &amp;quot;4-tuple&amp;quot; (source ip, source port, destination ip,
destination port) was defined.  We use the 4-tuple to identify a given TCP
or UDP session; if a packet has those four fields the same, then it belongs
to a given session, and we can deliver it to whatever socket is handling that
session.  But the 4-tuple crosses two layers: internetwork (layer 3) and
transport (layer 4).  If, instead, we had identified sessions using
&lt;i&gt;only&lt;&#x2F;i&gt; layer 4 data, then mobile IP would have worked perfectly.&lt;&#x2F;p&gt;
&lt;p&gt;Let&#39;s do a quick example.  X port 1111 is talking to Y port 80, so it sends
a packet with 4-tuple (X,1111,Y,80).  The response comes back with
(Y,80,X,1111), and the kernel delivers it to the socket that generated the
original packet.  When X sends more packets tagged (X,1111,Y,80), then Y
delivers them all to the same server socket, and so on.&lt;&#x2F;p&gt;
&lt;p&gt;Then, if X hops IP addresses, it gets a new name, say Q.  Now it&#39;ll start
sending packets with (Q,1111,Y,80).  Y has no idea what that means, and
throws it away.  Meanwhile, if Y sends packets tagged (Y,80,X,1111), they
get lost, because there is no longer an X to receive them.&lt;&#x2F;p&gt;
&lt;p&gt;Imagine now that we tagged sockets without reference to their IP address. 
For that to work, we&#39;d need much bigger port numbers (which are currently 16
bits).  Let&#39;s make them, say, 128 or 256 bits, some kind of unique hash.&lt;&#x2F;p&gt;
&lt;p&gt;Now X sends out packets to Y with tag (uuid,80).  Note, the packets
themselves still contain the (X,Y) addressing information, down at layer 3
- that&#39;s how they get routed to the right machine in the first place. 
But the kernel doesn&#39;t &lt;i&gt;use&lt;&#x2F;i&gt; the layer 3 information to decide which
socket to deliver to; it just uses the uuid.  The destination port (80 in
this case) is only needed to initiate a new session, to identify what
service you want to connect to, and can be ignored or left out after that.&lt;&#x2F;p&gt;
&lt;p&gt;For the return direction, Y&#39;s kernel caches the fact that packets for (uuid)
go to IP address X, which is the address it most recently received (uuid)
packets from.&lt;&#x2F;p&gt;
&lt;p&gt;Now imagine that X changes addresses to Q.  It still sends out packets
tagged with (uuid,80), to IP address Y, but now those packets come
from address Q.  On machine
Y, it receives the packet and matches it to the socket associated with
(uuid), notes that the packets for that socket are now coming from address
Q, and updates its cache.  Its return packets can now be sent, tagged as
(uuid), back to Q instead of X.  Everything works! (Modulo some care
to prevent connection hijacking by impostors.2)&lt;&#x2F;p&gt;
&lt;p&gt;There&#39;s only one catch: that&#39;s not how UDP and TCP work, and it&#39;s too late
to update them.  Updating UDP and TCP would be like updating IPv4 to IPv6; a
project that sounded simple, back in the 1990s, but decades later, is less
than half accomplished (and the first half was the easy part; the long tail
is much harder).&lt;&#x2F;p&gt;
&lt;p&gt;The positive news is we may be able to hack around it with yet another
layering violation.  If we throw away TCP - it&#39;s getting rather old anyway -
and instead use QUIC over UDP, then we can just stop using the UDP 4-tuple
as a connection identifier at all.  Instead, if the UDP port number is
the &amp;quot;special mobility layer&amp;quot; port, we unwrap the content, which can be
another packet with a proper uuid tag, match it to the right session, and
deliver those packets to the right socket.&lt;&#x2F;p&gt;
&lt;p&gt;There&#39;s even more good news: the experimental QUIC protocol already, at
least in theory, has the right packet structure to work like this.  It turns
out you need unique session identifiers (keys) anyhow if you want to use stateless
packet encryption and authentication, which QUIC does.  So, perhaps with not
much work, QUIC could support transparent roaming.  What a world that would
be!&lt;&#x2F;p&gt;
&lt;p&gt;At that point, all we&#39;d have to do is eliminate all remaining UDP and TCP
from the Internet, and then we would definitely not need layer 2
bridging anymore, for real this time, and then we could get rid of
broadcasts and MAC addresses and SDN and DHCP and all that stuff.&lt;&#x2F;p&gt;
&lt;p&gt;And then the Internet would be elegant again.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;1 Edit 2017-08-16:&lt;&#x2F;b&gt; It turns out that nothing in this
section requires IPv6.  It would work fine with IPv4 and NAT, even roaming
across multiple NATs.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;2 Edit 2017-08-15:&lt;&#x2F;b&gt; Some people asked what &amp;quot;some care to
prevent connection hijacking&amp;quot; might look like.  There are various ways to do
it, but the simplest would be to do something like the SYN-ACK-SYNACK
exchange TCP does at connection startup.  If Y just trusts the first packet
from the new host Q, then it&#39;s too easy for any attacker to take over the
X-&amp;gt;Y connection by simply sending a packet to Y from anywhere on the
Internet.  (Although it&#39;s a bit hard to guess which 256-bit uuid to fill
in.) But if Y sends back a cookie that Q must receive and process and send
back to Y, that ensures that Q is at least a man-in-the-middle and not just
an outside attacker (which is all TCP would guarantee anyway).  If you&#39;re
using an encrypted protocol (like QUIC), the handshake can also be protected
by your session key.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://apenwarr.ca/log/?m=201708#10"/>
    <published>2017-08-31T18:33:24.000Z</published>
  </entry>
  <entry>
    <title>A New bradfrost.com! | Brad Frost</title>
    <content type="html">&lt;p&gt;So after a good many years (cobbler’s children and all that), bradfrost.com has finally gotten a facelift! This makes the 8th redesign of the site (although a few redesigns have been relatively minor).&lt;&#x2F;p&gt;
&lt;p&gt;Here’s what I’m excited about with the new redesign:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;I pulled out the design into &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;patternlab.io&quot;&gt;Pattern Lab&lt;&#x2F;a&gt; where I was able to actually design the UI in a proper &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;the-workshop-and-the-storefront&#x2F;&quot;&gt;workshop,&lt;&#x2F;a&gt; rather than tripping over WordPress’s loops and garbled theme code. I’m still in the process of cleaning everything up, but if you’re interested in looking at my pattern lab, you can &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;pl.bradfrost.com&#x2F;?p&#x3D;pages-homepage&quot;&gt;see it here&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;I’ve cleaned up almost a decade’s worth of WordPress crap. This is still a work in progress, but I used the fantastic &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.advancedcustomfields.com&#x2F;&quot;&gt;Advanced Custom Fields&lt;&#x2F;a&gt; to put structured content in place.&lt;&#x2F;li&gt;
&lt;li&gt;After years of building upon shaky ground, I burned down my entire CSS and rebuilt it using the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;css-architecture-for-design-systems&#x2F;&quot;&gt;architecture I’ve used to build giant design systems&lt;&#x2F;a&gt;. I’m excited about this because now that I have a system in place, I’ll likely be able to tweak or redesign the site’s aesthetics more efficiently from here on out.&lt;&#x2F;li&gt;
&lt;li&gt;I have homes for a lot of my content that wasn’t ever there before. I have a page that describes the different kinds of &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;work&quot;&gt;work&lt;&#x2F;a&gt; I do. I have a page for all the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;projects&#x2F;&quot;&gt;side projects &amp;amp; collaborations&lt;&#x2F;a&gt; I’ve been fortunate to work on. I have an updated &lt;a href&#x3D;&quot;&#x2F;&quot;&gt;portfolio&lt;&#x2F;a&gt; where I talk about the kind of front-end design work I do. I even have &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;music&#x2F;&quot;&gt;music&lt;&#x2F;a&gt; and &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;art&#x2F;&quot;&gt;art&lt;&#x2F;a&gt; pages up.&lt;&#x2F;li&gt;
&lt;li&gt;I’ve cleaned up my &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;&quot;&gt;blog&lt;&#x2F;a&gt; so that it’s easier for me to post things and share links. I’m doubling down on owning my own content, so I’m excited to have a less-crusty home for it all.&lt;&#x2F;li&gt;
&lt;li&gt;It’s fun! In a world where even sites that aren’t Medium dot com are looking like Medium dot com, I’m excited to try something different. I know some people won’t like that, but whatever. I think we need a bit of fun.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;I was just at a conference with the amazing &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;cameronmoll.com&#x2F;&quot;&gt;Cameron Moll&lt;&#x2F;a&gt;, and his advice was:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;Perfection never ships. Cameron Moll&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;So it’s in that spirit that I’m launching this. I know there’s at least a hundred things that are broken or incomplete, but thankfully this is my website so I can do whatever the hell I want. I’ll be cleaning things up over the coming weeks, but in the meantime, I hope  you enjoy the new design. Thanks!&lt;&#x2F;p&gt;
&lt;p&gt;Old design:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;New design:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/post/a-new-bradfrost-com/"/>
    <published>2017-08-31T17:49:12.000Z</published>
  </entry>
  <entry>
    <title>A Cat Is Not An iPhone | Brad Frost</title>
    <content type="html">&lt;blockquote&gt;&lt;p&gt;A brief note on opinion: If you look at a cat and say, “In my opinion that’s an iPhone” that’s not an opinion that’s just you being wrong.&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;This is a great point. It seems like something this commonsensical doesn’t need to be said, but unfortunately it does.&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;So now an objective fact is treated nationally as a subjective question because a few stubborn, ignorant assholes formed a consensus.&lt;&#x2F;p&gt;&lt;&#x2F;blockquote&gt;
&lt;p&gt;I’d add to the list of “stubborn, ignorant assholes” the unscrupulous people who stand to retain&#x2F;gain their power&#x2F;fortune based on undermining objective facts.&lt;&#x2F;p&gt;
&lt;p&gt;Also, it feels weird linking to a Twitter thread, but I guess that’s life now.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/link/a-cat-is-not-an-iphone/"/>
    <published>2017-08-31T14:48:02.000Z</published>
  </entry>
  <entry>
    <title>3 Ways to Stop Designing for Addiction | Brad Frost</title>
    <content type="html">&lt;p&gt;There’s some really smart stuff in this post. Pamela recommends some actionable things we designers can do to better ensure our creations don’t harm people. Ultimately this comes down to actively thinking about this stuff, so seeing articles like this address the problem is important.&lt;&#x2F;p&gt;
&lt;p&gt;I’ve been struggling with a lot of the addictive aspects of technology (see &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;link&#x2F;what-is-technology-doing-to-us&#x2F;&quot;&gt;this link&lt;&#x2F;a&gt; for more great thoughts on this), and have been taking steps to make my own social media world a bit &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;calmtech.com&#x2F;&quot;&gt;calmer&lt;&#x2F;a&gt;. I uninstalled Facebook on my phone, and have been grooming Twitter in an attempt to reclaim it as a tool that helps me in my professional life, but doesn’t &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;bradfrost.com&#x2F;blog&#x2F;post&#x2F;dont-shit-where-you-eat&#x2F;&quot;&gt;drown me in everything all the time&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://bradfrost.com/blog/link/3-ways-to-stop-designing-for-addiction/"/>
    <published>2017-08-30T16:40:38.000Z</published>
  </entry>
  <entry>
    <title>Why I&#39;m ditching Clojure for JavaScript | Steven Degutis</title>
    <content type="html">For the past 5 years I&#39;ve worked full time on writing CleanCoders.com, a Clojure
web app I wrote from scratch. For a while I agreed with Bob that the language of
the future is probably going to be som...</content>
    <link rel="alternate" href="https://sdegutis.com/blog/2017-08-30-why-im-ditching-clojure-for-javascript"/>
    <published>2017-08-30T00:00:00.000Z</published>
  </entry>
  <entry>
    <title>Inside the Massive 711 Million Record Onliner Spambot Dump | Troy Hunt</title>
    <content type="html">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.goldsecurity.com&#x2F;&quot;&gt;&lt;strong&gt;Presently sponsored by:&lt;&#x2F;strong&gt; Do you desire peace of mind? The hackers don&#39;t wait, secure your website and mobile apps with Gold Security today.&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;&lt;div&gt;&lt;p&gt;Last week I was contacted by someone alerting me to the presence of a spam list. A big one. That&#39;s a bit of a relative term though because whilst &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;have-i-been-pwned-and-spam-lists-of-personal-information&#x2F;&quot;&gt;I&#39;ve loaded &amp;quot;big&amp;quot; spam lists into Have I been pwned (HIBP) before&lt;&#x2F;a&gt;, the largest to date has been a mere 393m records and &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;PwnedWebsites#RiverCityMedia&quot;&gt;belonged to River City Media&lt;&#x2F;a&gt;. The one I&#39;m writing about today is 711m records which makes it the largest single set of data I&#39;ve ever loaded into HIBP. Just for a sense of scale, that&#39;s almost one address for every single man, woman and child in all of Europe. This blog posts explains everything I know about it.&lt;&#x2F;p&gt;
&lt;p&gt;Firstly, the guy who contacted me is &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;benkow_&quot;&gt;Benkow moʞuƎq&lt;&#x2F;a&gt; and he&#39;s done some really interesting malware and spambot analysis in the past. During our communication over the last week, I had a read of his piece on &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;benkowlab.blogspot.com.au&#x2F;2017&#x2F;02&#x2F;spambot-safari-2-online-mail-system.html&quot;&gt;Spambot safari #2 - Online Mail System&lt;&#x2F;a&gt; which is a good example of the sort of work he&#39;s been doing (it&#39;s also a good example of how dodgy some of this spammer code is!) He went on to explain how he&#39;d located a machine used by the &amp;quot;Onliner Spambot&amp;quot; and pointed me to a path on an IP address with directory listing enabled:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ve obfuscated a bunch of info here because as of the time of writing, the server is still up and I don&#39;t want to give away any information that could result in the data being spread further. The IP address is actually based in the Netherlands and Benkow and I have been in touch with a trusted source there who&#39;s communicating with law enforcement in an attempt to get it shut down ASAP. Until that time, I&#39;m not going to share file names in their entirety although I&#39;ll certainly describe anything of relevance in them.&lt;&#x2F;p&gt;
&lt;p&gt;Before I dive into the data, &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;benkowlab.blogspot.com.au&#x2F;2017&#x2F;08&#x2F;from-onliner-spambot-to-millions-of.html&quot;&gt;Benkow has posted a dedicated piece on the mechanics of this spambot&lt;&#x2F;a&gt; that&#39;s worth a read. You can also find &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.zdnet.com&#x2F;article&#x2F;onliner-spambot-largest-ever-malware-campaign-millions&#x2F;&quot;&gt;a great story on ZDNet from Zack Whittaker&lt;&#x2F;a&gt; which is a good overview of the situation. The gap I want to fill here is to explain what I can about the data because there&#39;ll be a very large number of people finding themselves on HIBP and wondering what an earth is going on. If you haven&#39;t already read Benkow&#39;s piece, there&#39;s 2 important classes of data you need to understand:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Email addresses. That&#39;s it - just masses and masses of email addresses used to deliver spam to. In some cases, a single file may contain tens or even hundreds of millions of addresses.&lt;&#x2F;li&gt;
&lt;li&gt;Email addresses and passwords. Benkow explains that these are used in an attempt to abuse the owners&#39; SMTP server in order to deliver spam. I also believe that many of these may simply be aggregations from various other breach sources I&#39;ll talk about a little later on.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;Getting on to the data itself, the first place to start is with an uncomfortable truth: my email address is in there. Twice:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;That first file is the 14GB one from the earlier directly listing whilst the second is 131MB. In many cases, I found the same data in both the former larger file and a subsequent smaller one. Interestingly, as you can see from the suffix above, both refer to &amp;quot;UK&amp;quot; (I&#39;m certainly not from the United Kingdom) whilst others refer to &amp;quot;AU&amp;quot; (although I&#39;m not in there). There are no other 2 letter country codes represented in the file names but clearly when we&#39;re talking many hundreds of millions of addresses here, a heap of them are from other locations so take those suffixes with a grain of salt.&lt;&#x2F;p&gt;
&lt;p&gt;One of the files with the &amp;quot;NewFile_&amp;quot; prefix contained over 43k rows associated with the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.rms.nsw.gov.au&#x2F;&quot;&gt;Roads and Maritime Services&lt;&#x2F;a&gt; of my neighbouring state here in Australia:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;Every row contains &lt;a href&#x3D;&quot;mailto:RMSETollDontReply@rms.nsw.gov.au&quot;&gt;RMSETollDontReply@rms.nsw.gov.au&lt;&#x2F;a&gt; in quotes followed by &amp;quot;support@&amp;quot; and then predominantly .com.au domains, albeit with over 13k .ru domains. This email address is used to send notifications relating to the &amp;quot;E-Tag&amp;quot; device installed on your car windscreen so that you can pay tolls. I know this because I&#39;ve received a bunch of them in the past:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;I&#39;ll take a stab at it and say that there&#39;s not many legitimate drivers using the New South Wales toll road system with Russian email addresses! Clearly, the constant alias on every one of these accounts is auto-generated. Interestingly, I saw a similar pattern with &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;PwnedWebsites#B2BUSABusinesses&quot;&gt;the B2B USA Businesses&lt;&#x2F;a&gt; spam list I loaded last month with many comments like this:&lt;&#x2F;p&gt;
&lt;blockquote&gt;&lt;p&gt;I received a domain alert on this one. Went through the process, turned out to be an invented address (sales@domain). Address doesn&#39;t exist.&lt;&#x2F;p&gt;— Peter Bance (@peterbance) &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;twitter.com&#x2F;peterbance&#x2F;status&#x2F;887795931143430144&quot;&gt;July 19, 2017&lt;&#x2F;a&gt;&lt;&#x2F;blockquote&gt;

&lt;p&gt;There&#39;s also some pretty poorly parsed data in there which I suspect may have been scraped off the web. For example, &lt;a href&#x3D;&quot;mailto:Employees-bringing-in-their-own-electrical-appliances.htmlmark.cornish@bowelcanceruk.org.uk&quot;&gt;Employees-bringing-in-their-own-electrical-appliances.htmlmark.cornish@bowelcanceruk.org.uk&lt;&#x2F;a&gt; appears twice:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;The first file is the same one my own email address was in and the second is the same file name structure albeit with a different number in it. And if you&#39;re wondering why I&#39;ve publicly listed someone else&#39;s address, it&#39;s because &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.yumpu.com&#x2F;en&#x2F;document&#x2F;view&#x2F;45572519&#x2F;job-description-bowel-cancer-uk-database-officer-about-bowel-&#x2F;2&quot;&gt;it&#39;s already publicly listed&lt;&#x2F;a&gt;:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;But of course, the data in the dump has a bunch of junk prefixed to the address, junk which appears to be an HTML file name and may indicate the &amp;quot;address&amp;quot; was scraped off the web and the parsing simply wasn&#39;t done very well. The point here is that there&#39;s going to be a bunch of addresses here that simply aren&#39;t very well-formed so whilst the &amp;quot;711 million&amp;quot; headline is technically accurate, the number of real humans in the data is going to be somewhat less.&lt;&#x2F;p&gt;
&lt;p&gt;And then we get into passwords. One file is named numerically and contains 1.2m rows like this:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;A random selection of a dozen different email addresses checked against HIBP showed that &lt;em&gt;every single one of them&lt;&#x2F;em&gt; was in the LinkedIn data breach. Now this is interesting because assuming that&#39;s the source, all those passwords were exposed as SHA1 hashes (no salt) so it&#39;s quite possible these are just a small sample of the 164m addresses that were in there and had readily crackable passwords.&lt;&#x2F;p&gt;
&lt;p&gt;A similar file (with a similar naming structure) contains 4.2m email address and password pairs, this time with every single account having a hit on &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;password-reuse-credential-stuffing-and-another-1-billion-records-in-have-i-been-pwned&#x2F;&quot;&gt;the massive Exploit.In combo list&lt;&#x2F;a&gt;. This should give you an appreciation of how our data is redistributed over and over again once it&#39;s out there in the public domain.&lt;&#x2F;p&gt;
&lt;p&gt;Other files have equal or even greater numbers; one has 29m rows of email address and password pairs, the former of which consistently shows up in HIBP, albeit without an exclusive data breach pattern per the previous two examples. Another is named in a fashion that suggests it&#39;s a large Aussie set of addresses and true to its name, there&#39;s 12.5m rows in there which would mean roughly one per every 2 people in the country. A large portion of those don&#39;t show up in HIBP at all, including the 379k .gov.au ones which appear to be a mixture of legitimate, fake and malformed addresses.&lt;&#x2F;p&gt;
&lt;p&gt;Yet another file contains over 3k records with email, password, SMTP server and port (&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;docs.mailpoet.com&#x2F;article&#x2F;59-default-ports-numbers-smtp-pop-imap&quot;&gt;both 25 and 587 are common SMTP ports&lt;&#x2F;a&gt;):&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;This immediately illustrates the value of the data: thousands of valid SMTP accounts give the spammer a nice range of mail servers to send their messages from. There are many files like this too; another one contained 142k email addresses, passwords, SMTP servers and ports.&lt;&#x2F;p&gt;
&lt;p&gt;Some of the data was quite a jumble of info, for example the file with 20m rows of Russian email addresses surrounded by what appears to be file names containing SQL:&lt;&#x2F;p&gt;
&lt;p&gt;&lt;&#x2F;p&gt;
&lt;p&gt;And it goes on and on. Email addresses, passwords and SMTP servers and ports spread across tens of gigabytes of files. It took HIBP 110 data breaches over a period of 2 and a half years to accumulate 711m addresses and here we go, in one fell swoop, with that many concentrated in a single location. It&#39;s a mind-boggling amount of data.&lt;&#x2F;p&gt;
&lt;p&gt;The above examples are by no means exhaustive, rather they&#39;re intended to illustrate just how diverse the data is. It helps explain both the massive number of records and the inevitable responses I&#39;ll get of &amp;quot;there are addresses in there which aren&#39;t real&amp;quot;. It also illustrates how broad the sources of data inevitably are; finding yourself in this data set unfortunately doesn&#39;t give you much insight into &lt;em&gt;where&lt;&#x2F;em&gt; your email address was obtained from nor what you can actually do about it. I have no idea how this service got mine, but even for me with all the data I see doing what I do, there was still a moment where I went &amp;quot;ah, this helps explain all the spam I get&amp;quot;. And that&#39;s the unfortunate reality for all of us: our email addresses are a simple commodity that&#39;s shared and traded with reckless abandon, used by unscrupulous parties to bombard us with everything from Viagra offers to promises of Nigerian prince wealth. That, unfortunately, is life on the web today.&lt;&#x2F;p&gt;
&lt;p&gt;All 711 million records &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;&quot;&gt;are now searchable in HIBP&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Edit 1:&lt;&#x2F;strong&gt; For the folks asking for passwords (or if one was present for the account), please read &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;here-are-all-the-reasons-i-dont-make-passwords-available-via-have-i-been-pwned&#x2F;&quot;&gt;Here are all the reasons I don&#39;t make passwords available via Have I been pwned&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Edit 2:&lt;&#x2F;strong&gt; For those asking for an indication of whether a password exists for an email address or not, there are several major challenges with this:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;The source data is in such a mess the parsing would be a nightmare. At present, I just point a regex at it and suck the email addresses out.&lt;&#x2F;li&gt;
&lt;li&gt;If I &lt;em&gt;could&lt;&#x2F;em&gt; readily pull all the passwords and indicate whether it existed or not, I&#39;d still be bombarded with requests for &amp;quot;can I please have the password&amp;quot; which brings us back to the previous edit.&lt;&#x2F;li&gt;
&lt;li&gt;Looking at this more generally, data breaches frequently have a broad range of attributes (the &amp;quot;Compromised data&amp;quot; section on each breach listed on the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;haveibeenpwned.com&#x2F;PwnedWebsites&quot;&gt;Who&#39;s been pwned page&lt;&#x2F;a&gt;. Indicating which attribute was present on each account would be extremely time consuming.&lt;&#x2F;li&gt;
&lt;li&gt;I simply don&#39;t have a construct for this in HIBP at present. This would be a ground-up new feature.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;For this particular incident, if you&#39;re creating strong, unique passwords on each service (get a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;www.troyhunt.com&#x2F;only-secure-password-is-one-you-cant&#x2F;&quot;&gt;password manager&lt;&#x2F;a&gt; if you don&#39;t have one already) and using multi-step verification wherever possible, I wouldn&#39;t be at all worried. If you&#39;re not, now&#39;s a great time to start!&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;Edit 3:&lt;&#x2F;strong&gt; Regarding those asking &amp;quot;what do I do now&amp;quot;, you&#39;ll fall into one of two camps:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;If you&#39;re using a password manager and creating genuinely strong, unique passwords everywhere, I wouldn&#39;t be in the least bit worried. The sources of this list are from various legacy incidents, for example LinkedIn which hashed passwords. Yes, it was only SHA1 without a salt, your 20+ char random password still isn&#39;t getting cracked. Every password I saw in the data set was weak; I didn&#39;t see any evidence to suggest there were plain text data sources.&lt;&#x2F;li&gt;
&lt;li&gt;If you&#39;re not already using a password manager, start now. &lt;em&gt;Now!&lt;&#x2F;em&gt; You&#39;ve already had weak passwords exposed (which they almost certainly are if you&#39;re not using a password manager), and they&#39;ve been out there for some time. Go and grab &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;1password.com&#x2F;&quot;&gt;1Password&lt;&#x2F;a&gt; and spend a couple of hours learning to use it and changing the passwords of your most important accounts now and everything else as time permits.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;Further to that, regardless of which camp you&#39;re in, enable multi-step verification on &lt;em&gt;everything&lt;&#x2F;em&gt;. Even if your password is exposed (either because it&#39;s weak or was stored by the site in plain text), this renders the credentials alone absolutely useless.&lt;&#x2F;p&gt;
&lt;p&gt;None of this is hard, it requires just a little bit of effort and makes a fundamental difference to your security profile.&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;</content>
    <link rel="alternate" href="http://feedproxy.google.com/~r/TroyHunt/~3/trlyP1Wux7g/"/>
    <published>2017-08-29T19:31:34.000Z</published>
  </entry>
  <entry>
    <title>The Why and How of Google AMP at Condé Nast | Condé Nast Technology</title>
    <content type="html">Google AMP aims to provide a better experience for the mobile web. Let’s explore the motivations, technology, and outcomes of the AMP implementation at Condé Nast.</content>
    <link rel="alternate" href="https://technology.condenast.com/story/the-why-and-how-of-google-amp-at-conde-nast"/>
    <published>2017-08-29T14:49:48.000Z</published>
  </entry>
  <entry>
    <title>Flash, Bang! | Fourmilog - Fourmilab Change Log</title>
    <content type="html">Last Thursday, 2017-08-24, was interesting. I was programming away when, as often occurs in the mid-afternoon here in the summer, thunderheads boiled up above the Jura, the sky darkened, and before long a full-on thunderboomer complete with high winds, torrential rain, and plenty of flashes and bangs was underway.

&lt;p&gt;

Then, &lt;em&gt;&lt;b&gt;flash, bang!&lt;&#x2F;b&gt;&lt;&#x2F;em&gt;  When you perceive them at exactly the same time, it&#39;s never a good sign. Instantaneously, the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.dell.com&#x2F;ed&#x2F;business&#x2F;p&#x2F;dell-up3017-monitor&#x2F;pd&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;auxiliary monitor&lt;&#x2F;a&gt; on my development machine emitted a crack and went black. The UPS units all went on battery, but quickly came back on line. I suspect the event they detected was not a power outage but a transient due to the lightning strike. After about five seconds, the monitor lit back up as if nothing had happened.

&lt;&#x2F;p&gt;&lt;p&gt;

So far, so good. Further along, not so good. The phone next to the computer, which is connected to Fourmilab&#39;s Alcatel OmniPCX phone central was completely dead: even the LCD display was blank. All of the other phones connected to the central were equally &lt;em&gt;hors de combat&lt;&#x2F;em&gt;. The main &lt;a href&#x3D;&quot;&#x2F;fourmilog&#x2F;archives&#x2F;2008-07&#x2F;001024.html&quot; target&#x3D;&quot;Fourmilog_Aux&quot;&gt;Fourmilab fibre optic connection&lt;&#x2F;a&gt; to the Internet wasn&#39;t perturbed at all, but the backup Swisscom ADSL connection was dead, and its router responded by butting in to new connections and diverting them to its &amp;quot;landing page&amp;quot; until I pulled the plug.

&lt;&#x2F;p&gt;&lt;p&gt;

This isn&#39;t the first time something like this has happened. When you live on a plateau 806 metres above sea level just downwind of the first serious mountain range moist air encounters after crossing France and being heated, summer thunderstorms are part of the deal. (Although I don&#39;t keep detailed records, I think this is about the eighth time Fourmilab has been struck by lightning resulting in damage to electronics. Once is chance; twice is coincidence; three times is enemy action; —eight—
you must&#39;ve really made old thunderhammer quite irate.)

&lt;&#x2F;p&gt;&lt;p&gt;

All of the power and telephone lines are buried, and protected with state of the art lightning arrestors, and all non-resistive electrical loads are connected to UPS units. The problem is nearby strikes which are conducted to ground by the protection, but which, in doing so, induce currents in data cables parallel to them. You can do everything right, but when you&#39;re talking about hundreds of thousands of amperes, all of your remediation does about as much good as a &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Tin_foil_hat&quot; target&#x3D;&quot;Fourmlog_Aux&quot;&gt;tinfoil hat&lt;&#x2F;a&gt;.

&lt;&#x2F;p&gt;&lt;p&gt;

&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Lightning_rod&quot; target&#x3D;&quot;Fourmlog_Aux&quot;&gt;Lightning rods&lt;&#x2F;a&gt; on buildings don&#39;t help. They may protect the building, but the cone of protection doesn&#39;t extend sufficiently far to guard against ground strikes which get into telephone wires. You could put up lightning protection masts like they use around rocket launch pads, but it would be difficult to get the neighbours to approve.

&lt;&#x2F;p&gt;&lt;p&gt;

Here is what happens when lightning gets into a data cable between two buildings. First. here&#39;s the connector into which the cable was plugged.

&lt;&#x2F;p&gt;&lt;p&gt;

&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.fourmilab.ch&#x2F;fourmilog&#x2F;archives&#x2F;2017&#x2F;08&#x2F;29&#x2F;foudre_2017-08-28a.jpg&quot;&gt;&lt;&#x2F;a&gt;

&lt;&#x2F;p&gt;&lt;p&gt;

It was port 2 that was hit. Note how the metal at the top of the connector has been melted and the conductors blackened by smoke. The smoke above the connector was the tip-off, and more visible to the eye than in this picture.

&lt;&#x2F;p&gt;&lt;p&gt;

Here&#39;s the cable:

&lt;&#x2F;p&gt;&lt;p&gt;



&lt;&#x2F;p&gt;&lt;p&gt;

You can see the smoke staining the plastic of the connector. There are also smoke stains on the metal sides of the connector, but they don&#39;t show up well since it&#39;s a specular reflector.

&lt;&#x2F;p&gt;&lt;p&gt;

I&#39;d like to say that everything has been resolved and all is well, but it&#39;s not. There&#39;s a lot more time to be consumed in remediation of this event. What can you do to keep this from happening to you? &lt;em&gt;Don&#39;t get struck by lightning!&lt;&#x2F;em&gt;  Other than moving to somewhere the risk is lower, there&#39;s little more that can be done.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="http://www.fourmilab.ch/fourmilog/archives/2017-08/001707.html"/>
    <published>2017-08-29T13:53:51.000Z</published>
  </entry>
  <entry>
    <title>How JSON decoding works in Elm—Part 3 | 8th Light Blog</title>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;Elm approaches JSON much differently than languages like JavaScript and Ruby.
Elm&#39;s built-in functions don&#39;t offer the immediate convenience of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Global_Objects&#x2F;JSON&#x2F;parse&quot;&gt;&lt;code&gt;JSON.parse&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;.
You&#39;ll find built-in &lt;code&gt;Decoder&lt;&#x2F;code&gt;s for the basic types, like &lt;code&gt;String&lt;&#x2F;code&gt; and &lt;code&gt;Int&lt;&#x2F;code&gt;,
but there is no single function that says &amp;quot;just grab whatever is in this HTTP response.&amp;quot;
Instead, the standard library takes a modular approach,
providing a few building blocks that can be arbitrarily composed.
This design makes Elm&#39;s JSON decoding (or parsing) flexible and precise.
Over the next few posts, we will discover this ourselves
by implementing a simplified version of the &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;package.elm-lang.org&#x2F;packages&#x2F;elm-lang&#x2F;core&#x2F;5.1.1&#x2F;Json-Decode&quot;&gt;&lt;code&gt;Json.Decode&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; module.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;

&lt;p&gt;In the &lt;a href&#x3D;&quot;&#x2F;blog&#x2F;kofi-gumbs&#x2F;2017&#x2F;07&#x2F;17&#x2F;elm-json-decoding-data-structures.html&quot;&gt;last post&lt;&#x2F;a&gt;, we learned how to compose &lt;code&gt;Decoder&lt;&#x2F;code&gt;s
in order to model JSON values that contain other JSON values.
So far, however, we&#39;ve only been able to extract built-in types,
like &lt;code&gt;String&lt;&#x2F;code&gt;, &lt;code&gt;Int&lt;&#x2F;code&gt;, and &lt;code&gt;List&lt;&#x2F;code&gt;.
Now we&#39;ll make our module a bit friendlier by letting users build custom types
and providing great error messages as they do so!&lt;&#x2F;p&gt;

&lt;h3&gt;A map from A to B&lt;&#x2F;h3&gt;

&lt;p&gt;Let&#39;s begin by looking at the type signature for &lt;code&gt;Json.Decode.map&lt;&#x2F;code&gt;:&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;map : (a -&amp;gt; b) -&amp;gt; Decoder a -&amp;gt; Decoder b
map _ _ &#x3D;
    Debug.crash &amp;quot;TODO&amp;quot;

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;1
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;The &lt;code&gt;map&lt;&#x2F;code&gt; function allows us to transform the type of our decoder
by providing a function &lt;em&gt;from&lt;&#x2F;em&gt; the current type, &lt;em&gt;to&lt;&#x2F;em&gt; the target type.
Suppose we have a &lt;code&gt;UserId&lt;&#x2F;code&gt; type with a constructor that takes an &lt;code&gt;Int&lt;&#x2F;code&gt;.
We can create a &lt;code&gt;Decoder UserId&lt;&#x2F;code&gt; like so:&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;type UserId &#x3D;
    UserId Int

userIdDecoder : Decoder UserId
userIdDecoder &#x3D;
    map UserId int

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;2
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;Hey, that looks like a good opportunity for a test case!&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;test &amp;quot;decodes a user id&amp;quot; &amp;lt;|
    \_ -&amp;gt;
        decodeValue userIdDecoder (Jnumber 123)
            |&amp;gt; Expect.equal (Ok (UserId 123))

map : (a -&amp;gt; b) -&amp;gt; Decoder a -&amp;gt; Decoder b
map transform (Decoder parameterAttempt) &#x3D;
    let
        attemptToDecode value &#x3D;
            Debug.crash &amp;quot;TODO&amp;quot;
    in
        Decoder attemptToDecode

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;4
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;Let&#39;s pause and observe the variables to which we have access.&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;value&lt;&#x2F;code&gt; has type &lt;code&gt;Value&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;parameterAttempt&lt;&#x2F;code&gt; has type &lt;code&gt;Value -&amp;gt; Result String a&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;transform&lt;&#x2F;code&gt; has type &lt;code&gt;a -&amp;gt; b&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;attemptToDecode&lt;&#x2F;code&gt; &lt;em&gt;must&lt;&#x2F;em&gt; have type &lt;code&gt;Value -&amp;gt; Result String b&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;The breakdown above should make it clear how we can use the
available functions to fill in the body of &lt;code&gt;attemptToDecode&lt;&#x2F;code&gt;.
Our &lt;code&gt;value&lt;&#x2F;code&gt; must first be decoded with &lt;code&gt;parameterAttempt&lt;&#x2F;code&gt;,
so that we can have access to the &lt;code&gt;Result String a&lt;&#x2F;code&gt;.
Once we have it, we can just use our &lt;code&gt;transform&lt;&#x2F;code&gt; function to create the correct type.
As it happens, the &lt;code&gt;Result&lt;&#x2F;code&gt; type has its own &lt;code&gt;map&lt;&#x2F;code&gt; function,
which is perfect for this situation.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;map : (a -&amp;gt; b) -&amp;gt; Decoder a -&amp;gt; Decoder b
map transform (Decoder parameterAttempt) &#x3D;
    let
        attemptToDecode value &#x3D;
            parameterAttempt value
                |&amp;gt; Result.map transform
    in
        Decoder attemptToDecode

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;5
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;h3&gt;Decode this &lt;code&gt;andThen&lt;&#x2F;code&gt; decode that&lt;&#x2F;h3&gt;

&lt;p&gt;Imagine that we want to validate the &lt;code&gt;UserId&lt;&#x2F;code&gt; type introduced above
since negative id&#39;s do not make much sense in our app.
It would be nice if we could model this invariant in our &lt;code&gt;Decoder&lt;&#x2F;code&gt;,
so that it is not even possible to create a bad &lt;code&gt;UserId&lt;&#x2F;code&gt;.
Well, that&#39;s exactly what &lt;code&gt;succeed&lt;&#x2F;code&gt;, &lt;code&gt;fail&lt;&#x2F;code&gt;, and &lt;code&gt;andThen&lt;&#x2F;code&gt; let us do.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;succeed : a -&amp;gt; Decoder a
succeed _ &#x3D;
    Debug.crash &amp;quot;TODO&amp;quot;

fail : String -&amp;gt; Decoder a
fail _ &#x3D;
    Debug.crash &amp;quot;TODO&amp;quot;

andThen : (a -&amp;gt; Decoder b) -&amp;gt; Decoder a -&amp;gt; Decoder b
andThen _ _ &#x3D;
    Debug.crash &amp;quot;TODO&amp;quot;

userIdDecoder : Decoder UserId
userIdDecoder &#x3D;
    let
        ensurePositive n &#x3D;
            if n &amp;gt; 0 then
                succeed (UserId n)
            else
                fail &amp;quot;Need a positive number&amp;quot;
    in
        int |&amp;gt; andThen ensurePositive

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;6
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;These functions let us decode with much more precision
because we can now filter according to our own rules.
Quite exciting!&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;test &amp;quot;fails to decode a negative number&amp;quot; &amp;lt;|
    \_ -&amp;gt;
        decodeValue userIdDecoder (Jnumber -5)
            |&amp;gt; Expect.equal (Err &amp;quot;Need a positive number&amp;quot;)

succeed : a -&amp;gt; Decoder a
succeed a &#x3D;
    Decoder (\_ -&amp;gt; Ok a)

fail : String -&amp;gt; Decoder a
fail reason &#x3D;
    Decoder (\_ -&amp;gt; Err reason)

andThen : (a -&amp;gt; Decoder b) -&amp;gt; Decoder a -&amp;gt; Decoder b
andThen transform (Decoder parameterAttempt) &#x3D;
    let
        attemptToDecode value &#x3D;
            parameterAttempt value
                |&amp;gt; Result.map (\param -&amp;gt; Debug.crash &amp;quot;What here?!&amp;quot;)
    in
        Decoder attemptToDecode

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;7
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;&lt;code&gt;succeed&lt;&#x2F;code&gt; and &lt;code&gt;fail&lt;&#x2F;code&gt; allow us to create &lt;code&gt;Decoder&lt;&#x2F;code&gt;s with predefined behavior,
regardless of the &lt;code&gt;Value&lt;&#x2F;code&gt; used as input.
&lt;code&gt;andThen&lt;&#x2F;code&gt; is a little trickier though.
The type signature &lt;em&gt;almost&lt;&#x2F;em&gt; looks like that of &lt;code&gt;map&lt;&#x2F;code&gt;,
and we can get pretty far copying that general structure.
Let&#39;s pause again to reflect on the variables in scope:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;param&lt;&#x2F;code&gt; has type &lt;code&gt;a&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;transform&lt;&#x2F;code&gt; has type &lt;code&gt;a -&amp;gt; Decoder b&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;attemptToDecode&lt;&#x2F;code&gt; &lt;em&gt;must&lt;&#x2F;em&gt; have type &lt;code&gt;Value -&amp;gt; Result String b&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;The types tell us that we can use &lt;code&gt;transform param&lt;&#x2F;code&gt; to get a &lt;code&gt;Decoder b&lt;&#x2F;code&gt;,
but we actually need to return a &lt;code&gt;Result String b&lt;&#x2F;code&gt;.
That means we need a function that takes a &lt;code&gt;Decoder b&lt;&#x2F;code&gt; and returns a &lt;code&gt;Result String b&lt;&#x2F;code&gt;...
We have that function already: &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;package.elm-lang.org&#x2F;packages&#x2F;elm-lang&#x2F;core&#x2F;5.1.1&#x2F;Json-Decode#decodeValue&quot;&gt;&lt;code&gt;decodeValue&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;!
We&#39;ll also take advantage of &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;package.elm-lang.org&#x2F;packages&#x2F;elm-lang&#x2F;core&#x2F;5.1.1&#x2F;Result#andThen&quot;&gt;&lt;code&gt;Result.andThen&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;, to flatten out our &lt;code&gt;Result&lt;&#x2F;code&gt;.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;andThen : (a -&amp;gt; Decoder b) -&amp;gt; Decoder a -&amp;gt; Decoder b
andThen transform (Decoder parameterAttempt) &#x3D;
    let
        attemptToDecode value &#x3D;
            parameterAttempt value
                |&amp;gt; Result.andThen (\param -&amp;gt; decodeValue (transform param) value)
    in
        Decoder attemptToDecode

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;8
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;h3&gt;Helpful errors: Elm&#39;s secret sauce&lt;&#x2F;h3&gt;

&lt;p&gt;Thus far we&#39;ve glossed over one major feature of Elm&#39;s &lt;code&gt;Json.Decode&lt;&#x2F;code&gt; library:
great error messaging.
For instance &lt;code&gt;decodeString (field &amp;quot;a&amp;quot; (list string)) &amp;quot;&amp;quot;&amp;quot;{&amp;quot;a&amp;quot;: [&amp;quot;x&amp;quot;, 123]}&amp;quot;&amp;quot;&amp;quot;&lt;&#x2F;code&gt;
will fail with a helpful message: &lt;code&gt;&amp;quot;Expecting a String at _.a[1] but instead got: 123&amp;quot;&lt;&#x2F;code&gt;.
This error is quite specific
because Elm has pinpointed exactly where the decoding went wrong.
Our module, in contrast, would return &lt;code&gt;&amp;quot;not a string&amp;quot;&lt;&#x2F;code&gt;.
Let&#39;s take a stab at better error messages by keeping track of an error context.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;type Decoder &#x3D;
    Decoder (String -&amp;gt; Value -&amp;gt; Result String a)

decodeValue : Decoder a -&amp;gt; Value -&amp;gt; Result String a
decodeValue &#x3D;
    runDecoder &amp;quot;_&amp;quot;

runDecoder : String -&amp;gt; Decoder a -&amp;gt; Value -&amp;gt; Result String a
runDecoder context (Decoder attemptToDecode) value &#x3D;
    attemptToDecode context value

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;9
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;This change to the &lt;code&gt;Decoder&lt;&#x2F;code&gt; type forces a number of changes inside of our module.
All of our &lt;code&gt;attemptToDecode&lt;&#x2F;code&gt; helpers must now take an additional &lt;code&gt;String&lt;&#x2F;code&gt; parameter,
which I am calling &lt;code&gt;context&lt;&#x2F;code&gt;.
With those mechanical changes out of the way,
we can write a test for the error messaging we want to see.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;test &amp;quot;better error messaging&amp;quot; &amp;lt;|
    \_ -&amp;gt;
        Jobject (Dict.singleton &amp;quot;a&amp;quot; (Jarray [Jstring &amp;quot;x&amp;quot;, Jnumber 123]))
            |&amp;gt; decodeValue (field &amp;quot;a&amp;quot; (list string))
            |&amp;gt; Expect.equal (Err &amp;quot;Expecting a String at _.a[1] but instead got: 123&amp;quot;)

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;10
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;We&#39;ll start by adjusting the implementation of &lt;code&gt;string&lt;&#x2F;code&gt;
to take advantage of the new &lt;code&gt;context&lt;&#x2F;code&gt; parameter.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;string : Decoder String
string &#x3D;
    let
        attemptToDecode context value &#x3D;
            case value of
                Jstring foundIt -&amp;gt;
                    Ok foundIt
                _ -&amp;gt;
                    Err &amp;lt;|
                        &amp;quot;Expecting a String at &amp;quot;
                            ++ context
                            ++ &amp;quot; but instead got: &amp;quot;
                            ++ givenString value
    in
        Decoder attemptToDecode

givenString : Value -&amp;gt; String
givenString value &#x3D;
    case value of
        Jnumber foundIt -&amp;gt;
            toString foundIt
        _ -&amp;gt;
            Debug.crash &amp;quot;TODO&amp;quot;

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;11
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;Running the tests at this point reveals that we are very close:&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;Err &amp;quot;Expecting a String at _.a[1] but instead got: 123&amp;quot;
╷
│ Expect.equal
╵
Err &amp;quot;Expecting a String at TODO but instead got: 123&amp;quot;
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;Now we need to build up the &lt;code&gt;context&lt;&#x2F;code&gt; inside the decoders that we wrote in the
&lt;a href&#x3D;&quot;&#x2F;blog&#x2F;kofi-gumbs&#x2F;2017&#x2F;07&#x2F;17&#x2F;elm-json-decoding-data-structures.html&quot;&gt;last post&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;div&gt;&lt;pre&gt;&lt;code&gt;field : String -&amp;gt; Decoder a -&amp;gt; Decoder a
field key (Decoder parameterAttempt) &#x3D;
    let
        -- The new part: building error message context
        withDot context value &#x3D;
            parameterAttempt (context ++ &amp;quot;.&amp;quot; ++ key) value

        decodeKey context object &#x3D;
            Dict.get key object
                |&amp;gt; Result.fromMaybe &amp;quot;TODO&amp;quot;
                |&amp;gt; Result.andThen (withDot context)

        attemptToDecode context value &#x3D;
            case value of
                Jobject foundIt -&amp;gt;
                    decodeKey context foundIt
                _ -&amp;gt;
                    Err &amp;quot;TODO&amp;quot; -- we can use &#x60;givenString&#x60; here
    in
        Decoder attemptToDecode

list : Decoder a -&amp;gt; Decoder (List a)
list (Decoder parameterAttempt) &#x3D;
    let
        -- The new part: building error message context
        withBrackets context i value &#x3D;
            parameterAttempt (context ++ &amp;quot;[&amp;quot; ++ toString i ++ &amp;quot;]&amp;quot;) value

        collectResults next all &#x3D;
            Result.map2 (::) next all

        attemptToDecode context value &#x3D;
            case value of
                Jarray foundIt -&amp;gt;
                    List.indexedMap (withBrackets context) foundIt
                        |&amp;gt; List.foldr collectResults (Ok [])
                _ -&amp;gt;
                    Err &amp;quot;TODO&amp;quot; -- we can use &#x60;givenString&#x60; here
    in
        Decoder attemptToDecode

-- TRY IT OUT: https:&#x2F;&#x2F;ellie-app.com&#x2F;43yWY6hWbVfa1&#x2F;12
&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;div&gt;
&lt;p&gt;And we&#39;re passing!
Of course, there is much left &lt;code&gt;TODO&lt;&#x2F;code&gt;,
but we&#39;ve now developed a structure to easily build up these error contexts.
The next step is to determine the error message that would be most helpful
in each of those cases.
This sort of work is required for a good API,
but it does not fit within the scope of this blog series.&lt;&#x2F;p&gt;

&lt;hr &#x2F;&gt;

&lt;p&gt;I&#39;ve mentioned &amp;quot;the immediate convenience of &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;JavaScript&#x2F;Reference&#x2F;Global_Objects&#x2F;JSON&#x2F;parse&quot;&gt;&lt;code&gt;JSON.parse&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;&amp;quot; in all three posts,
but we have not taken the opportunity to reflect on that claim.
In JavaScript and Ruby, a successful call to &lt;code&gt;JSON.parse&lt;&#x2F;code&gt;
only means that the input was valid JSON.
Once you have the data, &lt;strong&gt;you still need code to ensure it is well-formed for &lt;em&gt;your&lt;&#x2F;em&gt; app.&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;

&lt;p&gt;Unfortunately, this step is often skipped—we assume that valid JSON means that the data is in the shape our app&#39;s needs.
This has some unfortunate consequences:&lt;&#x2F;p&gt;

&lt;ul&gt;
&lt;li&gt;When our assumption is incorrect, the fail site is quite far from the &lt;code&gt;JSON.parse&lt;&#x2F;code&gt;&lt;&#x2F;li&gt;
&lt;li&gt;We force our internal structure to fit that of the API&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

&lt;p&gt;Elm&#39;s approach alleviates both of these concerns.
The assumptions in JavaScript and Ruby are now codified as &lt;em&gt;rules&lt;&#x2F;em&gt; in our Elm decoders.
And as we saw above, you will even get a nice error message!
Second, our application data models need not depend on the shape of our JSON.
If a remote field name changes, we just update the string passed into &lt;code&gt;field&lt;&#x2F;code&gt;,
so there&#39;s no need to search our entire app.&lt;&#x2F;p&gt;

&lt;p&gt;JSON decoding is just an example of what I like about Elm:
its thoughtful design encourages clean code.
Hopefully these posts helped you develop both
an intuition for the &lt;em&gt;how&lt;&#x2F;em&gt; behind &lt;code&gt;Json.Decode&lt;&#x2F;code&gt; and an appreciation for the &lt;em&gt;why&lt;&#x2F;em&gt;.&lt;&#x2F;p&gt;</content>
    <link rel="alternate" href="https://8thlight.com/blog/kofi-gumbs/2017/08/29/elm-json-decoding-custom.html"/>
    <published>2017-08-29T05:00:00.000Z</published>
  </entry>
  <entry>
    <title>iPad - Moving to Dropbox for Some Reason | Ron Jeffries</title>
    <content type="html">Chet has me nearly convinced to move my site base to Dropbox. Today we&#39;ll talk further about that and about moving the product forward.</content>
    <link rel="alternate" href="http://ronjeffries.com/articles/017-08ff/ipad-k-db/"/>
    <published>2017-08-29T04:00:00.000Z</published>
  </entry>
</feed>
